/*! For license information please see main-es2015.50d8b4d9857cda23e1a8.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+7AZ":function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return r})),n.d(e,"__assign",(function(){return s})),n.d(e,"__rest",(function(){return o})),n.d(e,"__decorate",(function(){return l})),n.d(e,"__param",(function(){return a})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__createBinding",(function(){return d})),n.d(e,"__exportStar",(function(){return p})),n.d(e,"__values",(function(){return f})),n.d(e,"__read",(function(){return g})),n.d(e,"__spread",(function(){return m})),n.d(e,"__spreadArrays",(function(){return y})),n.d(e,"__await",(function(){return _})),n.d(e,"__asyncGenerator",(function(){return v})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return w})),n.d(e,"__makeTemplateObject",(function(){return C})),n.d(e,"__importStar",(function(){return S})),n.d(e,"__importDefault",(function(){return E})),n.d(e,"__classPrivateFieldGet",(function(){return x})),n.d(e,"__classPrivateFieldSet",(function(){return T}));var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function o(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function l(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function a(t,e){return function(n,i){e(n,i,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,i){return new(n||(n=Promise))((function(r,s){function o(t){try{a(i.next(t))}catch(e){s(e)}}function l(t){try{a(i.throw(t))}catch(e){s(e)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,l)}a((i=i.apply(t,e||[])).next())}))}function h(t,e){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function l(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(l){s=[6,l],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}function d(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}function p(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(i=s.next()).done;)o.push(i.value)}catch(l){r={error:l}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function y(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,l=s.length;o<l;o++,r++)i[r]=s[o];return i}function _(t){return this instanceof _?(this.v=t,this):new _(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(t){r[t]&&(i[t]=function(e){return new Promise((function(n,i){s.push([t,e,n,i])>1||l(t,e)}))})}function l(t,e){try{(n=r[t](e)).value instanceof _?Promise.resolve(n.value.v).then(a,u):c(s[0][2],n)}catch(i){c(s[0][3],i)}var n}function a(t){l("next",t)}function u(t){l("throw",t)}function c(t,e){t(e),s.shift(),s.length&&l(s[0][0],s[0][1])}}function b(t){var e,n;return e={},i("next"),i("throw",(function(t){throw t})),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){e[i]=t[i]?function(e){return(n=!n)?{value:_(t[i](e)),done:"return"===i}:r?r(e):e}:r}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=f(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise((function(i,r){!function(t,e,n,i){Promise.resolve(i).then((function(e){t({value:e,done:n})}),e)}(i,r,(e=t[n](e)).done,e.value)}))}}}function C(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function S(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}function x(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function T(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},0:function(t,e,n){t.exports=n("zUnb")},"30Go":function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return r})),n.d(e,"__assign",(function(){return s})),n.d(e,"__rest",(function(){return o})),n.d(e,"__decorate",(function(){return l})),n.d(e,"__param",(function(){return a})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__createBinding",(function(){return d})),n.d(e,"__exportStar",(function(){return p})),n.d(e,"__values",(function(){return f})),n.d(e,"__read",(function(){return g})),n.d(e,"__spread",(function(){return m})),n.d(e,"__spreadArrays",(function(){return y})),n.d(e,"__await",(function(){return _})),n.d(e,"__asyncGenerator",(function(){return v})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return w})),n.d(e,"__makeTemplateObject",(function(){return C})),n.d(e,"__importStar",(function(){return S})),n.d(e,"__importDefault",(function(){return E})),n.d(e,"__classPrivateFieldGet",(function(){return x})),n.d(e,"__classPrivateFieldSet",(function(){return T}));var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function o(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function l(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function a(t,e){return function(n,i){e(n,i,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,i){return new(n||(n=Promise))((function(r,s){function o(t){try{a(i.next(t))}catch(e){s(e)}}function l(t){try{a(i.throw(t))}catch(e){s(e)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,l)}a((i=i.apply(t,e||[])).next())}))}function h(t,e){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function l(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(l){s=[6,l],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}function d(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}function p(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(i=s.next()).done;)o.push(i.value)}catch(l){r={error:l}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function y(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,l=s.length;o<l;o++,r++)i[r]=s[o];return i}function _(t){return this instanceof _?(this.v=t,this):new _(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(t){r[t]&&(i[t]=function(e){return new Promise((function(n,i){s.push([t,e,n,i])>1||l(t,e)}))})}function l(t,e){try{(n=r[t](e)).value instanceof _?Promise.resolve(n.value.v).then(a,u):c(s[0][2],n)}catch(i){c(s[0][3],i)}var n}function a(t){l("next",t)}function u(t){l("throw",t)}function c(t,e){t(e),s.shift(),s.length&&l(s[0][0],s[0][1])}}function b(t){var e,n;return e={},i("next"),i("throw",(function(t){throw t})),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){e[i]=t[i]?function(e){return(n=!n)?{value:_(t[i](e)),done:"return"===i}:r?r(e):e}:r}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=f(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise((function(i,r){!function(t,e,n,i){Promise.resolve(i).then((function(e){t({value:e,done:n})}),e)}(i,r,(e=t[n](e)).done,e.value)}))}}}function C(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function S(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}function x(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function T(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},NSPt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("wj3C"),r=n("mAIw"),s=n("zVF4"),o=n("q/0M"),l=n("S+S0");function a(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var u,c=a(i),h=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),s.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:s.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),d=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return s.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),p=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new h(e)}}catch(n){}return new d},f=p("localStorage"),g=p("sessionStorage"),m=new o.Logger("@firebase/database"),y=(u=1,function(){return u++}),_=function(t){var e=s.stringToByteArray(t),n=new s.Sha1;n.update(e);var i=n.digest();return s.base64.encodeByteArray(i)},v=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",i=0;i<t.length;i++){var r=t[i];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?n+=v.apply(null,r):n+="object"==typeof r?s.stringify(r):r,n+=" "}return n},b=null,w=!0,C=function(t,e){s.assert(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(m.logLevel=o.LogLevel.VERBOSE,b=m.log.bind(m),e&&g.set("logging_enabled",!0)):"function"==typeof t?b=t:(b=null,g.remove("logging_enabled"))},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===w&&(w=!1,null===b&&!0===g.get("logging_enabled")&&C(!0)),b){var n=v.apply(null,t);b(n)}},E=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];S.apply(void 0,r.__spread([t],e))}},x=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+v.apply(void 0,r.__spread(t));m.error(n)},T=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+v.apply(void 0,r.__spread(t));throw m.error(n),new Error(n)},k=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+v.apply(void 0,r.__spread(t));m.warn(n)},I=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},O="[MIN_NAME]",P="[MAX_NAME]",R=function(t,e){if(t===e)return 0;if(t===O||e===P)return-1;if(e===O||t===P)return 1;var n=K(t),i=K(e);return null!==n?null!==i?n-i==0?t.length-e.length:n-i:-1:null!==i?1:t<e?-1:1},D=function(t,e){return t===e?0:t<e?-1:1},A=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+s.stringify(e))},N=function(t){if("object"!=typeof t||null===t)return s.stringify(t);var e=[];for(var n in t)e.push(n);e.sort();for(var i="{",r=0;r<e.length;r++)0!==r&&(i+=","),i+=s.stringify(e[r]),i+=":",i+=N(t[e[r]]);return i+"}"},L=function(t,e){var n=t.length;if(n<=e)return[t];for(var i=[],r=0;r<n;r+=e)i.push(t.substring(r,r+e>n?n:r+e));return i};function F(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var M,V,z,j,H,U,B,W,q,$,Q=function(t){var e,n,i,r,o;s.assert(!I(t),"Invalid JSON number"),0===t?(n=0,i=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(r=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,i=Math.round(t*Math.pow(2,52-r)-Math.pow(2,52))):(n=0,i=Math.round(t/Math.pow(2,-1074))));var l=[];for(o=52;o;o-=1)l.push(i%2?1:0),i=Math.floor(i/2);for(o=11;o;o-=1)l.push(n%2?1:0),n=Math.floor(n/2);l.push(e?1:0),l.reverse();var a=l.join(""),u="";for(o=0;o<64;o+=8){var c=parseInt(a.substr(o,8),2).toString(16);1===c.length&&(c="0"+c),u+=c}return u.toLowerCase()},G=new RegExp("^-?(0*)\\d{1,10}$"),K=function(t){if(G.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Z=function(t){try{t()}catch(e){setTimeout((function(){throw k("Exception was thrown by user callback.",e.stack||""),e}),Math.floor(0))}},Y=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},X=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[n]=this.pieces_[i],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!1,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],i=this.pieceNum_;i<this.pieces_.length;i++)n.push(this.pieces_[i]);if(e instanceof t)for(i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{var r=e.split("/");for(i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var i=e.getFront(),r=n.getFront();if(null===i)return n;if(i===r)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),i=e.slice(),r=0;r<n.length&&r<i.length;r++){var s=R(n[r],i[r]);if(0!==s)return s}return n.length===i.length?0:n.length<i.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),J=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=s.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=s.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=s.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),tt=function(){function t(t,e,n,i,r,s,o){void 0===r&&(r=!1),void 0===s&&(s=""),void 0===o&&(o=!1),this.secure=e,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=f.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&f.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(s.assert("string"==typeof t,"typeof type must == string"),s.assert("object"==typeof e,"typeof params must == object"),"websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if("long_polling"!==t)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var i=[];return F(e,(function(t,e){i.push(t+"="+e)})),n+i.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}(),et=function(t,e){var n=nt(t),i=n.namespace;return"firebase.com"===n.domain&&T(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),i&&"undefined"!==i||"localhost"===n.domain||T("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&k("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new tt(n.host,n.secure,i,e,"ws"===n.scheme||"wss"===n.scheme,"",i!==n.subdomain),path:new X(n.pathString)}},nt=function(t){var e="",n="",i="",s="",o="",l=!0,a="https",u=443;if("string"==typeof t){var c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));var h=t.indexOf("/");-1===h&&(h=t.length);var d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(s=function(t){for(var e="",n=t.split("/"),i=0;i<n.length;i++)if(n[i].length>0){var r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(s){}e+="/"+r}return e}(t.substring(h,d)));var p=function(t){var e,n,i={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var s=r.__values(t.split("&")),o=s.next();!o.done;o=s.next()){var l=o.value;if(0!==l.length){var a=l.split("=");2===a.length?i[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):k("Invalid query segment '"+l+"' in query '"+t+"'")}}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return i}(t.substring(Math.min(t.length,d)));(c=e.indexOf(":"))>=0?(l="https"===a||"wss"===a,u=parseInt(e.substring(c+1),10)):c=e.length;var f=e.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{var g=e.indexOf(".");i=e.substring(0,g).toLowerCase(),n=e.substring(g+1),o=i}"ns"in p&&(o=p.ns)}return{host:e,port:u,domain:n,subdomain:i,secure:l,scheme:a,pathString:s,namespace:o}},it=/[\[\].#$\/\u0000-\u001F\u007F]/,rt=/[\[\].#$\u0000-\u001F\u007F]/,st=function(t){return"string"==typeof t&&0!==t.length&&!it.test(t)},ot=function(t){return"string"==typeof t&&0!==t.length&&!rt.test(t)},lt=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!I(t)||t&&"object"==typeof t&&s.contains(t,".sv")},at=function(t,e,n,i,r){r&&void 0===n||ut(s.errorPrefix(t,e,r),n,i)},ut=function(t,e,n){var i=n instanceof X?new J(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+i.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+i.toErrorString()+" with contents = "+e.toString());if(I(e))throw new Error(t+"contains "+e.toString()+" "+i.toErrorString());if("string"==typeof e&&e.length>10485760/3&&s.stringLength(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+i.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var r=!1,o=!1;if(F(e,(function(e,n){if(".value"===e)r=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!st(e)))throw new Error(t+" contains an invalid key ("+e+") "+i.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(e),ut(t,n,i),i.pop()})),r&&o)throw new Error(t+' contains ".value" child '+i.toErrorString()+" in addition to actual children.")}},ct=function(t,e,n,i,r){if(!r||void 0!==n){var o=s.errorPrefix(t,e,r);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var l=[];F(n,(function(t,e){var n=new X(t);if(ut(o,e,i.child(n)),".priority"===n.getBack()&&!lt(e))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(n)})),function(t,e){var n,i;for(n=0;n<e.length;n++)for(var r=(i=e[n]).slice(),s=0;s<r.length;s++)if(".priority"===r[s]&&s===r.length-1);else if(!st(r[s]))throw new Error(t+"contains an invalid key ("+r[s]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(X.comparePaths);var o=null;for(n=0;n<e.length;n++){if(i=e[n],null!==o&&o.contains(i))throw new Error(t+"contains a path "+o.toString()+" that is ancestor of another path "+i.toString());o=i}}(o,l)}},ht=function(t,e,n,i){if(!i||void 0!==n){if(I(n))throw new Error(s.errorPrefix(t,e,i)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!lt(n))throw new Error(s.errorPrefix(t,e,i)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},dt=function(t,e,n,i){if(!i||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(s.errorPrefix(t,e,i)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},pt=function(t,e,n,i){if(!(i&&void 0===n||st(n)))throw new Error(s.errorPrefix(t,e,i)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ft=function(t,e,n,i){if(!(i&&void 0===n||ot(n)))throw new Error(s.errorPrefix(t,e,i)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},gt=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ft(t,e,n,i)},mt=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},yt=function(t,e,n){var i=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!st(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==i.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ot(t)}(i))throw new Error(s.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},_t=function(t,e,n,i){if((!i||void 0!==n)&&"boolean"!=typeof n)throw new Error(s.errorPrefix(t,e,i)+"must be a boolean.")},vt=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){s.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),s.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new s.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){s.validateArgCount("OnDisconnect.remove",0,1,arguments.length),mt("OnDisconnect.remove",this.path_),s.validateCallback("OnDisconnect.remove",1,t,!0);var e=new s.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){s.validateArgCount("OnDisconnect.set",1,2,arguments.length),mt("OnDisconnect.set",this.path_),at("OnDisconnect.set",1,t,this.path_,!1),s.validateCallback("OnDisconnect.set",2,e,!0);var n=new s.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){s.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),mt("OnDisconnect.setWithPriority",this.path_),at("OnDisconnect.setWithPriority",1,t,this.path_,!1),ht("OnDisconnect.setWithPriority",2,e,!1),s.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var i=new s.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,i.wrapCallback(n)),i.promise},t.prototype.update=function(t,e){if(s.validateArgCount("OnDisconnect.update",1,2,arguments.length),mt("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,k("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ct("OnDisconnect.update",1,t,this.path_,!1),s.validateCallback("OnDisconnect.update",2,e,!0);var r=new s.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,r.wrapCallback(e)),r.promise},t}(),bt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return s.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),wt=(M="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",V=0,z=[],function(t){var e,n=t===V;V=t;var i=new Array(8);for(e=7;e>=0;e--)i[e]=M.charAt(t%64),t=Math.floor(t/64);s.assert(0===t,"Cannot push at time == 0");var r=i.join("");if(n){for(e=11;e>=0&&63===z[e];e--)z[e]=0;z[e]++}else for(e=0;e<12;e++)z[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)r+=M.charAt(z[e]);return s.assert(20===r.length,"nextPushId: Length should be 20."),r}),Ct=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),St=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Ct(O,t),i=new Ct(O,e);return 0!==this.compare(n,i)},t.prototype.minPost=function(){return Ct.MIN},t}(),Et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return j},set:function(t){j=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return R(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw s.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Ct.MIN},e.prototype.maxPost=function(){return new Ct(P,j)},e.prototype.makePost=function(t,e){return s.assert("string"==typeof t,"KeyIndex indexValue must always be a string."),new Ct(t,j)},e.prototype.toString=function(){return".key"},e}(St),xt=new Et,Tt=function(t){return"number"==typeof t?"number:"+Q(t):"string:"+t},kt=function(t){if(t.isLeafNode()){var e=t.val();s.assert("string"==typeof e||"number"==typeof e||"object"==typeof e&&s.contains(e,".sv"),"Priority must be a string or number.")}else s.assert(t===H||t.isEmpty(),"priority of unexpected type.");s.assert(t===H||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},It=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,s.assert(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),kt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return U},set:function(t){U=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var i=e.getFront();return null===i?n:n.isEmpty()&&".priority"!==i?this:(s.assert(".priority"!==i||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Tt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?Q(this.value_):this.value_,this.lazyHash_=_(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(s.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,i=typeof this.value_,r=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(i);return s.assert(r>=0,"Unknown leaf type: "+n),s.assert(o>=0,"Unknown leaf type: "+i),r===o?"object"===i?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-r},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Ot=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),i=e.node.getPriority(),r=n.compareTo(i);return 0===r?R(t.name,e.name):r},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Ct.MIN},e.prototype.maxPost=function(){return new Ct(P,new It("[PRIORITY-POST]",W))},e.prototype.makePost=function(t,e){var n=B(t);return new Ct(e,new It("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(St)),Pt=function(){function t(t,e,n,i,r){void 0===r&&(r=null),this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];for(var s=1;!t.isEmpty();)if(t=t,s=e?n(t.key,e):1,i&&(s*=-1),s<0)t=this.isReverse_?t.left:t.right;else{if(0===s){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Rt=function(){function t(e,n,i,r,s){this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:At.EMPTY_NODE,this.right=null!=s?s:At.EMPTY_NODE}return t.prototype.copy=function(e,n,i,r,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var i=this,r=n(t,i.key);return(i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return At.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,i;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return At.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Dt=function(){function t(){}return t.prototype.copy=function(t,e,n,i,r){return this},t.prototype.insert=function(t,e,n){return new Rt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),At=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Rt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Rt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,i=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(i=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Pt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Pt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Pt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Pt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Dt,t}(),Nt=Math.log(2),Lt=function(){function t(t){this.count=parseInt(Math.log(t+1)/Nt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Ft=function(t,e,n,i){t.sort(e);var r=function(e,i){var s,o,l=i-e;if(0===l)return null;if(1===l)return s=t[e],o=n?n(s):s,new Rt(o,s.node,Rt.BLACK,null,null);var a=parseInt(l/2,10)+e,u=r(e,a),c=r(a+1,i);return s=t[a],o=n?n(s):s,new Rt(o,s.node,Rt.BLACK,u,c)},s=function(e){for(var i=null,s=null,o=t.length,l=function(e,i){var s=o-e,l=o;o-=e;var u=r(s+1,l),c=t[s],h=n?n(c):c;a(new Rt(h,c.node,i,null,u))},a=function(t){i?(i.left=t,i=t):(s=t,i=t)},u=0;u<e.count;++u){var c=e.nextBitIsOne(),h=Math.pow(2,e.count-(u+1));c?l(h,Rt.BLACK):(l(h,Rt.BLACK),l(h,Rt.RED))}return s}(new Lt(t.length));return new At(i||e,s)},Mt={},Vt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return s.assert(Mt&&Ot,"ChildrenNode.ts has not been loaded"),q=q||new t({".priority":Mt},{".priority":Ot})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=s.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof At?e:null},t.prototype.hasIndex=function(t){return s.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){s.assert(e!==xt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var i,o=[],l=!1,a=n.getIterator(Ct.Wrap),u=a.getNext();u;)l=l||e.isDefinedOn(u.node),o.push(u),u=a.getNext();i=l?Ft(o,e.getCompare()):Mt;var c=e.toString(),h=r.__assign({},this.indexSet_);h[c]=e;var d=r.__assign({},this.indexes_);return d[c]=i,new t(d,h)},t.prototype.addToIndexes=function(e,n){var i=this;return new t(s.map(this.indexes_,(function(t,r){var o=s.safeGet(i.indexSet_,r);if(s.assert(o,"Missing index implementation for "+r),t===Mt){if(o.isDefinedOn(e.node)){for(var l=[],a=n.getIterator(Ct.Wrap),u=a.getNext();u;)u.name!==e.name&&l.push(u),u=a.getNext();return l.push(e),Ft(l,o.getCompare())}return Mt}var c=n.get(e.name),h=t;return c&&(h=h.remove(new Ct(e.name,c))),h.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(s.map(this.indexes_,(function(t){if(t===Mt)return t;var i=n.get(e.name);return i?t.remove(new Ct(e.name,i)):t})),this.indexSet_)},t}();function zt(t,e){return R(t.name,e.name)}function jt(t,e){return R(t,e)}var Ht=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&kt(this.priorityNode_),this.children_.isEmpty()&&s.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return $||($=new t(new At(jt),null,Vt.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||$},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?$:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(s.assert(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var i=new Ct(e,n),r=void 0,o=void 0;n.isEmpty()?(r=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(i,this.children_));var l=r.isEmpty()?$:this.priorityNode_;return new t(r,l,o)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;s.assert(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var i=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,i)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},i=0,r=0,s=!0;if(this.forEachChild(Ot,(function(o,l){n[o]=l.val(e),i++,s&&t.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):s=!1})),!e&&s&&r<2*i){var o=[];for(var l in n)o[l]=n[l];return o}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Tt(this.getPriority().val())+":"),this.forEachChild(Ot,(function(e,n){var i=n.hash();""!==i&&(t+=":"+e+":"+i)})),this.lazyHash_=""===t?"":_(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var i=this.resolveIndex_(n);if(i){var r=i.getPredecessorKey(new Ct(t,e));return r?r.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Ct(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Ct(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var i=this.children_.getIteratorFrom(t.name,Ct.Wrap),r=i.peek();null!=r&&e.compare(r,t)<0;)i.getNext(),r=i.peek();return i},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var i=this.children_.getReverseIteratorFrom(t.name,Ct.Wrap),r=i.peek();null!=r&&e.compare(r,t)>0;)i.getNext(),r=i.peek();return i},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ut?-1:0},t.prototype.withIndex=function(e){if(e===xt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===xt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Ot),i=e.getIterator(Ot),r=n.getNext(),s=i.getNext();r&&s;){if(r.name!==s.name||!r.node.equals(s.node))return!1;r=n.getNext(),s=i.getNext()}return null===r&&null===s}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===xt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Ut=new(function(t){function e(){return t.call(this,new At(jt),Ht.EMPTY_NODE,Vt.Default)||this}return r.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Ht.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Ht));function Bt(t,e){if(void 0===e&&(e=null),null===t)return Ht.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),s.assert(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new It(t,Bt(e));if(t instanceof Array){var n=Ht.EMPTY_NODE;return F(t,(function(e,i){if(s.contains(t,e)&&"."!==e.substring(0,1)){var r=Bt(i);!r.isLeafNode()&&r.isEmpty()||(n=n.updateImmediateChild(e,r))}})),n.updatePriority(Bt(e))}var i=[],r=!1;if(F(t,(function(t,e){if("."!==t.substring(0,1)){var n=Bt(e);n.isEmpty()||(r=r||!n.getPriority().isEmpty(),i.push(new Ct(t,n)))}})),0===i.length)return Ht.EMPTY_NODE;var o=Ft(i,zt,(function(t){return t.name}),jt);if(r){var l=Ft(i,Ot.getCompare());return new Ht(o,Bt(e),new Vt({".priority":l},{".priority":Ot}))}return new Ht(o,Bt(e),Vt.Default)}Object.defineProperties(Ct,{MIN:{value:new Ct(O,Ht.EMPTY_NODE)},MAX:{value:new Ct(P,Ut)}}),Et.__EMPTY_NODE=Ht.EMPTY_NODE,It.__childrenNodeConstructor=Ht,H=Ut,function(t){W=t}(Ut),function(t){B=t}(Bt);var Wt,qt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?R(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Ct.MIN},e.prototype.maxPost=function(){return Ct.MAX},e.prototype.makePost=function(t,e){var n=Bt(t);return new Ct(e,n)},e.prototype.toString=function(){return".value"},e}(St)),$t=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,s.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return r.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),i=this.extractChild(e.node),r=n.compareTo(i);return 0===r?R(t.name,e.name):r},e.prototype.makePost=function(t,e){var n=Bt(t),i=Ht.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ct(e,i)},e.prototype.maxPost=function(){var t=Ht.EMPTY_NODE.updateChild(this.indexPath_,Ut);return new Ct(P,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(St),Qt=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return s.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return s.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return s.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return s.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){s.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),ft("DataSnapshot.child",1,e,!1);var n=new X(e),i=this.ref_.child(n);return new t(this.node_.getChild(n),i,Ot)},t.prototype.hasChild=function(t){s.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),ft("DataSnapshot.hasChild",1,t,!1);var e=new X(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return s.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(s.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),s.validateCallback("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var i=this.node_;return!!i.forEachChild(this.index_,(function(i,r){return e(new t(r,n.ref_.child(i),Ot))}))},t.prototype.hasChildren=function(){return s.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return s.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return s.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Gt=function(){function t(t,e,n,i){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=i}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+s.stringify(this.snapshot.exportVal())},t}(),Kt=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Zt=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Gt("value",this,new Qt(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){s.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var i=this.callback_;return function(){i.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Kt(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),Yt=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return s.contains(this.callbacks_,e="children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Kt(this,t,e):null},t.prototype.createEvent=function(t,e){s.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),i=e.getQueryParams().getIndex();return new Gt(t.type,this,new Qt(t.snapshotNode,n,i),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){s.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var i=this.callbacks_[t.eventType];return function(){i.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var i=Object.keys(e.callbacks_),r=Object.keys(this.callbacks_),s=i.length;if(s===r.length){if(1===s){var o=i[0],l=r[0];return!(l!==o||e.callbacks_[o]&&this.callbacks_[l]&&e.callbacks_[o]!==this.callbacks_[l])}return r.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),Xt=function(){function t(t,e,n,i){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=i}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return s.assert(Wt,"Reference.ts has not been loaded"),Wt},set:function(t){Wt=t},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===xt){var i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==O)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(t.hasEnd()){if(t.getIndexEndName()!==P)throw new Error(i);if("string"!=typeof n)throw new Error(r)}}else if(t.getIndex()===Ot){if(null!=e&&!lt(e)||null!=n&&!lt(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(s.assert(t.getIndex()instanceof $t||t.getIndex()===qt,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return s.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,i,r){s.validateArgCount("Query.on",2,4,arguments.length),dt("Query.on",1,e,!1),s.validateCallback("Query.on",2,n,!1);var o=t.getCancelAndContextArgs_("Query.on",i,r);if("value"===e)this.onValueEvent(n,o.cancel,o.context);else{var l={};l[e]=n,this.onChildEvent(l,o.cancel,o.context)}return n},t.prototype.onValueEvent=function(t,e,n){var i=new Zt(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,i)},t.prototype.onChildEvent=function(t,e,n){var i=new Yt(t,e,n);this.repo.addEventCallbackForQuery(this,i)},t.prototype.off=function(t,e,n){s.validateArgCount("Query.off",0,3,arguments.length),dt("Query.off",1,t,!0),s.validateCallback("Query.off",2,e,!0),s.validateContextObject("Query.off",3,n,!0);var i=null,r=null;if("value"===t){var o=e||null;i=new Zt(o,null,n||null)}else t&&(e&&((r={})[t]=e),i=new Yt(r,null,n||null));this.repo.removeEventCallbackForQuery(this,i)},t.prototype.once=function(e,n,i,r){var o=this;s.validateArgCount("Query.once",1,4,arguments.length),dt("Query.once",1,e,!1),s.validateCallback("Query.once",2,n,!0);var l=t.getCancelAndContextArgs_("Query.once",i,r),a=!0,u=new s.Deferred;u.promise.catch((function(){}));var c=function(t){a&&(a=!1,o.off(e,c),n&&n.bind(l.context)(t),u.resolve(t))};return this.on(e,c,(function(t){o.off(e,c),l.cancel&&l.cancel.bind(l.context)(t),u.reject(t)})),u.promise},t.prototype.limitToFirst=function(e){if(s.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(s.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(s.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');ft("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new X(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var i=new $t(n),r=this.queryParams_.orderBy(i);return t.validateQueryEndpoints_(r),new t(this.repo,this.path,r,!0)},t.prototype.orderByKey=function(){s.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(xt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){s.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(Ot);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){s.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(qt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),s.validateArgCount("Query.startAt",0,2,arguments.length),at("Query.startAt",1,e,this.path,!0),pt("Query.startAt",2,n,!0);var i=this.queryParams_.startAt(e,n);if(t.validateLimit_(i),t.validateQueryEndpoints_(i),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,i,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),s.validateArgCount("Query.endAt",0,2,arguments.length),at("Query.endAt",1,e,this.path,!0),pt("Query.endAt",2,n,!0);var i=this.queryParams_.endAt(e,n);if(t.validateLimit_(i),t.validateQueryEndpoints_(i),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,i,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(s.validateArgCount("Query.equalTo",1,2,arguments.length),at("Query.equalTo",1,t,this.path,!1),pt("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return s.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return s.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=N(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(s.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var i=this.repo===e.repo,r=this.path.equals(e.path),o=this.queryIdentifier()===e.queryIdentifier();return i&&r&&o},t.getCancelAndContextArgs_=function(t,e,n){var i={cancel:null,context:null};if(e&&n)i.cancel=e,s.validateCallback(t,3,i.cancel,!0),i.context=n,s.validateContextObject(t,4,i.context,!0);else if(e)if("object"==typeof e&&null!==e)i.context=e;else{if("function"!=typeof e)throw new Error(s.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");i.cancel=e}return i},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Jt=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),te=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=this.path_.child(e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),ee=function(t,e,n){return t&&"object"==typeof t?(s.assert(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?ne(t[".sv"],e,n):"object"==typeof t[".sv"]?ie(t[".sv"],e):void s.assert(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},ne=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:s.assert(!1,"Unexpected server value: "+t)}},ie=function(t,e,n){t.hasOwnProperty("increment")||s.assert(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var i=t.increment;"number"!=typeof i&&s.assert(!1,"Unexpected increment value: "+i);var r=e.node();if(s.assert(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;var o=r.getValue();return"number"!=typeof o?i:o+i},re=function(t,e,n,i){return oe(e,new te(n,t),i)},se=function(t,e,n){return oe(t,new Jt(e),n)};function oe(t,e,n){var i,r=t.getPriority().val(),s=ee(r,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var o=t,l=ee(o.getValue(),e,n);return l!==o.getValue()||s!==o.getPriority().val()?new It(l,Bt(s)):t}var a=t;return i=a,s!==a.getPriority().val()&&(i=i.updatePriority(new It(s))),a.forEachChild(Ot,(function(t,r){var s=oe(r,e.getImmediateChild(t),n);s!==r&&(i=i.updateImmediateChild(t,s))})),i}var le,ae,ue=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var i=e.getFront();this.children.has(i)||this.children.set(i,new t);var r=this.children.get(i);e=e.popFront(),r.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(Ot,(function(t,e){n.remember(new X(t),e)})),this.forget(t)}if(this.children.size>0){var i=t.getFront();return t=t.popFront(),this.children.has(i)&&this.children.get(i).forget(t)&&this.children.delete(i),0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,i){var r=new X(t.toString()+"/"+n);i.forEachTree(r,e)}))},t.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},t}(),ce=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({}),he=function(){function t(t,e,n,i){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=i,s.assert(!i||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),de=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=ce.ACK_USER_WRITE,this.source=he.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return s.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new X(e));return new t(X.Empty,n,this.revert)}return s.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),pe=function(){function t(t,e){void 0===e&&(le||(le=new At(D)),e=le),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return F(e,(function(t,e){n=n.set(new X(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:X.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),i=this.children.get(n);if(null!==i){var r=i.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=r?{path:new X(n).child(r.path),value:r.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),i=this.children.get(n);return null!==i?i.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var i=e.getFront(),r=(this.children.get(i)||t.Empty).set(e.popFront(),n),s=this.children.insert(i,r);return new t(this.value,s)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),i=this.children.get(n);if(i){var r=i.remove(e.popFront()),s=void 0;return s=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),null===this.value&&s.isEmpty()?t.Empty:new t(this.value,s)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var i,r=e.getFront(),s=(this.children.get(r)||t.Empty).setTree(e.popFront(),n);return i=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new t(this.value,i)},t.prototype.fold=function(t){return this.fold_(X.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(i,r){n[i]=r.fold_(t.child(i),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,X.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var i=!!this.value&&n(e,this.value);if(i)return i;if(t.isEmpty())return null;var r=t.getFront(),s=this.children.get(r);return s?s.findOnPath_(t.popFront(),e.child(r),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,X.Empty,e)},t.prototype.foreachOnPath_=function(e,n,i){if(e.isEmpty())return this;this.value&&i(n,this.value);var r=e.getFront(),s=this.children.get(r);return s?s.foreachOnPath_(e.popFront(),n.child(r),i):t.Empty},t.prototype.foreach=function(t){this.foreach_(X.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,i){i.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t.Empty=new t(null),t}(),fe=function(){function t(t,e){this.source=t,this.path=e,this.type=ce.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,X.Empty):new t(this.source,this.path.popFront())},t}(),ge=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=ce.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,X.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),me=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=ce.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new X(e));return n.isEmpty()?null:n.value?new ge(this.source,X.Empty,n.value):new t(this.source,X.Empty,n)}return s.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),ye=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),_e=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,i){return new t(new ye(e,n,i),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,i){return new t(this.eventCache_,new ye(e,n,i))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new ye(Ht.EMPTY_NODE,!1,!1),new ye(Ht.EMPTY_NODE,!1,!1)),t}(),ve=function(){function t(t,e,n,i,r){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=i,this.prevName=r}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,i){return new t(t.CHILD_CHANGED,n,e,i)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),be=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,i,r,o){s.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var l=t.getImmediateChild(e);return l.getChild(i).equals(n.getChild(i))&&l.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(ve.childRemovedChange(e,l)):s.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(ve.childAddedChange(e,n)):o.trackChildChange(ve.childChangedChange(e,n,l))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Ot,(function(t,i){e.hasChild(t)||n.trackChildChange(ve.childRemovedChange(t,i))})),e.isLeafNode()||e.forEachChild(Ot,(function(e,i){if(t.hasChild(e)){var r=t.getImmediateChild(e);r.equals(i)||n.trackChildChange(ve.childChangedChange(e,i,r))}else n.trackChildChange(ve.childAddedChange(e,i))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Ht.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),we=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;s.assert(e===ve.CHILD_ADDED||e===ve.CHILD_CHANGED||e===ve.CHILD_REMOVED,"Only child changes supported for tracking"),s.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var i=this.changeMap.get(n);if(i){var r=i.type;if(e===ve.CHILD_ADDED&&r===ve.CHILD_REMOVED)this.changeMap.set(n,ve.childChangedChange(n,t.snapshotNode,i.snapshotNode));else if(e===ve.CHILD_REMOVED&&r===ve.CHILD_ADDED)this.changeMap.delete(n);else if(e===ve.CHILD_REMOVED&&r===ve.CHILD_CHANGED)this.changeMap.set(n,ve.childRemovedChange(n,i.oldSnap));else if(e===ve.CHILD_CHANGED&&r===ve.CHILD_ADDED)this.changeMap.set(n,ve.childAddedChange(n,t.snapshotNode));else{if(e!==ve.CHILD_CHANGED||r!==ve.CHILD_CHANGED)throw s.assertionError("Illegal combination of changes: "+t+" occurred after "+i);this.changeMap.set(n,ve.childChangedChange(n,t.snapshotNode,i.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),Ce=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),Se=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new ye(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),r=this.writes_.calcIndexedSlice(i,e,1,n,t);return 0===r.length?null:r[0]},t}(),Ee=function(){return function(t,e){this.viewCache=t,this.changes=e}}(),xe=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){s.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),s.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,i,r){var o,l,a=new we;if(n.type===ce.OVERWRITE){var u=n;u.source.fromUser?o=this.applyUserOverwrite_(e,u.path,u.snap,i,r,a):(s.assert(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.getServerCache().isFiltered()&&!u.path.isEmpty(),o=this.applyServerOverwrite_(e,u.path,u.snap,i,r,l,a))}else if(n.type===ce.MERGE){var c=n;c.source.fromUser?o=this.applyUserMerge_(e,c.path,c.children,i,r,a):(s.assert(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.getServerCache().isFiltered(),o=this.applyServerMerge_(e,c.path,c.children,i,r,l,a))}else if(n.type===ce.ACK_USER_WRITE){var h=n;o=h.revert?this.revertUserWrite_(e,h.path,i,r,a):this.ackUserWrite_(e,h.path,h.affectedTree,i,r,a)}else{if(n.type!==ce.LISTEN_COMPLETE)throw s.assertionError("Unknown operation type: "+n.type);o=this.listenComplete_(e,n.path,i,a)}var d=a.getChanges();return t.maybeAddValueEvent_(e,o,d),new Ee(o,d)},t.maybeAddValueEvent_=function(t,e,n){var i=e.getEventCache();if(i.isFullyInitialized()){var r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(ve.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,i,r){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var l=void 0,a=void 0;if(e.isEmpty())if(s.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var u=t.getCompleteServerSnap(),c=n.calcCompleteEventChildren(u instanceof Ht?u:Ht.EMPTY_NODE);l=this.filter_.updateFullNode(t.getEventCache().getNode(),c,r)}else{var h=n.calcCompleteEventCache(t.getCompleteServerSnap());l=this.filter_.updateFullNode(t.getEventCache().getNode(),h,r)}else{var d=e.getFront();if(".priority"===d){s.assert(1===e.getLength(),"Can't have a priority with additional path components");var p=o.getNode();a=t.getServerCache().getNode();var f=n.calcEventCacheAfterServerOverwrite(e,p,a);l=null!=f?this.filter_.updatePriority(p,f):o.getNode()}else{var g=e.popFront(),m=void 0;if(o.isCompleteForChild(d)){a=t.getServerCache().getNode();var y=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),a);m=null!=y?o.getNode().getImmediateChild(d).updateChild(g,y):o.getNode().getImmediateChild(d)}else m=n.calcCompleteChild(d,t.getServerCache());l=null!=m?this.filter_.updateChild(o.getNode(),d,m,g,i,r):o.getNode()}}return t.updateEventSnap(l,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,i,r,s,o){var l,a=t.getServerCache(),u=s?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())l=u.updateFullNode(a.getNode(),n,null);else if(u.filtersNodes()&&!a.isFiltered()){var c=a.getNode().updateChild(e,n);l=u.updateFullNode(a.getNode(),c,null)}else{var h=e.getFront();if(!a.isCompleteForPath(e)&&e.getLength()>1)return t;var d=e.popFront(),p=a.getNode().getImmediateChild(h).updateChild(d,n);l=".priority"===h?u.updatePriority(a.getNode(),p):u.updateChild(a.getNode(),h,p,d,Ce,null)}var f=t.updateServerSnap(l,a.isFullyInitialized()||e.isEmpty(),u.filtersNodes()),g=new Se(i,f,r);return this.generateEventCacheAfterServerEvent_(f,e,i,g,o)},t.prototype.applyUserOverwrite_=function(t,e,n,i,r,s){var o,l,a=t.getEventCache(),u=new Se(i,t,r);if(e.isEmpty())l=this.filter_.updateFullNode(t.getEventCache().getNode(),n,s),o=t.updateEventSnap(l,!0,this.filter_.filtersNodes());else{var c=e.getFront();if(".priority"===c)l=this.filter_.updatePriority(t.getEventCache().getNode(),n),o=t.updateEventSnap(l,a.isFullyInitialized(),a.isFiltered());else{var h=e.popFront(),d=a.getNode().getImmediateChild(c),p=void 0;if(h.isEmpty())p=n;else{var f=u.getCompleteChild(c);p=null!=f?".priority"===h.getBack()&&f.getChild(h.parent()).isEmpty()?f:f.updateChild(h,n):Ht.EMPTY_NODE}if(d.equals(p))o=t;else{var g=this.filter_.updateChild(a.getNode(),c,p,h,u,s);o=t.updateEventSnap(g,a.isFullyInitialized(),this.filter_.filtersNodes())}}}return o},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,i,r,s,o){var l=this,a=e;return i.foreach((function(i,u){var c=n.child(i);t.cacheHasChild_(e,c.getFront())&&(a=l.applyUserOverwrite_(a,c,u,r,s,o))})),i.foreach((function(i,u){var c=n.child(i);t.cacheHasChild_(e,c.getFront())||(a=l.applyUserOverwrite_(a,c,u,r,s,o))})),a},t.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},t.prototype.applyServerMerge_=function(t,e,n,i,r,s,o){var l=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var a,u=t;a=e.isEmpty()?n:pe.Empty.setTree(e,n);var c=t.getServerCache().getNode();return a.children.inorderTraversal((function(e,n){if(c.hasChild(e)){var a=t.getServerCache().getNode().getImmediateChild(e),h=l.applyMerge_(a,n);u=l.applyServerOverwrite_(u,new X(e),h,i,r,s,o)}})),a.children.inorderTraversal((function(e,n){var a=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!c.hasChild(e)&&!a){var h=t.getServerCache().getNode().getImmediateChild(e),d=l.applyMerge_(h,n);u=l.applyServerOverwrite_(u,new X(e),d,i,r,s,o)}})),u},t.prototype.ackUserWrite_=function(t,e,n,i,r,s){if(null!=i.shadowingWrite(e))return t;var o=t.getServerCache().isFiltered(),l=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&l.isFullyInitialized()||l.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,l.getNode().getChild(e),i,r,o,s);if(e.isEmpty()){var a=pe.Empty;return l.getNode().forEachChild(xt,(function(t,e){a=a.set(new X(t),e)})),this.applyServerMerge_(t,e,a,i,r,o,s)}return t}var u=pe.Empty;return n.foreach((function(t,n){var i=e.child(t);l.isCompleteForPath(i)&&(u=u.set(t,l.getNode().getChild(i)))})),this.applyServerMerge_(t,e,u,i,r,o,s)},t.prototype.listenComplete_=function(t,e,n,i){var r=t.getServerCache(),s=t.updateServerSnap(r.getNode(),r.isFullyInitialized()||e.isEmpty(),r.isFiltered());return this.generateEventCacheAfterServerEvent_(s,e,n,Ce,i)},t.prototype.revertUserWrite_=function(t,e,n,i,r){var o;if(null!=n.shadowingWrite(e))return t;var l=new Se(n,t,i),a=t.getEventCache().getNode(),u=void 0;if(e.isEmpty()||".priority"===e.getFront()){var c=void 0;if(t.getServerCache().isFullyInitialized())c=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();s.assert(h instanceof Ht,"serverChildren would be complete if leaf node"),c=n.calcCompleteEventChildren(h)}u=this.filter_.updateFullNode(a,c=c,r)}else{var d=e.getFront(),p=n.calcCompleteChild(d,t.getServerCache());null==p&&t.getServerCache().isCompleteForChild(d)&&(p=a.getImmediateChild(d)),(u=null!=p?this.filter_.updateChild(a,d,p,e.popFront(),l,r):t.getEventCache().getNode().hasChild(d)?this.filter_.updateChild(a,d,Ht.EMPTY_NODE,e.popFront(),l,r):a).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(u=this.filter_.updateFullNode(u,o,r))}return o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(X.Empty),t.updateEventSnap(u,o,this.filter_.filtersNodes())},t}(),Te=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var i=this,r=[],s=[];return t.forEach((function(t){t.type===ve.CHILD_CHANGED&&i.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&s.push(ve.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(r,ve.CHILD_REMOVED,t,n,e),this.generateEventsForType_(r,ve.CHILD_ADDED,t,n,e),this.generateEventsForType_(r,ve.CHILD_MOVED,s,n,e),this.generateEventsForType_(r,ve.CHILD_CHANGED,t,n,e),this.generateEventsForType_(r,ve.VALUE,t,n,e),r},t.prototype.generateEventsForType_=function(t,e,n,i,r){var s=this,o=n.filter((function(t){return t.type===e}));o.sort(this.compareChanges_.bind(this)),o.forEach((function(e){var n=s.materializeSingleChange_(e,r);i.forEach((function(i){i.respondsTo(e.type)&&t.push(i.createEvent(n,s.query_))}))}))},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw s.assertionError("Should only compare child_ events.");var n=new Ct(t.childName,t.snapshotNode),i=new Ct(e.childName,e.snapshotNode);return this.index_.compare(n,i)},t}(),ke=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),i=new be(n.getIndex()),r=n.getNodeFilter();this.processor_=new xe(r);var s=e.getServerCache(),o=e.getEventCache(),l=i.updateFullNode(Ht.EMPTY_NODE,s.getNode(),null),a=r.updateFullNode(Ht.EMPTY_NODE,o.getNode(),null),u=new ye(l,s.isFullyInitialized(),i.filtersNodes()),c=new ye(a,o.isFullyInitialized(),r.filtersNodes());this.viewCache_=new _e(c,u),this.eventGenerator_=new Te(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){s.assert(null==t,"A cancel should cancel all event registrations.");var i=this.query_.path;this.eventRegistrations_.forEach((function(t){var r=t.createCancelEvent(e=e,i);r&&n.push(r)}))}if(t){for(var r=[],o=0;o<this.eventRegistrations_.length;++o){var l=this.eventRegistrations_[o];if(l.matches(t)){if(t.hasAnyCallback()){r=r.concat(this.eventRegistrations_.slice(o+1));break}}else r.push(l)}this.eventRegistrations_=r}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===ce.MERGE&&null!==t.source.queryId&&(s.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),s.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var i=this.viewCache_,r=this.processor_.applyOperation(i,t,e,n);return this.processor_.assertIndexed(r.viewCache),s.assert(r.viewCache.getServerCache().isFullyInitialized()||!i.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=r.viewCache,this.generateEventsForChanges_(r.changes,r.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Ot,(function(t,e){n.push(ve.childAddedChange(t,e))})),e.isFullyInitialized()&&n.push(ve.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){return this.eventGenerator_.generateEventsForChanges(t,e,n?[n]:this.eventRegistrations_)},t}(),Ie=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return s.assert(ae,"Reference.ts has not been loaded"),ae},set:function(t){s.assert(!ae,"__referenceConstructor has already been defined"),ae=t},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var i,o,l=t.source.queryId;if(null!==l){var a=this.views.get(l);return s.assert(null!=a,"SyncTree gave us an op for an invalid query."),a.applyOperation(t,e,n)}var u=[];try{for(var c=r.__values(this.views.values()),h=c.next();!h.done;h=c.next())u=u.concat((a=h.value).applyOperation(t,e,n))}catch(d){i={error:d}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return u},t.prototype.addEventRegistration=function(t,e,n,i,r){var s=t.queryIdentifier(),o=this.views.get(s);if(!o){var l=n.calcCompleteEventCache(r?i:null),a=!1;l?a=!0:i instanceof Ht?(l=n.calcCompleteEventChildren(i),a=!1):(l=Ht.EMPTY_NODE,a=!1);var u=new _e(new ye(l,a,!1),new ye(i,r,!1));o=new ke(t,u),this.views.set(s,o)}return o.addEventRegistration(e),o.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,i){var s,o,l=e.queryIdentifier(),a=[],u=[],c=this.hasCompleteView();if("default"===l)try{for(var h=r.__values(this.views.entries()),d=h.next();!d.done;d=h.next()){var p,f=r.__read(d.value,2),g=f[0];u=u.concat((p=f[1]).removeEventRegistration(n,i)),p.isEmpty()&&(this.views.delete(g),p.getQuery().getQueryParams().loadsAllData()||a.push(p.getQuery()))}}catch(m){s={error:m}}finally{try{d&&!d.done&&(o=h.return)&&o.call(h)}finally{if(s)throw s.error}}else(p=this.views.get(l))&&(u=u.concat(p.removeEventRegistration(n,i)),p.isEmpty()&&(this.views.delete(l),p.getQuery().getQueryParams().loadsAllData()||a.push(p.getQuery())));return c&&!this.hasCompleteView()&&a.push(new t.__referenceConstructor(e.repo,e.path)),{removed:a,events:u}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var i=r.__values(this.views.values()),s=i.next();!s.done;s=i.next()){var o=s.value;o.getQuery().getQueryParams().loadsAllData()||n.push(o)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,i=null;try{for(var s=r.__values(this.views.values()),o=s.next();!o.done;o=s.next())i=i||o.value.getCompleteServerCache(t)}catch(l){e={error:l}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return i},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=r.__values(this.views.values()),i=n.next();!i.done;i=n.next()){var s=i.value;if(s.getQuery().getQueryParams().loadsAllData())return s}}catch(o){t={error:o}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),Oe=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new pe(n));var i=this.writeTree_.findRootMostValueAndPath(e);if(null!=i){var r=i.path,s=i.value,o=X.relativePath(r,e);return s=s.updateChild(o,n),new t(this.writeTree_.set(r,s))}var l=new pe(n);return new t(this.writeTree_.setTree(e,l))},t.prototype.addWrites=function(t,e){var n=this;return F(e,(function(e,i){n=n.addWrite(t.child(e),i)})),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,pe.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(X.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Ot,(function(e,n){t.push(new Ct(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Ct(e,n.value))})),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new pe(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return function t(e,n,i){if(null!=n.value)return i.updateChild(e,n.value);var r=null;return n.children.inorderTraversal((function(n,o){".priority"===n?(s.assert(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):i=t(e.child(n),o,i)})),i.getChild(e).isEmpty()||null===r||(i=i.updateChild(e.child(".priority"),r)),i}(X.Empty,this.writeTree_,t)},t.Empty=new t(new pe(null)),t}(),Pe=function(){function t(){this.visibleWrites_=Oe.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new Re(t,this)},t.prototype.addOverwrite=function(t,e,n,i){s.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:i}),i&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){s.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));s.assert(n>=0,"removeWrite called with nonexistent writeId.");var i=this.allWrites_[n];this.allWrites_.splice(n,1);for(var r=i.visible,o=!1,l=this.allWrites_.length-1;r&&l>=0;){var a=this.allWrites_[l];a.visible&&(l>=n&&this.recordContainsPath_(a,i.path)?r=!1:i.path.contains(a.path)&&(o=!0)),l--}return!!r&&(o?(this.resetTree_(),!0):(i.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(i.path):F(i.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(i.path.child(t))})),!0))},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,i,r){if(i||r){var s=this.visibleWrites_.childCompoundWrite(e);return!r&&s.isEmpty()?n:r||null!=n||s.hasCompleteWrite(X.Empty)?t.layerTree_(this.allWrites_,(function(t){return(t.visible||r)&&(!i||!~i.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))}),e).apply(n||Ht.EMPTY_NODE):null}var o=this.visibleWrites_.getCompleteNode(e);if(null!=o)return o;var l=this.visibleWrites_.childCompoundWrite(e);return l.isEmpty()?n:null!=n||l.hasCompleteWrite(X.Empty)?l.apply(n||Ht.EMPTY_NODE):null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Ht.EMPTY_NODE,i=this.visibleWrites_.getCompleteNode(t);if(i)return i.isLeafNode()||i.forEachChild(Ot,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var r=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Ot,(function(t,e){var i=r.childCompoundWrite(new X(t)).apply(e);n=n.updateImmediateChild(t,i)})),r.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,i){s.assert(n||i,"Either existingEventSnap or existingServerSnap must exist");var r=t.child(e);if(this.visibleWrites_.hasCompleteWrite(r))return null;var o=this.visibleWrites_.childCompoundWrite(r);return o.isEmpty()?i.getChild(e):o.apply(i.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var i=t.child(e),r=this.visibleWrites_.getCompleteNode(i);return null!=r?r:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(i).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,i,r,s){var o,l=this.visibleWrites_.childCompoundWrite(t),a=l.getCompleteNode(X.Empty);if(null!=a)o=a;else{if(null==e)return[];o=l.apply(e)}if((o=o.withIndex(s)).isEmpty()||o.isLeafNode())return[];for(var u=[],c=s.getCompare(),h=r?o.getReverseIteratorFrom(n,s):o.getIteratorFrom(n,s),d=h.getNext();d&&u.length<i;)0!==c(d,n)&&u.push(d),d=h.getNext();return u},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,X.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var i=Oe.Empty,r=0;r<t.length;++r){var o=t[r];if(e(o)){var l=o.path,a=void 0;if(o.snap)n.contains(l)?(a=X.relativePath(n,l),i=i.addWrite(a,o.snap)):l.contains(n)&&(a=X.relativePath(l,n),i=i.addWrite(X.Empty,o.snap.getChild(a)));else{if(!o.children)throw s.assertionError("WriteRecord should have .snap or .children");if(n.contains(l))a=X.relativePath(n,l),i=i.addWrites(a,o.children);else if(l.contains(n))if((a=X.relativePath(l,n)).isEmpty())i=i.addWrites(X.Empty,o.children);else{var u=s.safeGet(o.children,a.getFront());if(u){var c=u.getChild(a.popFront());i=i.addWrite(X.Empty,c)}}}}}return i},t}(),Re=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,i,r){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,i,r)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),De=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=pe.Empty,this.pendingWriteTree_=new Pe,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,i){return this.pendingWriteTree_.addOverwrite(t,e,n,i),i?this.applyOperationToSyncPoints_(new ge(he.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var i=pe.fromObject(e);return this.applyOperationToSyncPoints_(new me(he.User,t,i))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var i=pe.Empty;return null!=n.snap?i=i.set(X.Empty,!0):F(n.children,(function(t,e){i=i.set(new X(t),e)})),this.applyOperationToSyncPoints_(new de(n.path,i,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new ge(he.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=pe.fromObject(e);return this.applyOperationToSyncPoints_(new me(he.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new fe(he.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,i){var r=this.queryKeyForTag_(i);if(null!=r){var s=t.parseQueryKey_(r),o=s.path,l=s.queryId,a=X.relativePath(o,e),u=new ge(he.forServerTaggedQuery(l),a,n);return this.applyTaggedOperation_(o,u)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,i){var r=this.queryKeyForTag_(i);if(r){var s=t.parseQueryKey_(r),o=s.path,l=s.queryId,a=X.relativePath(o,e),u=pe.fromObject(n),c=new me(he.forServerTaggedQuery(l),a,u);return this.applyTaggedOperation_(o,c)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var i=this.queryKeyForTag_(n);if(i){var r=t.parseQueryKey_(i),s=r.path,o=r.queryId,l=X.relativePath(s,e),a=new fe(he.forServerTaggedQuery(o),l);return this.applyTaggedOperation_(s,a)}return[]},t.prototype.addEventRegistration=function(e,n){var i=e.path,r=null,o=!1;this.syncPointTree_.foreachOnPath(i,(function(t,e){var n=X.relativePath(t,i);r=r||e.getCompleteServerCache(n),o=o||e.hasCompleteView()}));var l,a=this.syncPointTree_.get(i);a?(o=o||a.hasCompleteView(),r=r||a.getCompleteServerCache(X.Empty)):(a=new Ie,this.syncPointTree_=this.syncPointTree_.set(i,a)),null!=r?l=!0:(l=!1,r=Ht.EMPTY_NODE,this.syncPointTree_.subtree(i).foreachChild((function(t,e){var n=e.getCompleteServerCache(X.Empty);n&&(r=r.updateImmediateChild(t,n))})));var u=a.viewExistsForQuery(e);if(!u&&!e.getQueryParams().loadsAllData()){var c=t.makeQueryKey_(e);s.assert(!this.queryToTagMap.has(c),"View does not exist, but we have a tag");var h=t.getNextQueryTag_();this.queryToTagMap.set(c,h),this.tagToQueryMap.set(h,c)}var d=this.pendingWriteTree_.childWrites(i),p=a.addEventRegistration(e,n,d,r,l);if(!u&&!o){var f=a.viewForQuery(e);p=p.concat(this.setupListener_(e,f))}return p},t.prototype.removeEventRegistration=function(e,n,i){var r=this,s=e.path,o=this.syncPointTree_.get(s),l=[];if(o&&("default"===e.queryIdentifier()||o.viewExistsForQuery(e))){var a=o.removeEventRegistration(e,n,i);o.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(s));var u=a.removed;l=a.events;var c=-1!==u.findIndex((function(t){return t.getQueryParams().loadsAllData()})),h=this.syncPointTree_.findOnPath(s,(function(t,e){return e.hasCompleteView()}));if(c&&!h){var d=this.syncPointTree_.subtree(s);if(!d.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(d),f=0;f<p.length;++f){var g=p[f],m=g.getQuery(),y=this.createListenerForView_(g);this.listenProvider_.startListening(t.queryForListening_(m),this.tagForQuery_(m),y.hashFn,y.onComplete)}}!h&&u.length>0&&!i&&(c?this.listenProvider_.stopListening(t.queryForListening_(e),null):u.forEach((function(e){var n=r.queryToTagMap.get(t.makeQueryKey_(e));r.listenProvider_.stopListening(t.queryForListening_(e),n)}))),this.removeTags_(u)}return l},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,i=this.syncPointTree_.findOnPath(t,(function(e,n){var i=X.relativePath(e,t),r=n.getCompleteServerCache(i);if(r)return r}));return n.calcCompleteEventCache(t,i,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var i=[];return e&&(i=e.getQueryViews()),F(n,(function(t,e){i=i.concat(e)})),i}))},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var i=e[n];if(!i.getQueryParams().loadsAllData()){var r=t.makeQueryKey_(i),s=this.queryToTagMap.get(r);this.queryToTagMap.delete(r),this.tagToQueryMap.delete(s)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var i=e.path,r=this.tagForQuery_(e),o=this.createListenerForView_(n),l=this.listenProvider_.startListening(t.queryForListening_(e),r,o.hashFn,o.onComplete),a=this.syncPointTree_.subtree(i);if(r)s.assert(!a.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var u=a.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var i=[];return e&&(i=i.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),F(n,(function(t,e){i=i.concat(e)})),i})),c=0;c<u.length;++c){var h=u[c];this.listenProvider_.stopListening(t.queryForListening_(h),this.tagForQuery_(h))}return l},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),i=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Ht.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return i?e.applyTaggedListenComplete(n.path,i):e.applyListenComplete(n.path);var r=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var i=new Error(t+" at "+e.path.toString()+": "+n);return i.code=t.toUpperCase(),i}(t,n);return e.removeEventRegistration(n,null,r)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return s.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new X(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);s.assert(n,"Missing sync point for query tag that we're tracking");var i=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,i,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(X.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,i){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,i);var r=e.get(X.Empty);null==n&&null!=r&&(n=r.getCompleteServerCache(X.Empty));var s=[],o=t.path.getFront(),l=t.operationForChild(o),a=e.children.get(o);if(a&&l){var u=n?n.getImmediateChild(o):null,c=i.child(o);s=s.concat(this.applyOperationHelper_(l,a,u,c))}return r&&(s=s.concat(r.applyOperation(t,i,n))),s},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,i){var r=this,s=e.get(X.Empty);null==n&&null!=s&&(n=s.getCompleteServerCache(X.Empty));var o=[];return e.children.inorderTraversal((function(e,s){var l=n?n.getImmediateChild(e):null,a=i.child(e),u=t.operationForChild(e);u&&(o=o.concat(r.applyOperationDescendantsHelper_(u,s,l,a)))})),s&&(o=o.concat(s.applyOperation(t,i,n))),o},t.nextQueryTag_=1,t}(),Ae=function(){function t(){this.rootNode_=Ht.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Ne=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),s.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return s.deepCopy(this.counters_)},t}(),Le=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Ne),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Fe=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=r.__assign({},t);return this.last_&&F(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),Me=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Fe(t);var n=1e4+2e4*Math.random();Y(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},i=!1;F(e,(function(e,r){r>0&&s.contains(t.statsToReport_,e)&&(n[e]=r,i=!0)})),i&&this.server_.reportStats(n),Y(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Ve=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var i=t[n],r=i.getPath();null===e||r.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new ze(r)),e.add(i)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var i=this.eventLists_[n];i&&(t(i.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),ze=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();b&&S("event: "+e.toString()),Z(n)}}},t.prototype.getPath=function(){return this.path_},t}(),je=function(){function t(t){this.allowedEvents_=t,this.listeners_={},s.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var i=r.__spread(this.listeners_[t]),s=0;s<i.length;s++)i[s].callback.apply(i[s].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var i=this.getInitialEvent(t);i&&e.apply(n,i)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var i=this.listeners_[t]||[],r=0;r<i.length;r++)if(i[r].callback===e&&(!n||n===i[r].context))return void i.splice(r,1)},t.prototype.validateEventType_=function(t){s.assert(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),He=function(t){function e(){var e,n,i=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),i.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==i.visible_&&(i.visible_=t,i.trigger("visible",t))}),!1),i}return r.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return s.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(je),Ue=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||s.isMobileCordova()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return r.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return s.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(je),Be=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var i=function(){var t=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var e=function(e){t[e]&&Z((function(){n.onMessage_(t[e])}))},i=0;i<t.length;++i)e(i);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++},r=this;this.pendingResponses[this.currentResponseNum]&&"break"!==i(););},t}(),We=function(){function t(t,e,n,i,r){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=i,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=E(t),this.stats_=Le.getCollection(e),this.urlFn=function(t){return e.connectionURL("long_polling",t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Be(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(s.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new qe((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=r.__read(t,5),s=i[0],o=i[1],l=i[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===s)n.id=o,n.password=l;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=r.__read(t,2),s=i[0],o=i[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(s,o)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(s.isNodeSdk()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=s.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=s.base64Encode(e),i=L(n,1840),r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!s.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=s.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),qe=function(){function t(e,n,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,s.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=y(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var l="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(a){S("frame writing exception"),a.stack&&S(a.stack),S(a)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||S("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",i=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var r=this.pendingSegs.shift();n=n+"&seg"+i+"="+r.seg+"&ts"+i+"="+r.ts+"&d"+i+"="+r.d,i++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var i=function(){n.outstandingRequests.delete(e),n.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(r),i()}))},t.prototype.addTag=function(t,e){var n=this;s.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var i=n.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var t=i.readyState;t&&"loaded"!==t&&"complete"!==t||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=function(){S("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(i)}catch(r){}}),Math.floor(1))},t}(),$e="",Qe=null;"undefined"!=typeof MozWebSocket?Qe=MozWebSocket:"undefined"!=typeof WebSocket&&(Qe=WebSocket);var Ge=function(){function t(e,n,i,r,s){this.connId=e,this.applicationId=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=E(this.connId),this.stats_=Le.getCollection(n),this.connURL=t.connectionURL_(n,r,s),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n){var i={v:"5"};return!s.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(i.r="f"),e&&(i.s=e),n&&(i.ls=n),t.connectionURL("websocket",i)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,f.set("previous_websocket_failure",!0);try{if(s.isNodeSdk()){var i={headers:{"User-Agent":"Firebase/5/"+$e+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}},r=process.env,o=0===this.connURL.indexOf("wss://")?r.HTTPS_PROXY||r.https_proxy:r.HTTP_PROXY||r.http_proxy;o&&(i.proxy={origin:o}),this.mySock=new Qe(this.connURL,[],i)}else this.mySock=new Qe(this.connURL,[],i={headers:{"X-Firebase-GMPID":this.applicationId||""}})}catch(a){this.log_("Error instantiating WebSocket.");var l=a.message||a.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Qe&&!t.forceDisallow_},t.previouslyFailed=function(){return f.isInMemoryStorage||!0===f.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){f.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=s.jsonEval(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(s.assert(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=s.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=L(e,16384);n.length>1&&this.sendString_(String(n.length));for(var i=0;i<n.length;i++)this.sendString_(n[i])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Ke=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[We,Ge]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,i,s=Ge&&Ge.isAvailable(),o=s&&!Ge.previouslyFailed();if(e.webSocketOnly&&(s||k("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Ge];else{var l=this.transports_=[];try{for(var a=r.__values(t.ALL_TRANSPORTS),u=a.next();!u.done;u=a.next()){var c=u.value;c&&c.isAvailable()&&l.push(c)}}catch(h){n={error:h}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Ze=function(){function t(t,e,n,i,r,s,o,l){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=i,this.onReady_=r,this.onDisconnect_=s,this.onKill_=o,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=E("c:"+this.id+":"),this.transportManager_=new Ke(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,i)}),Math.floor(0));var r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Y((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(r)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=A("t",t),n=A("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=A("t",t),n=A("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=A("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?x("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):x("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(i),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&k("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Y((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Y((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(f.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),Ye=function(){function t(){}return t.prototype.put=function(t,e,n,i){},t.prototype.merge=function(t,e,n,i){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),Xe=function(t){function e(n,i,r,o,l,a,u){var c=t.call(this)||this;if(c.repoInfo_=n,c.applicationId_=i,c.onDataUpdate_=r,c.onConnectStatus_=o,c.onServerInfoUpdate_=l,c.authTokenProvider_=a,c.authOverride_=u,c.id=e.nextPersistentConnectionId_++,c.log_=E("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingPutCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=1e3,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,u&&!s.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return c.scheduleConnect_(0),He.getInstance().on("visible",c.onVisible_,c),-1===n.host.indexOf("fblocal")&&Ue.getInstance().on("online",c.onOnline_,c),c}return r.__extends(e,t),e.prototype.sendRequest=function(t,e,n){var i=++this.requestNumber_,r={r:i,a:t,b:e};this.log_(s.stringify(r)),s.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[i]=n)},e.prototype.listen=function(t,e,n,i){var r=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),s.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),s.assert(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");var l={onComplete:i,hashFn:e,query:t,tag:n};this.listens.get(o).set(r,l),this.connected_&&this.sendListen_(l)},e.prototype.sendListen_=function(t){var n=this,i=t.query,r=i.path.toString(),s=i.queryIdentifier();this.log_("Listen on "+r+" for "+s);var o={p:r};t.tag&&(o.q=i.queryObject(),o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,(function(o){var l=o.d,a=o.s;e.warnOnListenWarnings_(l,i),(n.listens.get(r)&&n.listens.get(r).get(s))===t&&(n.log_("listen response",o),"ok"!==a&&n.removeListen_(r,s),t.onComplete&&t.onComplete(a,l))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&s.contains(t,"w")){var n=s.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var i='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',r=e.path.toString();k("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+i+" at "+r+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||s.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=s.isValidFormat(e)?"auth":"gauth",i={cred:e};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(n,i,(function(n){var i=n.s,r=n.d||"error";t.authToken_===e&&("ok"===i?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(i,r))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),i=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+i),s.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,i){this.log_("Unlisten on "+t+" for "+e);var r={p:t};i&&(r.q=n,r.t=i),this.sendRequest("n",r)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,i){var r={p:e,d:n};this.log_("onDisconnect "+t,r),this.sendRequest(t,r,(function(t){i&&setTimeout((function(){i(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,i){this.putInternal("p",t,e,n,i)},e.prototype.merge=function(t,e,n,i){this.putInternal("m",t,e,n,i)},e.prototype.putInternal=function(t,e,n,i,r){var s={p:e,d:n};void 0!==r&&(s.h=r),this.outstandingPuts_.push({action:t,request:s,onComplete:i}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,r=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,i,(function(i){e.log_(n+" response",i),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),r&&r(i.s,i.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+s.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):x("Unrecognized action received from server: "+s.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;s.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var t=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,l=this,a=this.lastSessionId,u=!1,c=null,h=function(){c?c.close():(u=!0,r())};this.realtime_={close:h,sendRequest:function(t){s.assert(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(t)}};var d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(d).then((function(t){u?S("getToken() completed but was canceled"):(S("getToken() completed. Creating connection."),l.authToken_=t&&t.accessToken,c=new Ze(o,l.repoInfo_,l.applicationId_,n,i,r,(function(t){k(t+" ("+l.repoInfo_.toString()+")"),l.interrupt("server_kill")}),a))})).then(null,(function(e){l.log_("Failed to get token: "+e),u||(t.repoInfo_.nodeAdmin&&k(e),h())}))}},e.prototype.interrupt=function(t){S("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){S("Resuming connection for reason: "+t),delete this.interruptReasons_[t],s.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return N(t)})).join("$"):"default";var i=this.removeListen_(t,n);i&&i.onComplete&&i.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,i=new X(t).toString();if(this.listens.has(i)){var r=this.listens.get(i);n=r.get(e),r.delete(e),0===r.size&&this.listens.delete(i)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){S("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,i;this.tryAuth();try{for(var s=r.__values(this.listens.values()),o=s.next();!o.done;o=s.next()){var l=o.value;try{for(var a=(n=void 0,r.__values(l.values())),u=a.next();!u.done;u=a.next())this.sendListen_(u.value)}catch(d){n={error:d}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}}}catch(p){t={error:p}}finally{try{o&&!o.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}for(var c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";s.isNodeSdk()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+$e.replace(/\./g,"-")]=1,s.isMobileCordova()?t["framework.cordova"]=1:s.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=Ue.getInstance().currentlyOnline();return s.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(Ye),Je=function(t){function e(e,n,i){var r=t.call(this)||this;return r.repoInfo_=e,r.onDataUpdate_=n,r.authTokenProvider_=i,r.log_=E("p:rest:"),r.listens_={},r}return r.__extends(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(s.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,i,r){var o=this,l=t.path.toString();this.log_("Listen called for "+l+" "+t.queryIdentifier());var a=e.getListenId_(t,i),u={};this.listens_[a]=u;var c=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(l+".json",c,(function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(l,n,!1,i),s.safeGet(o.listens_,a)===u&&r(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var i=e.getListenId_(t,n);delete this.listens_[i]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var i=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(r){var o=r&&r.accessToken;o&&(e.auth=o);var l=(i.repoInfo_.secure?"https://":"http://")+i.repoInfo_.host+t+"?ns="+i.repoInfo_.namespace+s.querystring(e);i.log_("Sending REST request for "+l);var a=new XMLHttpRequest;a.onreadystatechange=function(){if(n&&4===a.readyState){i.log_("REST Response for "+l+" received. status:",a.status,"response:",a.responseText);var t=null;if(a.status>=200&&a.status<300){try{t=s.jsonEval(a.responseText)}catch(e){k("Failed to parse JSON response for "+l+": "+a.responseText)}n(null,t)}else 401!==a.status&&404!==a.status&&k("Got unsuccessful REST response for "+l+" Status: "+a.status),n(a.status);n=null}},a.open("GET",l,!0),a.send()}))},e}(Ye),tn=function(){function t(t,e,n,i){var r=this;if(this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ve,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new ue,this.persistentConnection_=null,this.stats_=Le.getCollection(t),e||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new Je(this.repoInfo_,this.onDataUpdate_.bind(this),i),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if(null!=o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{s.stringify(o)}catch(l){throw new Error("Invalid authOverride provided: "+l)}}this.persistentConnection_=new Xe(this.repoInfo_,n.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),i,o),this.server_=this.persistentConnection_}i.addTokenChangeListener((function(t){r.server_.refreshAuthToken(t)})),this.statsReporter_=Le.getOrCreateReporter(t,(function(){return new Me(r.stats_,r.server_)})),this.transactionsInit_(),this.infoData_=new Ae,this.infoSyncTree_=new De({startListening:function(t,e,n,i){var s=[],o=r.infoData_.getNode(t.path);return o.isEmpty()||(s=r.infoSyncTree_.applyServerOverwrite(t.path,o),setTimeout((function(){i("ok")}),0)),s},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new De({startListening:function(t,e,n,i){return r.server_.listen(t,n,e,(function(e,n){var s=i(e,n);r.eventQueue_.raiseEventsForChangedPath(t.path,s)})),[]},stopListening:function(t,e){r.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new X(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,i){this.dataUpdateCount++;var r=new X(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o=[];if(i)if(n){var l=s.map(e,(function(t){return Bt(t)}));o=this.serverSyncTree_.applyTaggedQueryMerge(r,l,i)}else{var a=Bt(e);o=this.serverSyncTree_.applyTaggedQueryOverwrite(r,a,i)}else if(n){var u=s.map(e,(function(t){return Bt(t)}));o=this.serverSyncTree_.applyServerMerge(r,u)}else{var c=Bt(e);o=this.serverSyncTree_.applyServerOverwrite(r,c)}var h=r;o.length>0&&(h=this.rerunTransactions_(r)),this.eventQueue_.raiseEventsForChangedPath(h,o)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;F(t,(function(t,n){e.updateInfo_(t,n)}))},t.prototype.updateInfo_=function(t,e){var n=new X("/.info/"+t),i=Bt(e);this.infoData_.updateSnapshot(n,i);var r=this.infoSyncTree_.applyServerOverwrite(n,i);this.eventQueue_.raiseEventsForChangedPath(n,r)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,i){var r=this;this.log_("set",{path:t.toString(),value:e,priority:n});var s=this.generateServerValues(),o=Bt(e,n),l=this.serverSyncTree_.calcCompleteEventCache(t),a=se(o,l,s),u=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserOverwrite(t,a,u,!0);this.eventQueue_.queueEvents(c),this.server_.put(t.toString(),o.val(!0),(function(e,n){var s="ok"===e;s||k("set at "+t+" failed: "+e);var o=r.serverSyncTree_.ackUserWrite(u,!s);r.eventQueue_.raiseEventsForChangedPath(t,o),r.callOnCompleteCallback(i,e,n)}));var h=this.abortTransactions_(t);this.rerunTransactions_(h),this.eventQueue_.raiseEventsForChangedPath(h,[])},t.prototype.update=function(t,e,n){var i=this;this.log_("update",{path:t.toString(),value:e});var r=!0,s=this.generateServerValues(),o={};if(F(e,(function(e,n){r=!1,o[e]=re(t.child(e),Bt(n),i.serverSyncTree_,s)})),r)S("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var l=this.getNextWriteId_(),a=this.serverSyncTree_.applyUserMerge(t,o,l);this.eventQueue_.queueEvents(a),this.server_.merge(t.toString(),e,(function(e,r){var s="ok"===e;s||k("update at "+t+" failed: "+e);var o=i.serverSyncTree_.ackUserWrite(l,!s),a=o.length>0?i.rerunTransactions_(t):t;i.eventQueue_.raiseEventsForChangedPath(a,o),i.callOnCompleteCallback(n,e,r)})),F(e,(function(e){var n=i.abortTransactions_(t.child(e));i.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=new ue;this.onDisconnect_.forEachTree(X.Empty,(function(i,r){var s=re(i,r,t.serverSyncTree_,e);n.remember(i,s)}));var i=[];n.forEachTree(X.Empty,(function(e,n){i=i.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var r=t.abortTransactions_(e);t.rerunTransactions_(r)})),this.onDisconnect_=new ue,this.eventQueue_.raiseEventsForChangedPath(X.Empty,i)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(i,r){"ok"===i&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,i,r)}))},t.prototype.onDisconnectSet=function(t,e,n){var i=this,r=Bt(e);this.server_.onDisconnectPut(t.toString(),r.val(!0),(function(e,s){"ok"===e&&i.onDisconnect_.remember(t,r),i.callOnCompleteCallback(n,e,s)}))},t.prototype.onDisconnectSetWithPriority=function(t,e,n,i){var r=this,s=Bt(e,n);this.server_.onDisconnectPut(t.toString(),s.val(!0),(function(e,n){"ok"===e&&r.onDisconnect_.remember(t,s),r.callOnCompleteCallback(i,e,n)}))},t.prototype.onDisconnectUpdate=function(t,e,n){var i=this;if(s.isEmpty(e))return S("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,(function(r,s){"ok"===r&&F(e,(function(e,n){var r=Bt(n);i.onDisconnect_.remember(t.child(e),r)})),i.callOnCompleteCallback(n,r,s)}))},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Fe(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce((function(t,e){return Math.max(e.length,t)}),0);F(e,(function(t,e){for(var i=t,r=t.length;r<n+2;r++)i+=" ";console.log(i+e)}))}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),S.apply(void 0,r.__spread([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&Z((function(){if("ok"===e)t(null);else{var i=(e||"error").toUpperCase(),r=i;n&&(r+=": "+n);var s=new Error(r);s.code=i,t(s)}}))},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new pn(this))},enumerable:!1,configurable:!0}),t}(),en=function(){function t(e){this.indexedFilter_=new be(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,i,r,s){return this.matches(new Ct(e,n))||(n=Ht.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,i,r,s)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Ht.EMPTY_NODE);var i=e.withIndex(this.index_);i=i.updatePriority(Ht.EMPTY_NODE);var r=this;return e.forEachChild(Ot,(function(t,e){r.matches(new Ct(t,e))||(i=i.updateImmediateChild(t,Ht.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,i,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),nn=function(){function t(t){this.rangedFilter_=new en(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,i,r,s){return this.rangedFilter_.matches(new Ct(e,n))||(n=Ht.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,i,r,s):this.fullLimitUpdateChild_(t,e,n,r,s)},t.prototype.updateFullNode=function(t,e,n){var i;if(e.isLeafNode()||e.isEmpty())i=Ht.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){i=Ht.EMPTY_NODE.withIndex(this.index_);var r=void 0;r=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var s=0;r.hasNext()&&s<this.limit_;){var o=r.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),o)<=0:this.index_.compare(o,this.rangedFilter_.getEndPost())<=0))break;i=i.updateImmediateChild(o.name,o.node),s++}}else{i=(i=e.withIndex(this.index_)).updatePriority(Ht.EMPTY_NODE);var l=void 0,a=void 0,u=void 0;if(r=void 0,this.reverse_){r=i.getReverseIterator(this.index_),l=this.rangedFilter_.getEndPost(),a=this.rangedFilter_.getStartPost();var c=this.index_.getCompare();u=function(t,e){return c(e,t)}}else r=i.getIterator(this.index_),l=this.rangedFilter_.getStartPost(),a=this.rangedFilter_.getEndPost(),u=this.index_.getCompare();s=0;for(var h=!1;r.hasNext();)o=r.getNext(),!h&&u(l,o)<=0&&(h=!0),h&&s<this.limit_&&u(o,a)<=0?s++:i=i.updateImmediateChild(o.name,Ht.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,i,r){var o;if(this.reverse_){var l=this.index_.getCompare();o=function(t,e){return l(e,t)}}else o=this.index_.getCompare();var a=t;s.assert(a.numChildren()===this.limit_,"");var u=new Ct(e,n),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(a.hasChild(e)){for(var d=a.getImmediateChild(e),p=i.getChildAfterChild(this.index_,c,this.reverse_);null!=p&&(p.name===e||a.hasChild(p.name));)p=i.getChildAfterChild(this.index_,p,this.reverse_);var f=null==p?1:o(p,u);if(h&&!n.isEmpty()&&f>=0)return null!=r&&r.trackChildChange(ve.childChangedChange(e,n,d)),a.updateImmediateChild(e,n);null!=r&&r.trackChildChange(ve.childRemovedChange(e,d));var g=a.updateImmediateChild(e,Ht.EMPTY_NODE);return null!=p&&this.rangedFilter_.matches(p)?(null!=r&&r.trackChildChange(ve.childAddedChange(p.name,p.node)),g.updateImmediateChild(p.name,p.node)):g}return n.isEmpty()?t:h&&o(c,u)>=0?(null!=r&&(r.trackChildChange(ve.childRemovedChange(c.name,c.node)),r.trackChildChange(ve.childAddedChange(e,n))),a.updateImmediateChild(e,n).updateImmediateChild(c.name,Ht.EMPTY_NODE)):t},t}(),rn=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ot}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return s.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return s.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:O},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return s.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return s.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:P},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return s.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var i=this.viewFrom_;""===i&&(i=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=i}return this.index_!==Ot&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Ot},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new be(this.getIndex()):this.hasLimit()?new nn(this):new en(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,i={};return this.isDefault()||(this.index_===Ot?e=n.PRIORITY_INDEX:this.index_===qt?e=n.VALUE_INDEX:this.index_===xt?e=n.KEY_INDEX:(s.assert(this.index_ instanceof $t,"Unrecognized index type!"),e=this.index_.toString()),i[n.ORDER_BY]=s.stringify(e),this.startSet_&&(i[n.START_AT]=s.stringify(this.indexStartValue_),this.startNameSet_&&(i[n.START_AT]+=","+s.stringify(this.indexStartName_))),this.endSet_&&(i[n.END_AT]=s.stringify(this.indexEndValue_),this.endNameSet_&&(i[n.END_AT]+=","+s.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?i[n.LIMIT_TO_FIRST]=this.limit_:i[n.LIMIT_TO_LAST]=this.limit_)),i},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),sn=function(t){function e(e,n){if(!(e instanceof tn))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,rn.DEFAULT,!1)||this}return r.__extends(e,t),e.prototype.getKey=function(){return s.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return s.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof X||(null===this.path.getFront()?gt("Reference.child",1,t,!1):ft("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){s.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){s.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){s.validateArgCount("Reference.set",1,2,arguments.length),mt("Reference.set",this.path),at("Reference.set",1,t,this.path,!1),s.validateCallback("Reference.set",2,e,!0);var n=new s.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(s.validateArgCount("Reference.update",1,2,arguments.length),mt("Reference.update",this.path),Array.isArray(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,k("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ct("Reference.update",1,t,this.path,!1),s.validateCallback("Reference.update",2,e,!0);var r=new s.Deferred;return this.repo.update(this.path,t,r.wrapCallback(e)),r.promise},e.prototype.setWithPriority=function(t,e,n){if(s.validateArgCount("Reference.setWithPriority",2,3,arguments.length),mt("Reference.setWithPriority",this.path),at("Reference.setWithPriority",1,t,this.path,!1),ht("Reference.setWithPriority",2,e,!1),s.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var i=new s.Deferred;return this.repo.setWithPriority(this.path,t,e,i.wrapCallback(n)),i.promise},e.prototype.remove=function(t){return s.validateArgCount("Reference.remove",0,1,arguments.length),mt("Reference.remove",this.path),s.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(s.validateArgCount("Reference.transaction",1,3,arguments.length),mt("Reference.transaction",this.path),s.validateCallback("Reference.transaction",1,t,!1),s.validateCallback("Reference.transaction",2,e,!0),_t("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var i=new s.Deferred;"function"==typeof e&&i.promise.catch((function(){}));var r=function(t,n,r){t?i.reject(t):i.resolve(new bt(n,r)),"function"==typeof e&&e(t,n,r)};return this.repo.startTransaction(this.path,t,r,n),i.promise},e.prototype.setPriority=function(t,e){s.validateArgCount("Reference.setPriority",1,2,arguments.length),mt("Reference.setPriority",this.path),ht("Reference.setPriority",1,t,!1),s.validateCallback("Reference.setPriority",2,e,!0);var n=new s.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){s.validateArgCount("Reference.push",0,2,arguments.length),mt("Reference.push",this.path),at("Reference.push",1,t,this.path,!0),s.validateCallback("Reference.push",2,e,!0);var n,i=this.repo.serverTime(),r=wt(i),o=this.child(r),l=this.child(r);return n=null!=t?o.set(t,e).then((function(){return l})):Promise.resolve(l),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch((function(){})),o},e.prototype.onDisconnect=function(){return mt("Reference.onDisconnect",this.path),new vt(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Xt);Xt.__referenceConstructor=sn,Ie.__referenceConstructor=sn;var on=function(){return function(){this.children={},this.childCount=0,this.value=null}}(),ln=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new on),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n=e instanceof X?e:new X(e),i=this,r=n.getFront();null!==r;)i=new t(r,i,s.safeGet(i.node_.children,r)||new on),r=(n=n.popFront()).getFront();return i},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){s.assert(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;F(this.node_.children,(function(i,r){e(new t(i,n,r))}))},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},t.prototype.path=function(){return new X(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),i=s.contains(this.node_.children,t);n&&i?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||i||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}(),an=function(t){return t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT",t}({});tn.MAX_TRANSACTION_RETRIES_=25,tn.prototype.transactionsInit_=function(){this.transactionQueueTree_=new ln},tn.prototype.startTransaction=function(t,e,n,i){this.log_("transaction on "+t);var r=function(){},o=new sn(this,t);o.on("value",r);var l={path:t,update:e,onComplete:n,status:null,order:y(),applyLocally:i,retryCount:0,unwatcher:function(){o.off("value",r)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=this.getLatestState_(t);l.currentInputSnapshot=a;var u=l.update(a.val());if(void 0===u){if(l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete){var c=new Qt(l.currentInputSnapshot,new sn(this,l.path),Ot);l.onComplete(null,!1,c)}}else{ut("transaction failed: Data returned ",u,l.path),l.status=an.RUN;var h=this.transactionQueueTree_.subTree(t),d=h.getValue()||[];d.push(l),h.setValue(d);var p=void 0;"object"==typeof u&&null!==u&&s.contains(u,".priority")?(p=s.safeGet(u,".priority"),s.assert(lt(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(this.serverSyncTree_.calcCompleteEventCache(t)||Ht.EMPTY_NODE).getPriority().val(),p=p;var f=this.generateServerValues(),g=Bt(u,p),m=se(g,a,f);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=m,l.currentWriteId=this.getNextWriteId_();var _=this.serverSyncTree_.applyUserOverwrite(t,m,l.currentWriteId,l.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,_),this.sendReadyTransactions_()}},tn.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Ht.EMPTY_NODE},tn.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);s.assert(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return t.status===an.RUN}))&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild((function(t){e.sendReadyTransactions_(t)}))},tn.prototype.sendTransactionQueue_=function(t,e){for(var n=this,i=e.map((function(t){return t.currentWriteId})),r=this.getLatestState_(t,i),o=r,l=r.hash(),a=0;a<e.length;a++){var u=e[a];s.assert(u.status===an.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=an.SENT,u.retryCount++;var c=X.relativePath(t,u.path);o=o.updateChild(c,u.currentOutputSnapshotRaw)}var h=o.val(!0),d=t;this.server_.put(d.toString(),h,(function(i){n.log_("transaction put response",{path:d.toString(),status:i});var r=[];if("ok"===i){for(var s=[],o=0;o<e.length;o++){if(e[o].status=an.COMPLETED,r=r.concat(n.serverSyncTree_.ackUserWrite(e[o].currentWriteId)),e[o].onComplete){var l=e[o].currentOutputSnapshotResolved,a=new sn(n,e[o].path),u=new Qt(l,a,Ot);s.push(e[o].onComplete.bind(null,null,!0,u))}e[o].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,r),o=0;o<s.length;o++)Z(s[o])}else{if("datastale"===i)for(o=0;o<e.length;o++)e[o].status=e[o].status===an.SENT_NEEDS_ABORT?an.NEEDS_ABORT:an.RUN;else for(k("transaction at "+d.toString()+" failed: "+i),o=0;o<e.length;o++)e[o].status=an.NEEDS_ABORT,e[o].abortReason=i;n.rerunTransactions_(t)}}),l)},tn.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),i=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(i,n),n},tn.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],i=[],r=t.filter((function(t){return t.status===an.RUN})).map((function(t){return t.currentWriteId})),o=0;o<t.length;o++){var l=t[o],a=X.relativePath(e,l.path),u=!1,c=void 0;if(s.assert(null!==a,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===an.NEEDS_ABORT)u=!0,c=l.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0));else if(l.status===an.RUN)if(l.retryCount>=tn.MAX_TRANSACTION_RETRIES_)u=!0,c="maxretry",i=i.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0));else{var h=this.getLatestState_(l.path,r);l.currentInputSnapshot=h;var d=t[o].update(h.val());if(void 0!==d){ut("transaction failed: Data returned ",d,l.path);var p=Bt(d);"object"==typeof d&&null!=d&&s.contains(d,".priority")||(p=p.updatePriority(h.getPriority()));var f=l.currentWriteId,g=this.generateServerValues(),m=se(p,h,g);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=m,l.currentWriteId=this.getNextWriteId_(),r.splice(r.indexOf(f),1),i=(i=i.concat(this.serverSyncTree_.applyUserOverwrite(l.path,m,l.currentWriteId,l.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(f,!0))}else u=!0,c="nodata",i=i.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,i),i=[],u&&(t[o].status=an.COMPLETED,setTimeout(t[o].unwatcher,Math.floor(0)),t[o].onComplete))if("nodata"===c){var y=new sn(this,t[o].path),_=new Qt(t[o].currentInputSnapshot,y,Ot);n.push(t[o].onComplete.bind(null,null,!1,_))}else n.push(t[o].onComplete.bind(null,new Error(c),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),o=0;o<n.length;o++)Z(n[o]);this.sendReadyTransactions_()}},tn.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();null!==e&&null===n.getValue();)n=n.subTree(e),e=(t=t.popFront()).getFront();return n},tn.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},tn.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,i=t.getValue();if(null!==i)for(var r=0;r<i.length;r++)e.push(i[r]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},tn.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var i=0,r=0;r<n.length;r++)n[r].status!==an.COMPLETED&&(n[i]=n[r],i++);n.length=i,t.setValue(n.length>0?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},tn.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),i=this.transactionQueueTree_.subTree(t);return i.forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(i),i.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},tn.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],i=[],r=-1,o=0;o<e.length;o++)e[o].status===an.SENT_NEEDS_ABORT||(e[o].status===an.SENT?(s.assert(r===o-1,"All SENT items should be at beginning of queue."),r=o,e[o].status=an.SENT_NEEDS_ABORT,e[o].abortReason="set"):(s.assert(e[o].status===an.RUN,"Unexpected transaction status in abort"),e[o].unwatcher(),i=i.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete&&n.push(e[o].onComplete.bind(null,new Error("set"),!1,null))));for(-1===r?t.setValue(null):e.length=r+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),i),o=0;o<n.length;o++)Z(n[o])}};var un,cn=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(S("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';k(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),hn=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN="owner",t}(),dn=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return un||(un=new t),un},t.prototype.interrupt=function(){var t,e,n,i;try{for(var s=r.__values(Object.keys(this.repos_)),o=s.next();!o.done;o=s.next()){var l=o.value;try{for(var a=(n=void 0,r.__values(Object.keys(this.repos_[l]))),u=a.next();!u.done;u=a.next())this.repos_[l][u.value].interrupt()}catch(c){n={error:c}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{o&&!o.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}},t.prototype.resume=function(){var t,e,n,i;try{for(var s=r.__values(Object.keys(this.repos_)),o=s.next();!o.done;o=s.next()){var l=o.value;try{for(var a=(n=void 0,r.__values(Object.keys(this.repos_[l]))),u=a.next();!u.done;u=a.next())this.repos_[l][u.value].resume()}catch(c){n={error:c}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{o&&!o.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}},t.prototype.databaseFromApp=function(t,e,n,i){var r=n||t.options.databaseURL;void 0===r&&(t.options.projectId||T("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),S("Using default host for project ",t.options.projectId),r=t.options.projectId+"-default-rtdb.firebaseio.com");var s,o=et(r,i),l=o.repoInfo,a=void 0;"undefined"!=typeof process&&(a=process.env.FIREBASE_DATABASE_EMULATOR_HOST),a?(s=!0,l=(o=et(r="http://"+a+"?ns="+l.namespace,i)).repoInfo):s=!o.repoInfo.secure;var u=i&&s?new hn:new cn(t,e);return yt("Invalid Firebase Database URL",1,o),o.path.isEmpty()||T("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(l,t,u).database},t.prototype.deleteRepo=function(t){var e=s.safeGet(this.repos_,t.app.name);e&&s.safeGet(e,t.repoInfo_.toURLString())===t||T("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e,n){var i=s.safeGet(this.repos_,e.name);i||(this.repos_[e.name]=i={});var r=s.safeGet(i,t.toURLString());return r&&T("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new tn(t,this.useRestClient_,e,n),i[t.toURLString()]=r,r},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),pn=function(){function t(t){this.repo_=t,t instanceof tn||T("Don't call new Database() directly - please use firebase.database()."),this.root_=new sn(t,X.Empty),this.INTERNAL=new fn(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),s.validateArgCount("database.ref",0,1,arguments.length),t instanceof sn?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),s.validateArgCount(e,1,1,arguments.length);var n=et(t,this.repo_.repoInfo_.nodeAdmin);yt(e,1,n);var i=n.repoInfo;return i.host!==this.repo_.repoInfo_.host&&T(e+": Host name does not match the current database: (found "+i.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&T("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){s.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){s.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},t}(),fn=function(){function t(t){this.database=t}return t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.database.checkDeleted_("delete"),dn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]}))}))},t}(),gn=Object.freeze({__proto__:null,forceLongPolling:function(){Ge.forceDisallow(),We.forceAllow()},forceWebSockets:function(){We.forceDisallow()},isWebSocketsAvailable:function(){return Ge.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),mn=Xe;Xe.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Xe.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var yn=Object.freeze({__proto__:null,DataConnection:mn,RealTimeConnection:Ze,hijackHash:function(t){var e=Xe.prototype.put;return Xe.prototype.put=function(n,i,r,s){void 0!==s&&(s=t()),e.call(this,n,i,r,s)},function(){Xe.prototype.put=e}},ConnectionTarget:tt,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){dn.getInstance().forceRestClient(t)}}),_n=pn.ServerValue;function vn(e){$e=e.SDK_VERSION;var n=e.INTERNAL.registerComponent(new l.Component("database",(function(t,e){var n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal");return dn.getInstance().databaseFromApp(n,i,e)}),"PUBLIC").setServiceProps({Reference:sn,Query:Xt,Database:pn,DataSnapshot:Qt,enableLogging:C,INTERNAL:gn,ServerValue:_n,TEST_ACCESS:yn}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.6.13"),s.isNodeSdk()&&(t.exports=n)}vn(c.default),e.DataSnapshot=Qt,e.Database=pn,e.OnDisconnect=vt,e.Query=Xt,e.Reference=sn,e.ServerValue=_n,e.enableLogging=C,e.registerDatabase=vn},"S+S0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("UBlB"),r=n("zVF4"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new r.Deferred;this.instancesDeferred.set(e,n);try{var i=this.getOrInitializeService(e);i&&n.resolve(i)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=i.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,r=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(r);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(c){}try{for(var r=i.__values(this.instancesDeferred.entries()),s=r.next();!s.done;s=r.next()){var o=i.__read(s.value,2),l=o[1],a=this.normalizeInstanceIdentifier(o[0]);try{var u=this.getOrInitializeService(a);l.resolve(u)}catch(c){}}}catch(h){e={error:h}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(i.__spread(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),l=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new o(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=s,e.ComponentContainer=l,e.Provider=o},UBlB:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return r})),n.d(e,"__assign",(function(){return s})),n.d(e,"__rest",(function(){return o})),n.d(e,"__decorate",(function(){return l})),n.d(e,"__param",(function(){return a})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__createBinding",(function(){return d})),n.d(e,"__exportStar",(function(){return p})),n.d(e,"__values",(function(){return f})),n.d(e,"__read",(function(){return g})),n.d(e,"__spread",(function(){return m})),n.d(e,"__spreadArrays",(function(){return y})),n.d(e,"__await",(function(){return _})),n.d(e,"__asyncGenerator",(function(){return v})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return w})),n.d(e,"__makeTemplateObject",(function(){return C})),n.d(e,"__importStar",(function(){return S})),n.d(e,"__importDefault",(function(){return E})),n.d(e,"__classPrivateFieldGet",(function(){return x})),n.d(e,"__classPrivateFieldSet",(function(){return T}));var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function o(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function l(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function a(t,e){return function(n,i){e(n,i,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,i){return new(n||(n=Promise))((function(r,s){function o(t){try{a(i.next(t))}catch(e){s(e)}}function l(t){try{a(i.throw(t))}catch(e){s(e)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,l)}a((i=i.apply(t,e||[])).next())}))}function h(t,e){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function l(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(l){s=[6,l],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}function d(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}function p(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(i=s.next()).done;)o.push(i.value)}catch(l){r={error:l}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function y(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,l=s.length;o<l;o++,r++)i[r]=s[o];return i}function _(t){return this instanceof _?(this.v=t,this):new _(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(t){r[t]&&(i[t]=function(e){return new Promise((function(n,i){s.push([t,e,n,i])>1||l(t,e)}))})}function l(t,e){try{(n=r[t](e)).value instanceof _?Promise.resolve(n.value.v).then(a,u):c(s[0][2],n)}catch(i){c(s[0][3],i)}var n}function a(t){l("next",t)}function u(t){l("throw",t)}function c(t,e){t(e),s.shift(),s.length&&l(s[0][0],s[0][1])}}function b(t){var e,n;return e={},i("next"),i("throw",(function(t){throw t})),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){e[i]=t[i]?function(e){return(n=!n)?{value:_(t[i](e)),done:"return"===i}:r?r(e):e}:r}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=f(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise((function(i,r){!function(t,e,n,i){Promise.resolve(i).then((function(e){t({value:e,done:n})}),e)}(i,r,(e=t[n](e)).done,e.value)}))}}}function C(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function S(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}function x(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function T(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},Wcq6:function(t,e,n){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=i(n("wj3C"));r.default.registerVersion("firebase","7.24.0","app"),t.exports=r.default},mAIw:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return r})),n.d(e,"__assign",(function(){return s})),n.d(e,"__rest",(function(){return o})),n.d(e,"__decorate",(function(){return l})),n.d(e,"__param",(function(){return a})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__createBinding",(function(){return d})),n.d(e,"__exportStar",(function(){return p})),n.d(e,"__values",(function(){return f})),n.d(e,"__read",(function(){return g})),n.d(e,"__spread",(function(){return m})),n.d(e,"__spreadArrays",(function(){return y})),n.d(e,"__await",(function(){return _})),n.d(e,"__asyncGenerator",(function(){return v})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return w})),n.d(e,"__makeTemplateObject",(function(){return C})),n.d(e,"__importStar",(function(){return S})),n.d(e,"__importDefault",(function(){return E})),n.d(e,"__classPrivateFieldGet",(function(){return x})),n.d(e,"__classPrivateFieldSet",(function(){return T}));var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function o(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function l(t,e,n,i){var r,s=arguments.length,o=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function a(t,e){return function(n,i){e(n,i,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,i){return new(n||(n=Promise))((function(r,s){function o(t){try{a(i.next(t))}catch(e){s(e)}}function l(t){try{a(i.throw(t))}catch(e){s(e)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,l)}a((i=i.apply(t,e||[])).next())}))}function h(t,e){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function l(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(l){s=[6,l],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}function d(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}function p(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(i=s.next()).done;)o.push(i.value)}catch(l){r={error:l}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function y(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,l=s.length;o<l;o++,r++)i[r]=s[o];return i}function _(t){return this instanceof _?(this.v=t,this):new _(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(t){r[t]&&(i[t]=function(e){return new Promise((function(n,i){s.push([t,e,n,i])>1||l(t,e)}))})}function l(t,e){try{(n=r[t](e)).value instanceof _?Promise.resolve(n.value.v).then(a,u):c(s[0][2],n)}catch(i){c(s[0][3],i)}var n}function a(t){l("next",t)}function u(t){l("throw",t)}function c(t,e){t(e),s.shift(),s.length&&l(s[0][0],s[0][1])}}function b(t){var e,n;return e={},i("next"),i("throw",(function(t){throw t})),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){e[i]=t[i]?function(e){return(n=!n)?{value:_(t[i](e)),done:"return"===i}:r?r(e):e}:r}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=f(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise((function(i,r){!function(t,e,n,i){Promise.resolve(i).then((function(e){t({value:e,done:n})}),e)}(i,r,(e=t[n](e)).done,e.value)}))}}}function C(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function S(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}function x(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function T(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},"q/0M":function(t,e,n){"use strict";function i(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,l=s.length;o<l;o++,r++)i[r]=s[o];return i}var r;n.r(e),n.d(e,"LogLevel",(function(){return o})),n.d(e,"Logger",(function(){return h})),n.d(e,"setLogLevel",(function(){return d})),n.d(e,"setUserLogHandler",(function(){return p}));var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),l={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},a=o.INFO,u=((r={})[o.DEBUG]="log",r[o.VERBOSE]="log",r[o.INFO]="info",r[o.WARN]="warn",r[o.ERROR]="error",r),c=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=u[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,i(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=a,this._logHandler=c,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?l[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.DEBUG],t)),this._logHandler.apply(this,i([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.VERBOSE],t)),this._logHandler.apply(this,i([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.INFO],t)),this._logHandler.apply(this,i([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.WARN],t)),this._logHandler.apply(this,i([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.ERROR],t)),this._logHandler.apply(this,i([this,o.ERROR],t))},t}();function d(t){s.forEach((function(e){e.setLogLevel(t)}))}function p(t,e){for(var n=function(n){var i=null;e&&e.level&&(i=l[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];var l=r.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=i?i:e.logLevel)&&t({level:o[n].toLowerCase(),message:l,args:r,type:e.name})}},i=0,r=s;i<r.length;i++)n(r[i])}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r,s=n("30Go"),o=n("zVF4"),l=n("S+S0"),a=n("q/0M"),u=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",i["bad-app-name"]="Illegal App name: '{$appName}",i["duplicate-app"]="Firebase App named '{$appName}' already exists",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i["invalid-log-argument"]="First argument to `onLog` must be null or a function.",i),c=new o.ErrorFactory("app","Firebase",u),h=((r={})["@firebase/app"]="fire-core",r["@firebase/analytics"]="fire-analytics",r["@firebase/auth"]="fire-auth",r["@firebase/database"]="fire-rtdb",r["@firebase/functions"]="fire-fn",r["@firebase/installations"]="fire-iid",r["@firebase/messaging"]="fire-fcm",r["@firebase/performance"]="fire-perf",r["@firebase/remote-config"]="fire-rc",r["@firebase/storage"]="fire-gcs",r["@firebase/firestore"]="fire-fst",r["fire-js"]="fire-js",r["firebase-wrapper"]="fire-js-all",r),d=new a.Logger("@firebase/app"),p=function(){function t(t,e,n){var i,r,a=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(t),this.container=new l.ComponentContainer(e.name),this._addComponent(new l.Component("app",(function(){return a}),"PUBLIC"));try{for(var u=s.__values(this.firebase_.INTERNAL.components.values()),c=u.next();!c.done;c=u.next())this._addComponent(c.value)}catch(h){i={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(i)throw i.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},t}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var f=function t(){var e=function(t){var e={},n=new Map,i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={}),"object"==typeof r&&null!==r||(r={name:r});var s=r;void 0===s.name&&(s.name="[DEFAULT]");var l=s.name;if("string"!=typeof l||!l)throw c.create("bad-app-name",{appName:String(l)});if(o.contains(e,l))throw c.create("duplicate-app",{appName:l});var a=new t(n,s,i);return e[l]=a,a},app:r,registerVersion:function(t,e,n){var i,r=null!==(i=h[t])&&void 0!==i?i:t;n&&(r+="-"+n);var s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var a=['Unable to register library "'+r+'" with version "'+e+'":'];return s&&a.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),s&&o&&a.push("and"),o&&a.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(a.join(" "))}u(new l.Component(r+"-version",(function(){return{library:r,version:e}}),"VERSION"))},setLogLevel:a.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw c.create("invalid-log-argument",{appName:name});a.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:u,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function r(t){if(!o.contains(e,t=t||"[DEFAULT]"))throw c.create("no-app",{appName:t});return e[t]}function u(l){var a,u,h=l.name;if(n.has(h))return d.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===l.type?i[h]:null;if(n.set(h,l),"PUBLIC"===l.type){var p=function(t){if(void 0===t&&(t=r()),"function"!=typeof t[h])throw c.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==l.serviceProps&&o.deepExtend(p,l.serviceProps),i[h]=p,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,l.multipleInstances?t:[])}}try{for(var f=s.__values(Object.keys(e)),g=f.next();!g.done;g=f.next())e[g.value]._addComponent(l)}catch(m){a={error:m}}finally{try{g&&!g.done&&(u=f.return)&&u.call(f)}finally{if(a)throw a.error}}return"PUBLIC"===l.type?i[h]:null}return i.default=i,Object.defineProperty(i,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),r.App=t,i}(p);return e.INTERNAL=s.__assign(s.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){o.deepExtend(e,t)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(o.isBrowser()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=f.initializeApp;f.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o.isNode()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),y.apply(void 0,t)};var _=f;!function(t,e){t.INTERNAL.registerComponent(new l.Component("platform-logger",(function(t){return new g(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.11",void 0),t.registerVersion("fire-js","")}(_),e.default=_,e.firebase=_},zUnb:function(t,e,n){"use strict";function i(t){return"function"==typeof t}n.r(e);let r=!1;const s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}};function o(t){setTimeout(()=>{throw t})}const l={closed:!0,next(t){},error(t){if(s.useDeprecatedSynchronousErrorHandling)throw t;o(t)},complete(){}},a=Array.isArray||(t=>t&&"number"==typeof t.length);function u(t){return null!==t&&"object"==typeof t}function c(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}c.prototype=Object.create(Error.prototype);const h=c;let d=(()=>{class t{constructor(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let t,e=!1;if(this.closed)return;let{_parent:n,_parents:r,_unsubscribe:s,_subscriptions:o}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let l=-1,c=r?r.length:0;for(;n;)n.remove(this),n=++l<c&&r[l]||null;if(i(s))try{s.call(this)}catch(d){e=!0,t=d instanceof h?p(d.errors):[d]}if(a(o))for(l=-1,c=o.length;++l<c;){const n=o[l];if(u(n))try{n.unsubscribe()}catch(d){e=!0,t=t||[],d instanceof h?t=t.concat(p(d.errors)):t.push(d)}}if(e)throw new h(t)}add(e){let n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(n._addParent(this)){const t=this._subscriptions;t?t.push(n):this._subscriptions=[n]}return n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}_addParent(t){let{_parent:e,_parents:n}=this;return e!==t&&(e?n?-1===n.indexOf(t)&&(n.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function p(t){return t.reduce((t,e)=>t.concat(e instanceof h?e.errors:e),[])}const f="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class g extends d{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=l;break;case 1:if(!t){this.destination=l;break}if("object"==typeof t){t instanceof g?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,t,e,n)}}[f](){return this}static create(t,e,n){const i=new g(t,e,n);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:t,_parents:e}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this}}class m extends g{constructor(t,e,n,r){let s;super(),this._parentSubscriber=t;let o=this;i(e)?s=e:e&&(s=e.next,n=e.error,r=e.complete,e!==l&&(o=Object.create(e),i(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=n,this._complete=r}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;s.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=s;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):o(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;o(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);s.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.useDeprecatedSynchronousErrorHandling)throw n;o(n)}}__tryOrSetError(t,e,n){if(!s.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return s.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(o(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const y="function"==typeof Symbol&&Symbol.observable||"@@observable";function _(){}function v(...t){return b(t)}function b(t){return t?1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}:_}let w=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:i}=this,r=function(t,e,n){if(t){if(t instanceof g)return t;if(t[f])return t[f]()}return t||e||n?new g(t,e,n):new g(l)}(t,e,n);if(r.add(i?i.call(r,this.source):this.source||s.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),s.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}_trySubscribe(t){try{return this._subscribe(t)}catch(e){s.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof g?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=C(e))((e,n)=>{let i;i=this.subscribe(e=>{try{t(e)}catch(r){n(r),i&&i.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[y](){return this}pipe(...t){return 0===t.length?this:b(t)(this)}toPromise(t){return new(t=C(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function C(t){if(t||(t=s.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function S(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}S.prototype=Object.create(Error.prototype);const E=S;class x extends d{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class T extends g{constructor(t){super(t),this.destination=t}}let k=(()=>{class t extends w{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[f](){return new T(this)}lift(t){const e=new I(this,this);return e.operator=t,e}next(t){if(this.closed)throw new E;if(!this.isStopped){const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].next(t)}}error(t){if(this.closed)throw new E;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].error(t);this.observers.length=0}complete(){if(this.closed)throw new E;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let i=0;i<e;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new E;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new E;return this.hasError?(t.error(this.thrownError),d.EMPTY):this.isStopped?(t.complete(),d.EMPTY):(this.observers.push(t),new x(this,t))}asObservable(){const t=new w;return t.source=this,t}}return t.create=(t,e)=>new I(t,e),t})();class I extends k{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):d.EMPTY}}function O(t){return t&&"function"==typeof t.schedule}class P extends g{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const R=t=>e=>{for(let n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()},D=t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,o),e);function A(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const N=A(),L=t=>e=>{const n=t[N]();for(;;){const t=n.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e},F=t=>e=>{const n=t[y]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)},M=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function V(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const z=t=>{if(t instanceof w)return e=>t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e);if(t&&"function"==typeof t[y])return F(t);if(M(t))return R(t);if(V(t))return D(t);if(t&&"function"==typeof t[N])return L(t);{const e=u(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}};function j(t,e,n,i,r=new P(t,n,i)){if(!r.closed)return z(e)(r)}class H extends g{notifyNext(t,e,n,i,r){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function U(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new B(t,e))}}class B{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new W(t,this.project,this.thisArg))}}class W extends g{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function q(t,e){return new w(e?n=>{const i=new d;let r=0;return i.add(e.schedule((function(){r!==t.length?(n.next(t[r++]),n.closed||i.add(this.schedule())):n.complete()}))),i}:R(t))}function $(t,e){if(!e)return t instanceof w?t:new w(z(t));if(null!=t){if(function(t){return t&&"function"==typeof t[y]}(t))return function(t,e){return new w(e?n=>{const i=new d;return i.add(e.schedule(()=>{const r=t[y]();i.add(r.subscribe({next(t){i.add(e.schedule(()=>n.next(t)))},error(t){i.add(e.schedule(()=>n.error(t)))},complete(){i.add(e.schedule(()=>n.complete()))}}))})),i}:F(t))}(t,e);if(V(t))return function(t,e){return new w(e?n=>{const i=new d;return i.add(e.schedule(()=>t.then(t=>{i.add(e.schedule(()=>{n.next(t),i.add(e.schedule(()=>n.complete()))}))},t=>{i.add(e.schedule(()=>n.error(t)))}))),i}:D(t))}(t,e);if(M(t))return q(t,e);if(function(t){return t&&"function"==typeof t[N]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new w(e?n=>{const i=new d;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(()=>{r=t[N](),i.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=r.next();t=n.value,e=n.done}catch(i){return void n.error(i)}e?n.complete():(n.next(t),this.schedule())})))})),i}:L(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function Q(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?i=>i.pipe(Q((n,i)=>$(t(n,i)).pipe(U((t,r)=>e(n,t,i,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new G(t,n)))}class G{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new K(t,this.project,this.concurrent))}}class K extends H{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new P(this,void 0,void 0);this.destination.add(i),j(this,t,e,n,i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,i,r){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Z(t){return t}function Y(t=Number.POSITIVE_INFINITY){return Q(Z,t)}function X(...t){let e=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return O(i)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof i&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof w?t[0]:Y(e)(q(t,n))}function J(){return function(t){return t.lift(new tt(t))}}class tt{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const i=new et(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}class et extends g{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}const nt=class extends w{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new d,t.add(this.source.subscribe(new rt(this.getSubject(),this))),t.closed?(this._connection=null,t=d.EMPTY):this._connection=t),t}refCount(){return J()(this)}}.prototype,it={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:nt._subscribe},_isComplete:{value:nt._isComplete,writable:!0},getSubject:{value:nt.getSubject},connect:{value:nt.connect},refCount:{value:nt.refCount}};class rt extends T{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function st(){return new k}function ot(){return t=>{return J()((e=st,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,it);return i.source=t,i.subjectFactory=n,i})(t));var e}}function lt(t,e,n){const i=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function r(...t){if(this instanceof r)return i.apply(this,t),this;const e=new r(...t);return n.annotation=e,n;function n(t,n,i){const r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(e),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r}const at=lt("Inject",t=>({token:t})),ut=lt("Optional"),ct=lt("Self"),ht=lt("SkipSelf");var dt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function pt(t){for(let e in t)if(t[e]===pt)return e;throw Error("Could not find renamed property on target object.")}function ft(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function gt(t){const e=t[mt];return e&&e.token===t?e:null}const mt=pt({ngInjectableDef:pt});function yt(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(yt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}const _t=pt({__forward_ref__:pt});function vt(t){return t.__forward_ref__=vt,t.toString=function(){return yt(this())},t}function bt(t){const e=t;return"function"==typeof e&&e.hasOwnProperty(_t)&&e.__forward_ref__===vt?e():t}const wt="undefined"!=typeof globalThis&&globalThis,Ct="undefined"!=typeof window&&window,St="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Et="undefined"!=typeof global&&global,xt=wt||Et||Ct||St;class Tt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.ngInjectableDef=ft({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const kt=new Tt("INJECTOR",-1),It=new Object,Ot=/\n/gm,Pt=pt({provide:String,useValue:pt});let Rt=void 0;function Dt(t){const e=Rt;return Rt=t,e}function At(t,e=dt.Default){return function(t,e=dt.Default){if(void 0===Rt)throw new Error("inject() must be called from an injection context");return null===Rt?function(t,e,n){const i=gt(t);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&dt.Optional)return null;throw new Error(`Injector: NOT_FOUND [${yt(t)}]`)}(t,0,e):Rt.get(t,e&dt.Optional?null:void 0,e)}(t,e)}const Nt=At;class Lt{get(t,e=It){if(e===It){const e=new Error(`NullInjectorError: No provider for ${yt(t)}!`);throw e.name="NullInjectorError",e}return e}}function Ft(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let r=yt(e);if(e instanceof Array)r=e.map(yt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];t.push(n+":"+("string"==typeof i?JSON.stringify(i):yt(i)))}r=`{${t.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(Ot,"\n  ")}`}class Mt{}class Vt{}function zt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function jt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const Ht=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),Ut=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(xt))();function Bt(t){return t.ngDebugContext}function Wt(t){return t.ngOriginalError}function qt(t,...e){t.error(...e)}class $t{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||qt}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Bt(t)?Bt(t):this._findContext(Wt(t)):null}_findOriginalError(t){let e=Wt(t);for(;e&&Wt(e);)e=Wt(e);return e}}let Qt=!0,Gt=!1;function Kt(){return Gt=!0,Qt}class Zt{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),this.inertBodyElement=this.inertDocument.createElement("body"),t.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(i){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const n=e.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Yt=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Xt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Jt(t){return(t=String(t)).match(Yt)||t.match(Xt)?t:(Kt()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function te(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function ee(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const ne=te("area,br,col,hr,img,wbr"),ie=te("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),re=te("rp,rt"),se=ee(re,ie),oe=ee(ne,ee(ie,te("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ee(re,te("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),se),le=te("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ae=te("srcset"),ue=ee(le,ae,te("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),te("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ce=te("script,style,template");class he{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!oe.hasOwnProperty(e))return this.sanitizedSomething=!0,!ce.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,s=e.toLowerCase();if(!ue.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;le[s]&&(o=Jt(o)),ae[s]&&(i=o,o=(i=String(i)).split(",").map(t=>Jt(t.trim())).join(", ")),this.buf.push(" ",e,'="',fe(o),'"')}var i;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();oe.hasOwnProperty(e)&&!ne.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(fe(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const de=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pe=/([^\#-~ |!])/g;function fe(t){return t.replace(/&/g,"&amp;").replace(de,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(pe,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ge;function me(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const ye=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}();class _e{}const ve=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),be=/^url\(([^)]+)\)$/;function we(t){return"ng-reflect-"+t.replace(/[$@]/g,"_").replace(Ce,(...t)=>"-"+t[1].toLowerCase())}const Ce=/([A-Z])/g;function Se(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}let Ee=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>xe(),t})();const xe=(...t)=>{},Te=new Tt("The presence of this token marks an injector as being the root injector."),ke=function(t,e,n){return new Ae(t,e,n)};let Ie=(()=>{class t{static create(t,e){return Array.isArray(t)?ke(t,e,""):ke(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=It,t.NULL=new Lt,t.ngInjectableDef=ft({token:t,providedIn:"any",factory:()=>At(kt)}),t.__NG_ELEMENT_ID__=-1,t})();const Oe=function(t){return t},Pe=[],Re=Oe,De=function(){return Array.prototype.slice.call(arguments)};class Ae{constructor(t,e=Ie.NULL,n=null){this.parent=e,this.source=n;const i=this._records=new Map;i.set(Ie,{token:Ie,fn:Oe,deps:Pe,value:this,useNew:!1}),i.set(kt,{token:kt,fn:Oe,deps:Pe,value:this,useNew:!1}),function t(e,n){if(n)if((n=bt(n))instanceof Array)for(let i=0;i<n.length;i++)t(e,n[i]);else{if("function"==typeof n)throw Le("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Le("Unexpected provider",n);{let t=bt(n.provide);const i=function(t){const e=function(t){let e=Pe;const n=t.deps;if(n&&n.length){e=[];for(let t=0;t<n.length;t++){let i=6,r=bt(n[t]);if(r instanceof Array)for(let t=0,e=r;t<e.length;t++){const n=e[t];n instanceof ut||n==ut?i|=1:n instanceof ht||n==ht?i&=-3:n instanceof ct||n==ct?i&=-5:r=n instanceof at?n.token:bt(n)}e.push({token:r,options:i})}}else if(t.useExisting)e=[{token:bt(t.useExisting),options:6}];else if(!n&&!(Pt in t))throw Le("'deps' required",t);return e}(t);let n=Oe,i=Pe,r=!1,s=bt(t.provide);if(Pt in t)i=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)r=!0,n=bt(t.useClass);else{if("function"!=typeof s)throw Le("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);r=!0,n=s}return{deps:e,fn:n,useNew:r,value:i}}(n);if(!0===n.multi){let i=e.get(t);if(i){if(i.fn!==De)throw Ne(t)}else e.set(t,i={token:n.provide,deps:[],useNew:!1,fn:De,value:Pe});t=n,i.deps.push({token:t,options:6})}const r=e.get(t);if(r&&r.fn==De)throw Ne(t);e.set(t,i)}}}(i,t)}get(t,e,n=dt.Default){const i=this._records.get(t);try{return function t(e,n,i,r,s,o){try{return function(e,n,i,r,s,o){let l;if(!n||o&dt.SkipSelf)o&dt.Self||(l=r.get(e,s,dt.Default));else{if(l=n.value,l==Re)throw Error("\u0275Circular dependency");if(l===Pe){n.value=Re;let e=void 0,s=n.useNew,o=n.fn,a=n.deps,u=Pe;if(a.length){u=[];for(let e=0;e<a.length;e++){const n=a[e],s=n.options,o=2&s?i.get(n.token):void 0;u.push(t(n.token,o,i,o||4&s?r:Ie.NULL,1&s?null:Ie.THROW_IF_NOT_FOUND,dt.Default))}}n.value=l=s?new o(...u):o.apply(e,u)}}return l}(e,n,i,r,s,o)}catch(l){throw l instanceof Error||(l=new Error(l)),(l.ngTempTokenPath=l.ngTempTokenPath||[]).unshift(e),n&&n.value==Re&&(n.value=Pe),l}}(t,i,this._records,this.parent,e,n)}catch(r){return function(t,e,n,i){const r=t.ngTempTokenPath;throw e.__source&&r.unshift(e.__source),t.message=Ft("\n"+t.message,r,"StaticInjectorError",i),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(r,t,0,this.source)}}toString(){const t=[];return this._records.forEach((e,n)=>t.push(yt(n))),`StaticInjector[${t.join(", ")}]`}}function Ne(t){return Le("Cannot mix multi providers and regular providers",t)}function Le(t,e){return new Error(Ft(t,e,"StaticInjectorError"))}const Fe=new Tt("AnalyzeForEntryComponents");let Me=null;function Ve(){if(!Me){const t=xt.Symbol;if(t&&t.iterator)Me=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Me=n)}}}return Me}function ze(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function je(t,e){const n=Ue(t),i=Ue(e);if(n&&i)return function(t,e,n){const i=t[Ve()](),r=e[Ve()]();for(;;){const t=i.next(),e=r.next();if(t.done&&e.done)return!0;if(t.done||e.done)return!1;if(!n(t.value,e.value))return!1}}(t,e,je);{const r=t&&("object"==typeof t||"function"==typeof t),s=e&&("object"==typeof e||"function"==typeof e);return!(n||!r||i||!s)||ze(t,e)}}class He{constructor(t){this.wrapped=t}static wrap(t){return new He(t)}static unwrap(t){return He.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof He}}function Ue(t){return!!Be(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ve()in t)}function Be(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function We(t){return!!t&&"function"==typeof t.then}function qe(t){return!!t&&"function"==typeof t.subscribe}class $e{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}class Qe{}function Ge(t){const e=Error(`No component factory found for ${yt(t)}. Did you add it to @NgModule.entryComponents?`);return e[Ke]=t,e}const Ke="ngComponent";class Ze{resolveComponentFactory(t){throw Ge(t)}}let Ye=(()=>{class t{}return t.NULL=new Ze,t})();class Xe{constructor(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(let i=0;i<t.length;i++){const e=t[i];this._factories.set(e.componentType,e)}}resolveComponentFactory(t){let e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw Ge(t);return new Je(e,this._ngModule)}}class Je extends Qe{constructor(t,e){super(),this.factory=t,this.ngModule=e,this.selector=t.selector,this.componentType=t.componentType,this.ngContentSelectors=t.ngContentSelectors,this.inputs=t.inputs,this.outputs=t.outputs}create(t,e,n,i){return this.factory.create(t,e,n,i||this.ngModule)}}function tn(...t){}let en=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>nn(t),t})();const nn=tn;class rn{}class sn{}const on=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let ln=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>an(),t})();const an=tn;class un{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const cn=new un("8.2.14");class hn{constructor(){}supports(t){return Ue(t)}create(t){return new pn(t)}}const dn=(t,e)=>e;class pn{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||dn}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,i=0,r=null;for(;e||n;){const s=!n||e&&e.currentIndex<yn(n,i,r)?e:n,o=yn(s,i,r),l=s.currentIndex;if(s===n)i--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)i++;else{r||(r=[]);const t=o-i,e=l-i;if(t!=e){for(let n=0;n<t;n++){const i=n<r.length?r[n]:r[n]=0,s=i+n;e<=s&&s<t&&(r[n]=i+1)}r[s.previousIndex]=e-t}}o!==l&&t(s,o,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ue(t))throw new Error(`Error trying to diff '${yt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,i,r=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],i=this._trackByFn(e,n),null!==r&&ze(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,n,i,e)),ze(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,e),s=!0),r=r._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ve()]();let i;for(;!(i=n.next()).done;)e(i.value)}}(t,t=>{i=this._trackByFn(e,t),null!==r&&ze(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,t,i,e)),ze(r.item,t)||this._addIdentityChange(r,t)):(r=this._mismatch(r,t,i,e),s=!0),r=r._next,e++}),this.length=e;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,i){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(ze(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(ze(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):t=this._addAfter(new fn(e,n),r,i),t}_verifyReinsertion(t,e,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new mn),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new mn),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class fn{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class gn{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&ze(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class mn{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new gn,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function yn(t,e,n){const i=t.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}class _n{constructor(){}supports(t){return t instanceof Map||Be(t)}create(){return new vn}}class vn{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Be(t)))throw new Error(`Error trying to diff '${yt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new bn(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){ze(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class bn{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let wn=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ht,new ut]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.ngInjectableDef=ft({token:t,providedIn:"root",factory:()=>new t([new hn])}),t})(),Cn=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ht,new ut]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.ngInjectableDef=ft({token:t,providedIn:"root",factory:()=>new t([new _n])}),t})();const Sn=[new _n],En=new wn([new hn]),xn=new Cn(Sn);let Tn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>kn(t,en),t})();const kn=tn;let In=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>On(t,en),t})();const On=tn;function Pn(t,e,n,i){let r=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${e}'. Current value: '${n}'.`;return i&&(r+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){const n=new Error(t);return Rn(n,e),n}(r,t)}function Rn(t,e){t.ngDebugContext=e,t.ngErrorLogger=e.logError.bind(e)}function Dn(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}function An(t,e,n){const i=t.state,r=1792&i;return r===e?(t.state=-1793&i|n,t.initIndex=-1,!0):r===n}function Nn(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function Ln(t,e){return t.nodes[e]}function Fn(t,e){return t.nodes[e]}function Mn(t,e){return t.nodes[e]}function Vn(t,e){return t.nodes[e]}function zn(t,e){return t.nodes[e]}const jn={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Hn=()=>{},Un=new Map;function Bn(t){let e=Un.get(t);return e||(e=yt(t)+"_"+Un.size,Un.set(t,e)),e}function Wn(t,e,n,i){if(He.isWrapped(i)){i=He.unwrap(i);const r=t.def.nodes[e].bindingIndex+n,s=He.unwrap(t.oldValues[r]);t.oldValues[r]=new He(s)}return i}function qn(t){return{id:"$$undefined",styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let $n=0;function Qn(t,e,n,i){return!(!(2&t.state)&&ze(t.oldValues[e.bindingIndex+n],i))}function Gn(t,e,n,i){return!!Qn(t,e,n,i)&&(t.oldValues[e.bindingIndex+n]=i,!0)}function Kn(t,e,n,i){const r=t.oldValues[e.bindingIndex+n];if(1&t.state||!je(r,i)){const s=e.bindings[n].name;throw Pn(jn.createDebugContext(t,e.nodeIndex),`${s}: ${r}`,`${s}: ${i}`,0!=(1&t.state))}}function Zn(t){let e=t;for(;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Yn(t,e){let n=t;for(;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function Xn(t,e,n,i){try{return Zn(33554432&t.def.nodes[e].flags?Fn(t,e).componentView:t),jn.handleEvent(t,e,n,i)}catch(r){t.root.errorHandler.handleError(r)}}function Jn(t){return t.parent?Fn(t.parent,t.parentNodeDef.nodeIndex):null}function ti(t){return t.parent?t.parentNodeDef.parent:null}function ei(t,e){switch(201347067&e.flags){case 1:return Fn(t,e.nodeIndex).renderElement;case 2:return Ln(t,e.nodeIndex).renderText}}function ni(t,e){return t?`${t}:${e}`:e}function ii(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function ri(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function si(t){return 1<<t%32}function oi(t){const e={};let n=0;const i={};return t&&t.forEach(([t,r])=>{"number"==typeof t?(e[t]=r,n|=si(t)):i[t]=r}),{matchedQueries:e,references:i,matchedQueryIds:n}}function li(t,e){return t.map(t=>{let n,i;return Array.isArray(t)?[i,n]=t:(i=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,"__source",{value:e,configurable:!0}),{flags:i,token:n,tokenKey:Bn(n)}})}function ai(t,e,n){let i=n.renderParent;return i?0==(1&i.flags)||0==(33554432&i.flags)||i.element.componentRendererType&&i.element.componentRendererType.encapsulation===Ht.Native?Fn(t,n.renderParent.nodeIndex).renderElement:void 0:e}const ui=new WeakMap;function ci(t){let e=ui.get(t);return e||(e=t(()=>Hn),e.factory=t,ui.set(t,e)),e}function hi(t,e,n,i,r){3===e&&(n=t.renderer.parentNode(ei(t,t.def.lastRenderRootNode))),di(t,e,0,t.def.nodes.length-1,n,i,r)}function di(t,e,n,i,r,s,o){for(let l=n;l<=i;l++){const n=t.def.nodes[l];11&n.flags&&fi(t,n,e,r,s,o),l+=n.childCount}}function pi(t,e,n,i,r,s){let o=t;for(;o&&!ii(o);)o=o.parent;const l=o.parent,a=ti(o),u=a.nodeIndex+a.childCount;for(let c=a.nodeIndex+1;c<=u;c++){const t=l.def.nodes[c];t.ngContentIndex===e&&fi(l,t,n,i,r,s),c+=t.childCount}if(!l.parent){const o=t.root.projectableNodes[e];if(o)for(let e=0;e<o.length;e++)gi(t,o[e],n,i,r,s)}}function fi(t,e,n,i,r,s){if(8&e.flags)pi(t,e.ngContent.index,n,i,r,s);else{const o=ei(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&gi(t,o,n,i,r,s),32&e.bindingFlags&&gi(Fn(t,e.nodeIndex).componentView,o,n,i,r,s)):gi(t,o,n,i,r,s),16777216&e.flags){const o=Fn(t,e.nodeIndex).viewContainer._embeddedViews;for(let t=0;t<o.length;t++)hi(o[t],n,i,r,s)}1&e.flags&&!e.element.name&&di(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,i,r,s)}}function gi(t,e,n,i,r,s){const o=t.renderer;switch(n){case 1:o.appendChild(i,e);break;case 2:o.insertBefore(i,e,r);break;case 3:o.removeChild(i,e);break;case 0:s.push(e)}}const mi=/^:([^:]+):(.+)$/;function yi(t){if(":"===t[0]){const e=t.match(mi);return[e[1],e[2]]}return["",t]}function _i(t){let e=0;for(let n=0;n<t.length;n++)e|=t[n].flags;return e}function vi(t,e,n,i,r,s,o,l,a,u,c,h,d,p,f,g,m,y,_,v){switch(t){case 1:return e+bi(n)+i;case 2:return e+bi(n)+i+bi(r)+s;case 3:return e+bi(n)+i+bi(r)+s+bi(o)+l;case 4:return e+bi(n)+i+bi(r)+s+bi(o)+l+bi(a)+u;case 5:return e+bi(n)+i+bi(r)+s+bi(o)+l+bi(a)+u+bi(c)+h;case 6:return e+bi(n)+i+bi(r)+s+bi(o)+l+bi(a)+u+bi(c)+h+bi(d)+p;case 7:return e+bi(n)+i+bi(r)+s+bi(o)+l+bi(a)+u+bi(c)+h+bi(d)+p+bi(f)+g;case 8:return e+bi(n)+i+bi(r)+s+bi(o)+l+bi(a)+u+bi(c)+h+bi(d)+p+bi(f)+g+bi(m)+y;case 9:return e+bi(n)+i+bi(r)+s+bi(o)+l+bi(a)+u+bi(c)+h+bi(d)+p+bi(f)+g+bi(m)+y+bi(_)+v;default:throw new Error("Does not support more than 9 expressions")}}function bi(t){return null!=t?t.toString():""}const wi=new Object,Ci=Bn(Ie),Si=Bn(kt),Ei=Bn(Mt);function xi(t,e,n,i){return n=bt(n),{index:-1,deps:li(i,yt(e)),flags:t,token:e,value:n}}function Ti(t,e,n=Ie.THROW_IF_NOT_FOUND){const i=Dt(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);const o=e.tokenKey;switch(o){case Ci:case Si:case Ei:return t}const l=t._def.providersByKey[o];let a;if(l){let e=t._providers[l.index];return void 0===e&&(e=t._providers[l.index]=ki(t,l)),e===wi?void 0:e}if((a=gt(e.token))&&(r=t,null!=(s=a).providedIn&&(function(t,e){return t._def.modules.indexOf(e)>-1}(r,s.providedIn)||"root"===s.providedIn&&r._def.isRoot))){const n=t._providers.length;return t._def.providers[n]=t._def.providersByKey[e.tokenKey]={flags:5120,value:a.factory,deps:[],index:n,token:e.token},t._providers[n]=wi,t._providers[n]=ki(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{Dt(i)}var r,s}function ki(t,e){let n;switch(201347067&e.flags){case 512:n=function(t,e,n){const i=n.length;switch(i){case 0:return new e;case 1:return new e(Ti(t,n[0]));case 2:return new e(Ti(t,n[0]),Ti(t,n[1]));case 3:return new e(Ti(t,n[0]),Ti(t,n[1]),Ti(t,n[2]));default:const r=new Array(i);for(let e=0;e<i;e++)r[e]=Ti(t,n[e]);return new e(...r)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){const i=n.length;switch(i){case 0:return e();case 1:return e(Ti(t,n[0]));case 2:return e(Ti(t,n[0]),Ti(t,n[1]));case 3:return e(Ti(t,n[0]),Ti(t,n[1]),Ti(t,n[2]));default:const r=Array(i);for(let e=0;e<i;e++)r[e]=Ti(t,n[e]);return e(...r)}}(t,e.value,e.deps);break;case 2048:n=Ti(t,e.deps[0]);break;case 256:n=e.value}return n===wi||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?wi:n}function Ii(t,e){const n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;const i=n[e];return i.viewContainerParent=null,jt(n,e),jn.dirtyParentQueries(i),Pi(i),i}function Oi(t,e,n){const i=e?ei(e,e.def.lastRenderRootNode):t.renderElement,r=n.renderer.parentNode(i),s=n.renderer.nextSibling(i);hi(n,2,r,s,void 0)}function Pi(t){hi(t,3,null,null,void 0)}const Ri=new Object;function Di(t,e,n,i,r,s){return new Ai(t,e,n,i,r,s)}class Ai extends Qe{constructor(t,e,n,i,r,s){super(),this.selector=t,this.componentType=e,this._inputs=i,this._outputs=r,this.ngContentSelectors=s,this.viewDefFactory=n}get inputs(){const t=[],e=this._inputs;for(let n in e)t.push({propName:n,templateName:e[n]});return t}get outputs(){const t=[];for(let e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}create(t,e,n,i){if(!i)throw new Error("ngModule should be provided");const r=ci(this.viewDefFactory),s=r.nodes[0].element.componentProvider.nodeIndex,o=jn.createRootView(t,e||[],n,r,i,Ri),l=Mn(o,s).instance;return n&&o.renderer.setAttribute(Fn(o,0).renderElement,"ng-version",cn.full),new Ni(o,new Vi(o),l)}}class Ni extends class{}{constructor(t,e,n){super(),this._view=t,this._viewRef=e,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=e,this.changeDetectorRef=e,this.instance=n}get location(){return new en(Fn(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Ui(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(t){this._viewRef.onDestroy(t)}}function Li(t,e,n){return new Fi(t,e,n)}class Fi{constructor(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}get element(){return new en(this._data.renderElement)}get injector(){return new Ui(this._view,this._elDef)}get parentInjector(){let t=this._view,e=this._elDef.parent;for(;!e&&t;)e=ti(t),t=t.parent;return t?new Ui(t,e):new Ui(this._view,null)}clear(){for(let t=this._embeddedViews.length-1;t>=0;t--){const e=Ii(this._data,t);jn.destroyView(e)}}get(t){const e=this._embeddedViews[t];if(e){const t=new Vi(e);return t.attachToViewContainerRef(this),t}return null}get length(){return this._embeddedViews.length}createEmbeddedView(t,e,n){const i=t.createEmbeddedView(e||{});return this.insert(i,n),i}createComponent(t,e,n,i,r){const s=n||this.parentInjector;r||t instanceof Je||(r=s.get(Mt));const o=t.create(s,i,void 0,r);return this.insert(o.hostView,e),o}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=t;return function(t,e,n,i){let r=e.viewContainer._embeddedViews;null==n&&(n=r.length),i.viewContainerParent=t,zt(r,n,i),function(t,e){const n=Jn(e);if(!n||n===t||16&e.state)return;e.state|=16;let i=n.template._projectedViews;i||(i=n.template._projectedViews=[]),i.push(e),function(t,e){if(4&e.flags)return;t.nodeFlags|=4,e.flags|=4;let n=e.parent;for(;n;)n.childFlags|=4,n=n.parent}(e.parent.def,e.parentNodeDef)}(e,i),jn.dirtyParentQueries(i),Oi(e,n>0?r[n-1]:null,i)}(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(t._view);return function(t,e,n){const i=t.viewContainer._embeddedViews,r=i[e];jt(i,e),null==n&&(n=i.length),zt(i,n,r),jn.dirtyParentQueries(r),Pi(r),Oi(t,n>0?i[n-1]:null,r)}(this._data,n,e),t}indexOf(t){return this._embeddedViews.indexOf(t._view)}remove(t){const e=Ii(this._data,t);e&&jn.destroyView(e)}detach(t){const e=Ii(this._data,t);return e?new Vi(e):null}}function Mi(t){return new Vi(t)}class Vi{constructor(t){this._view=t,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const e=[];return hi(t,0,void 0,void 0,e),e}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){Zn(this._view)}detach(){this._view.state&=-5}detectChanges(){const t=this._view.root.rendererFactory;t.begin&&t.begin();try{jn.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}checkNoChanges(){jn.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),jn.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Pi(this._view),jn.dirtyParentQueries(this._view)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}}function zi(t,e){return new ji(t,e)}class ji extends Tn{constructor(t,e){super(),this._parentView=t,this._def=e}createEmbeddedView(t){return new Vi(jn.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}get elementRef(){return new en(Fn(this._parentView,this._def.nodeIndex).renderElement)}}function Hi(t,e){return new Ui(t,e)}class Ui{constructor(t,e){this.view=t,this.elDef=e}get(t,e=Ie.THROW_IF_NOT_FOUND){return jn.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:Bn(t)},e)}}function Bi(t,e){const n=t.def.nodes[e];if(1&n.flags){const e=Fn(t,n.nodeIndex);return n.element.template?e.template:e.renderElement}if(2&n.flags)return Ln(t,n.nodeIndex).renderText;if(20240&n.flags)return Mn(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function Wi(t){return new qi(t.renderer)}class qi{constructor(t){this.delegate=t}selectRootElement(t){return this.delegate.selectRootElement(t)}createElement(t,e){const[n,i]=yi(e),r=this.delegate.createElement(i,n);return t&&this.delegate.appendChild(t,r),r}createViewRoot(t){return t}createTemplateAnchor(t){const e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e}createText(t,e){const n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n}projectNodes(t,e){for(let n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])}attachViewAfter(t,e){const n=this.delegate.parentNode(t),i=this.delegate.nextSibling(t);for(let r=0;r<e.length;r++)this.delegate.insertBefore(n,e[r],i)}detachView(t){for(let e=0;e<t.length;e++){const n=t[e],i=this.delegate.parentNode(n);this.delegate.removeChild(i,n)}}destroyView(t,e){for(let n=0;n<e.length;n++)this.delegate.destroyNode(e[n])}listen(t,e,n){return this.delegate.listen(t,e,n)}listenGlobal(t,e,n){return this.delegate.listen(t,e,n)}setElementProperty(t,e,n){this.delegate.setProperty(t,e,n)}setElementAttribute(t,e,n){const[i,r]=yi(e);null!=n?this.delegate.setAttribute(t,r,n,i):this.delegate.removeAttribute(t,r,i)}setBindingDebugInfo(t,e,n){}setElementClass(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)}setElementStyle(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)}invokeElementMethod(t,e,n){t[e].apply(t,n)}setText(t,e){this.delegate.setValue(t,e)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function $i(t,e,n,i){return new Qi(t,e,n,i)}class Qi{constructor(t,e,n,i){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=i,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const e=t._def,n=t._providers=new Array(e.providers.length);for(let i=0;i<e.providers.length;i++){const r=e.providers[i];4096&r.flags||void 0===n[i]&&(n[i]=ki(t,r))}}(this)}get(t,e=Ie.THROW_IF_NOT_FOUND,n=dt.Default){let i=0;return n&dt.SkipSelf?i|=1:n&dt.Self&&(i|=4),Ti(this,{token:t,tokenKey:Bn(t),flags:i},e)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(Ye)}destroy(){if(this._destroyed)throw new Error(`The ng module ${yt(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,e){const n=t._def,i=new Set;for(let r=0;r<n.providers.length;r++)if(131072&n.providers[r].flags){const e=t._providers[r];if(e&&e!==wi){const t=e.ngOnDestroy;"function"!=typeof t||i.has(e)||(t.apply(e),i.add(e))}}}(this),this._destroyListeners.forEach(t=>t())}onDestroy(t){this._destroyListeners.push(t)}}const Gi=Bn(rn),Ki=Bn(ln),Zi=Bn(en),Yi=Bn(In),Xi=Bn(Tn),Ji=Bn(Ee),tr=Bn(Ie),er=Bn(kt);function nr(t,e,n,i,r,s,o,l){const a=[];if(o)for(let c in o){const[t,e]=o[c];a[t]={flags:8,name:c,nonMinifiedName:e,ns:null,securityContext:null,suffix:null}}const u=[];if(l)for(let c in l)u.push({type:1,propName:c,target:null,eventName:l[c]});return sr(t,e|=16384,n,i,r,r,s,a,u)}function ir(t,e,n){return sr(-1,t|=16,null,0,e,e,n)}function rr(t,e,n,i,r){return sr(-1,t,e,0,n,i,r)}function sr(t,e,n,i,r,s,o,l,a){const{matchedQueries:u,references:c,matchedQueryIds:h}=oi(n);a||(a=[]),l||(l=[]),s=bt(s);const d=li(o,yt(r));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:u,matchedQueryIds:h,references:c,ngContentIndex:-1,childCount:i,bindings:l,bindingFlags:_i(l),outputs:a,element:null,provider:{token:r,value:s,deps:d},text:null,query:null,ngContent:null}}function or(t,e){return cr(t,e)}function lr(t,e){let n=t;for(;n.parent&&!ii(n);)n=n.parent;return hr(n.parent,ti(n),!0,e.provider.value,e.provider.deps)}function ar(t,e){const n=hr(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(let i=0;i<e.outputs.length;i++){const r=e.outputs[i],s=n[r.propName];if(!qe(s))throw new Error(`@Output ${r.propName} not initialized in '${n.constructor.name}'.`);{const n=s.subscribe(ur(t,e.parent.nodeIndex,r.eventName));t.disposables[e.outputIndex+i]=n.unsubscribe.bind(n)}}return n}function ur(t,e,n){return i=>Xn(t,e,n,i)}function cr(t,e){const n=(8192&e.flags)>0,i=e.provider;switch(201347067&e.flags){case 512:return hr(t,e.parent,n,i.value,i.deps);case 1024:return function(t,e,n,i,r){const s=r.length;switch(s){case 0:return i();case 1:return i(pr(t,e,n,r[0]));case 2:return i(pr(t,e,n,r[0]),pr(t,e,n,r[1]));case 3:return i(pr(t,e,n,r[0]),pr(t,e,n,r[1]),pr(t,e,n,r[2]));default:const o=Array(s);for(let i=0;i<s;i++)o[i]=pr(t,e,n,r[i]);return i(...o)}}(t,e.parent,n,i.value,i.deps);case 2048:return pr(t,e.parent,n,i.deps[0]);case 256:return i.value}}function hr(t,e,n,i,r){const s=r.length;switch(s){case 0:return new i;case 1:return new i(pr(t,e,n,r[0]));case 2:return new i(pr(t,e,n,r[0]),pr(t,e,n,r[1]));case 3:return new i(pr(t,e,n,r[0]),pr(t,e,n,r[1]),pr(t,e,n,r[2]));default:const o=new Array(s);for(let i=0;i<s;i++)o[i]=pr(t,e,n,r[i]);return new i(...o)}}const dr={};function pr(t,e,n,i,r=Ie.THROW_IF_NOT_FOUND){if(8&i.flags)return i.token;const s=t;2&i.flags&&(r=null);const o=i.tokenKey;o===Ji&&(n=!(!e||!e.element.componentView)),e&&1&i.flags&&(n=!1,e=e.parent);let l=t;for(;l;){if(e)switch(o){case Gi:return Wi(fr(l,e,n));case Ki:return fr(l,e,n).renderer;case Zi:return new en(Fn(l,e.nodeIndex).renderElement);case Yi:return Fn(l,e.nodeIndex).viewContainer;case Xi:if(e.element.template)return Fn(l,e.nodeIndex).template;break;case Ji:return Mi(fr(l,e,n));case tr:case er:return Hi(l,e);default:const t=(n?e.element.allProviders:e.element.publicProviders)[o];if(t){let e=Mn(l,t.nodeIndex);return e||(e={instance:cr(l,t)},l.nodes[t.nodeIndex]=e),e.instance}}n=ii(l),e=ti(l),l=l.parent,4&i.flags&&(l=null)}const a=s.root.injector.get(i.token,dr);return a!==dr||r===dr?a:s.root.ngModule.injector.get(i.token,r)}function fr(t,e,n){let i;if(n)i=Fn(t,e.nodeIndex).componentView;else for(i=t;i.parent&&!ii(i);)i=i.parent;return i}function gr(t,e,n,i,r,s){if(32768&n.flags){const e=Fn(t,n.parent.nodeIndex).componentView;2&e.def.flags&&(e.state|=8)}if(e.instance[n.bindings[i].name]=r,524288&n.flags){s=s||{};const e=He.unwrap(t.oldValues[n.bindingIndex+i]);s[n.bindings[i].nonMinifiedName]=new $e(e,r,0!=(2&t.state))}return t.oldValues[n.bindingIndex+i]=r,s}function mr(t,e){if(!(t.def.nodeFlags&e))return;const n=t.def.nodes;let i=0;for(let r=0;r<n.length;r++){const s=n[r];let o=s.parent;for(!o&&s.flags&e&&_r(t,r,s.flags&e,i++),0==(s.childFlags&e)&&(r+=s.childCount);o&&1&o.flags&&r===o.nodeIndex+o.childCount;)o.directChildFlags&e&&(i=yr(t,o,e,i)),o=o.parent}}function yr(t,e,n,i){for(let r=e.nodeIndex+1;r<=e.nodeIndex+e.childCount;r++){const e=t.def.nodes[r];e.flags&n&&_r(t,r,e.flags&n,i++),r+=e.childCount}return i}function _r(t,e,n,i){const r=Mn(t,e);if(!r)return;const s=r.instance;s&&(jn.setCurrentNode(t,e),1048576&n&&Nn(t,512,i)&&s.ngAfterContentInit(),2097152&n&&s.ngAfterContentChecked(),4194304&n&&Nn(t,768,i)&&s.ngAfterViewInit(),8388608&n&&s.ngAfterViewChecked(),131072&n&&s.ngOnDestroy())}const vr=new Tt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ut}),br={},wr=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}(),Cr=void 0;var Sr=["en",[["a","p"],["AM","PM"],Cr],[["AM","PM"],Cr,Cr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Cr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Cr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Cr,"{1} 'at' {0}",Cr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];function Er(t){const e=t.toLowerCase().replace(/_/g,"-");let n=br[e];if(n)return n;const i=e.split("-")[0];if(n=br[i],n)return n;if("en"===i)return Sr;throw new Error(`Missing locale data for the locale "${t}".`)}class xr extends k{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let i,r=t=>null,s=()=>null;t&&"object"==typeof t?(i=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(r=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(i=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(r=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const o=super.subscribe(i,r,s);return t instanceof d&&t.add(o),o}}function Tr(){return this._results[Ve()]()}class kr{constructor(){this.dirty=!0,this._results=[],this.changes=new xr,this.length=0;const t=Ve(),e=kr.prototype;e[t]||(e[t]=Tr)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?(n===e&&(n=e.slice(0,i)),t(r,n)):n!==e&&n.push(r)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const Ir=new Tt("Application Initializer");class Or{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();We(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}const Pr=new Tt("AppId");function Rr(){return`${Dr()}${Dr()}${Dr()}`}function Dr(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ar=new Tt("Platform Initializer"),Nr=new Tt("Platform ID"),Lr=new Tt("appBootstrapListener");class Fr{log(t){console.log(t)}warn(t){console.warn(t)}}const Mr=new Tt("LocaleId");function Vr(){throw new Error("Runtime compiler is not loaded")}const zr=Vr,jr=Vr,Hr=Vr,Ur=Vr;class Br{constructor(){this.compileModuleSync=zr,this.compileModuleAsync=jr,this.compileModuleAndAllComponentsSync=Hr,this.compileModuleAndAllComponentsAsync=Ur}clearCache(){}clearCacheFor(t){}getModuleId(t){}}class Wr{}let qr,$r;function Qr(){const t=xt.wtf;return!(!t||(qr=t.trace,!qr)||($r=qr.events,0))}const Gr=Qr();function Kr(t,e){return null}const Zr=Gr?function(t,e=null){return $r.createScope(t,e)}:(t,e)=>Kr,Yr=Gr?function(t,e){return qr.leaveScope(t,e),e}:(t,e)=>e,Xr=(()=>Promise.resolve(0))();function Jr(t){"undefined"==typeof Zone?Xr.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class ts{constructor({enableLongStackTrace:t=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xr(!1),this.onMicrotaskEmpty=new xr(!1),this.onStable=new xr(!1),this.onError=new xr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var e;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,i,r,s,o)=>{try{return rs(e),t.invokeTask(i,r,s,o)}finally{ss(e)}},onInvoke:(t,n,i,r,s,o,l)=>{try{return rs(e),t.invoke(i,r,s,o,l)}finally{ss(e)}},onHasTask:(t,n,i,r)=>{t.hasTask(i,r),n===i&&("microTask"==r.change?(e.hasPendingMicrotasks=r.microTask,is(e)):"macroTask"==r.change&&(e.hasPendingMacrotasks=r.macroTask))},onHandleError:(t,n,i,r)=>(t.handleError(i,r),e.runOutsideAngular(()=>e.onError.emit(r)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ts.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ts.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,i){const r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+i,t,ns,es,es);try{return r.runTask(s,e,n)}finally{r.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function es(){}const ns={};function is(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function rs(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ss(t){t._nesting--,is(t)}class os{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xr,this.onMicrotaskEmpty=new xr,this.onStable=new xr,this.onError=new xr}run(t){return t()}runGuarded(t){return t()}runOutsideAngular(t){return t()}runTask(t){return t()}}class ls{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ts.assertNotInAngularZone(),Jr(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Jr(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let i=-1;e&&e>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==i),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}class as{constructor(){this._applications=new Map,hs.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return hs.findTestabilityInTree(this,t,e)}}class us{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let cs,hs=new us;const ds=new Tt("AllowMultipleToken");class ps{constructor(t,e){this.name=t,this.token=e}}function fs(t,e,n=[]){const i="Platform: "+e,r=new Tt(i);return(e=[])=>{let s=gs();if(!s||s.injector.get(ds,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{const t=n.concat(e).concat({provide:r,useValue:!0});!function(t){if(cs&&!cs.destroyed&&!cs.injector.get(ds,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");cs=t.get(ms);const e=t.get(Ar,null);e&&e.forEach(t=>t())}(Ie.create({providers:t,name:i}))}return function(t){const e=gs();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function gs(){return cs&&!cs.destroyed?cs:null}class ms{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t){let e;return e="noop"===t?new os:("zone.js"===t?void 0:t)||new ts({enableLongStackTrace:Kt()}),e}(e?e.ngZone:void 0),i=[{provide:ts,useValue:n}];return n.run(()=>{const e=Ie.create({providers:i,parent:this.injector,name:t.moduleType.name}),r=t.create(e),s=r.injector.get($t,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return r.onDestroy(()=>vs(this._modules,r)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const i=n();return We(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(s,n,()=>{const t=r.injector.get(Or);return t.runInitializers(),t.donePromise.then(()=>(this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,e=[]){const n=ys({},e);return function(t,e,n){return t.get(Wr).createCompiler([e]).compileModuleAsync(n)}(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(_s);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${yt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}function ys(t,e){return Array.isArray(e)?e.reduce(ys,t):Object.assign({},t,e)}let _s=(()=>{class t{constructor(t,e,n,i,r,s){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=r,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Kt(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new w(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new w(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{ts.assertNotInAngularZone(),Jr(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{ts.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=X(o,l.pipe(ot()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Qe?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const i=n instanceof Je?null:this._injector.get(Mt),r=n.create(Ie.NULL,[],e||n.selector,i);r.onDestroy(()=>{this._unloadComponent(r)});const s=r.injector.get(ls,null);return s&&r.injector.get(as).registerApplication(r.location.nativeElement,s),this._loadComponent(r),Kt()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const e=t._tickScope();try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1,Yr(e)}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;vs(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Lr,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),vs(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t._tickScope=Zr("ApplicationRef#tick()"),t})();function vs(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class bs{}class ws{}const Cs={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class Ss{constructor(t,e){this._compiler=t,this._config=e||Cs}load(t){return this._compiler instanceof Br?this.loadFactory(t):this.loadAndCompile(t)}loadAndCompile(t){let[e,i]=t.split("#");return void 0===i&&(i="default"),n("zn8P")(e).then(t=>t[i]).then(t=>Es(t,e,i)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,i]=t.split("#"),r="NgFactory";return void 0===i&&(i="default",r=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[i+r]).then(t=>Es(t,e,i))}}function Es(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class xs{constructor(t,e){this.name=t,this.callback=e}}class Ts{constructor(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof ks&&e.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class ks extends Ts{constructor(t,e,n){super(t,e,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}addChild(t){t&&(this.childNodes.push(t),t.parent=this)}removeChild(t){const e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}insertChildrenAfter(t,e){const n=this.childNodes.indexOf(t);-1!==n&&(this.childNodes.splice(n+1,0,...e),e.forEach(e=>{e.parent&&e.parent.removeChild(e),t.parent=this}))}insertBefore(t,e){const n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return function t(e,n,i){e.childNodes.forEach(e=>{e instanceof ks&&(n(e)&&i.push(e),t(e,n,i))})}(this,t,e),e}queryAllNodes(t){const e=[];return function t(e,n,i){e instanceof ks&&e.childNodes.forEach(e=>{n(e)&&i.push(e),e instanceof ks&&t(e,n,i)})}(this,t,e),e}get children(){return this.childNodes.filter(t=>t instanceof ks)}triggerEventHandler(t,e){this.listeners.forEach(n=>{n.name==t&&n.callback(e)})}}const Is=new Map,Os=function(t){return Is.get(t)||null};function Ps(t){Is.set(t.nativeNode,t)}const Rs=fs(null,"core",[{provide:Nr,useValue:"unknown"},{provide:ms,deps:[Ie]},{provide:as,deps:[]},{provide:Fr,deps:[]}]);function Ds(){return En}function As(){return xn}function Ns(t){return t||"en-US"}function Ls(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}class Fs{constructor(t){}}function Ms(t,e,n,i,r,s){t|=1;const{matchedQueries:o,references:l,matchedQueryIds:a}=oi(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:o,matchedQueryIds:a,references:l,ngContentIndex:n,childCount:i,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:s?ci(s):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:r||Hn},provider:null,text:null,query:null,ngContent:null}}function Vs(t,e,n,i,r,s,o=[],l,a,u,c,h){u||(u=Hn);const{matchedQueries:d,references:p,matchedQueryIds:f}=oi(n);let g=null,m=null;s&&([g,m]=yi(s)),l=l||[];const y=new Array(l.length);for(let b=0;b<l.length;b++){const[t,e,n]=l[b],[i,r]=yi(e);let s=void 0,o=void 0;switch(15&t){case 4:o=n;break;case 1:case 8:s=n}y[b]={flags:t,ns:i,name:r,nonMinifiedName:r,securityContext:s,suffix:o}}a=a||[];const _=new Array(a.length);for(let b=0;b<a.length;b++){const[t,e]=a[b];_[b]={type:0,target:t,eventName:e,propName:null}}const v=(o=o||[]).map(([t,e])=>{const[n,i]=yi(t);return[n,i,e]});return h=function(t){if(t&&"$$undefined"===t.id){const e=null!=t.encapsulation&&t.encapsulation!==Ht.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+$n++:"$$empty"}return t&&"$$empty"===t.id&&(t=null),t||null}(h),c&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:f,references:p,ngContentIndex:i,childCount:r,bindings:y,bindingFlags:_i(y),outputs:_,element:{ns:g,name:m,attrs:v,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:u||Hn},provider:null,text:null,query:null,ngContent:null}}function zs(t,e,n){const i=n.element,r=t.root.selectorOrNode,s=t.renderer;let o;if(t.parent||!r){o=i.name?s.createElement(i.name,i.ns):s.createComment("");const r=ai(t,e,n);r&&s.appendChild(r,o)}else o=s.selectRootElement(r,!!i.componentRendererType&&i.componentRendererType.encapsulation===Ht.ShadowDom);if(i.attrs)for(let l=0;l<i.attrs.length;l++){const[t,e,n]=i.attrs[l];s.setAttribute(o,e,n,t)}return o}function js(t,e,n,i){for(let r=0;r<n.outputs.length;r++){const s=n.outputs[r],o=Hs(t,n.nodeIndex,ni(s.target,s.eventName));let l=s.target,a=t;"component"===s.target&&(l=null,a=e);const u=a.renderer.listen(l||i,s.eventName,o);t.disposables[n.outputIndex+r]=u}}function Hs(t,e,n){return i=>Xn(t,e,n,i)}function Us(t,e,n,i){if(!Gn(t,e,n,i))return!1;const r=e.bindings[n],s=Fn(t,e.nodeIndex),o=s.renderElement,l=r.name;switch(15&r.flags){case 1:!function(t,e,n,i,r,s){const o=e.securityContext;let l=o?t.root.sanitizer.sanitize(o,s):s;l=null!=l?l.toString():null;const a=t.renderer;null!=s?a.setAttribute(n,r,l,i):a.removeAttribute(n,r,i)}(t,r,o,r.ns,l,i);break;case 2:!function(t,e,n,i){const r=t.renderer;i?r.addClass(e,n):r.removeClass(e,n)}(t,o,l,i);break;case 4:!function(t,e,n,i,r){let s=t.root.sanitizer.sanitize(ye.STYLE,r);if(null!=s){s=s.toString();const t=e.suffix;null!=t&&(s+=t)}else s=null;const o=t.renderer;null!=s?o.setStyle(n,i,s):o.removeStyle(n,i)}(t,r,o,l,i);break;case 8:!function(t,e,n,i,r){const s=e.securityContext;let o=s?t.root.sanitizer.sanitize(s,r):r;t.renderer.setProperty(n,i,o)}(33554432&e.flags&&32&r.flags?s.componentView:t,r,o,l,i)}return!0}function Bs(t,e,n){let i=[];for(let r in n)i.push({propName:r,bindingType:n[r]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:si(e),bindings:i},ngContent:null}}function Ws(t){const e=t.def.nodeMatchedQueries;for(;t.parent&&ri(t);){let n=t.parentNodeDef;t=t.parent;const i=n.nodeIndex+n.childCount;for(let r=0;r<=i;r++){const i=t.def.nodes[r];67108864&i.flags&&536870912&i.flags&&(i.query.filterId&e)===i.query.filterId&&zn(t,r).setDirty(),!(1&i.flags&&r+i.childCount<n.nodeIndex)&&67108864&i.childFlags&&536870912&i.childFlags||(r+=i.childCount)}}if(134217728&t.def.nodeFlags)for(let n=0;n<t.def.nodes.length;n++){const e=t.def.nodes[n];134217728&e.flags&&536870912&e.flags&&zn(t,n).setDirty(),n+=e.childCount}}function qs(t,e){const n=zn(t,e.nodeIndex);if(!n.dirty)return;let i,r=void 0;if(67108864&e.flags){const n=e.parent.parent;r=$s(t,n.nodeIndex,n.nodeIndex+n.childCount,e.query,[]),i=Mn(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(r=$s(t,0,t.def.nodes.length-1,e.query,[]),i=t.component);n.reset(r);const s=e.query.bindings;let o=!1;for(let l=0;l<s.length;l++){const t=s[l];let e;switch(t.bindingType){case 0:e=n.first;break;case 1:e=n,o=!0}i[t.propName]=e}o&&n.notifyOnChanges()}function $s(t,e,n,i,r){for(let s=e;s<=n;s++){const e=t.def.nodes[s],n=e.matchedQueries[i.id];if(null!=n&&r.push(Qs(t,e,n)),1&e.flags&&e.element.template&&(e.element.template.nodeMatchedQueries&i.filterId)===i.filterId){const n=Fn(t,s);if((e.childMatchedQueries&i.filterId)===i.filterId&&($s(t,s+1,s+e.childCount,i,r),s+=e.childCount),16777216&e.flags){const t=n.viewContainer._embeddedViews;for(let e=0;e<t.length;e++){const s=t[e],o=Jn(s);o&&o===n&&$s(s,0,s.def.nodes.length-1,i,r)}}const o=n.template._projectedViews;if(o)for(let t=0;t<o.length;t++){const e=o[t];$s(e,0,e.def.nodes.length-1,i,r)}}(e.childMatchedQueries&i.filterId)!==i.filterId&&(s+=e.childCount)}return r}function Qs(t,e,n){if(null!=n)switch(n){case 1:return Fn(t,e.nodeIndex).renderElement;case 0:return new en(Fn(t,e.nodeIndex).renderElement);case 2:return Fn(t,e.nodeIndex).template;case 3:return Fn(t,e.nodeIndex).viewContainer;case 4:return Mn(t,e.nodeIndex).instance}}function Gs(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function Ks(t,e,n){const i=ai(t,e,n);i&&pi(t,n.ngContent.index,1,i,null,void 0)}function Zs(t,e){const n=Object.keys(e),i=n.length,r=new Array(i);for(let s=0;s<i;s++){const t=n[s];r[e[t]]=t}return function(t,e,n){const i=new Array(n.length);for(let r=0;r<n.length;r++){const t=n[r];i[r]={flags:8,name:t,ns:null,nonMinifiedName:t,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:64,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:i,bindingFlags:_i(i),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}(0,t,r)}function Ys(t,e,n){const i=new Array(n.length-1);for(let r=1;r<n.length;r++)i[r-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[r]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:i,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Xs(t,e,n){let i;const r=t.renderer;i=r.createText(n.text.prefix);const s=ai(t,e,n);return s&&r.appendChild(s,i),{renderText:i}}function Js(t,e){return(null!=t?t.toString():"")+e.suffix}function to(t,e,n,i){let r=0,s=0,o=0,l=0,a=0,u=null,c=null,h=!1,d=!1,p=null;for(let f=0;f<e.length;f++){const t=e[f];if(t.nodeIndex=f,t.parent=u,t.bindingIndex=r,t.outputIndex=s,t.renderParent=c,o|=t.flags,a|=t.matchedQueryIds,t.element){const e=t.element;e.publicProviders=u?u.element.publicProviders:Object.create(null),e.allProviders=e.publicProviders,h=!1,d=!1,t.element.template&&(a|=t.element.template.nodeMatchedQueries)}if(no(u,t,e.length),r+=t.bindings.length,s+=t.outputs.length,!c&&3&t.flags&&(p=t),20224&t.flags){h||(h=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);const e=0!=(32768&t.flags);0==(8192&t.flags)||e?u.element.publicProviders[Bn(t.provider.token)]=t:(d||(d=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[Bn(t.provider.token)]=t),e&&(u.element.componentProvider=t)}if(u?(u.childFlags|=t.flags,u.directChildFlags|=t.flags,u.childMatchedQueries|=t.matchedQueryIds,t.element&&t.element.template&&(u.childMatchedQueries|=t.element.template.nodeMatchedQueries)):l|=t.flags,t.childCount>0)u=t,eo(t)||(c=t);else for(;u&&f===u.nodeIndex+u.childCount;){const t=u.parent;t&&(t.childFlags|=u.childFlags,t.childMatchedQueries|=u.childMatchedQueries),u=t,c=u&&eo(u)?u.renderParent:u}}return{factory:null,nodeFlags:o,rootNodeFlags:l,nodeMatchedQueries:a,flags:t,nodes:e,updateDirectives:n||Hn,updateRenderer:i||Hn,handleEvent:(t,n,i,r)=>e[n].element.handleEvent(t,i,r),bindingCount:r,outputCount:s,lastRenderRootNode:p}}function eo(t){return 0!=(1&t.flags)&&null===t.element.name}function no(t,e,n){const i=e.element&&e.element.template;if(i){if(!i.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(i.lastRenderRootNode&&16777216&i.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${e.nodeIndex}!`)}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${e.nodeIndex}!`);if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${e.nodeIndex}!`);if(134217728&e.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${e.nodeIndex}!`)}if(e.childCount){const i=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=i&&e.nodeIndex+e.childCount>i)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${e.nodeIndex}!`)}}function io(t,e,n,i){const r=oo(t.root,t.renderer,t,e,n);return lo(r,t.component,i),ao(r),r}function ro(t,e,n){const i=oo(t,t.renderer,null,null,e);return lo(i,n,n),ao(i),i}function so(t,e,n,i){const r=e.element.componentRendererType;let s;return s=r?t.root.rendererFactory.createRenderer(i,r):t.root.renderer,oo(t.root,s,t,e.element.componentProvider,n)}function oo(t,e,n,i,r){const s=new Array(r.nodes.length),o=r.outputCount?new Array(r.outputCount):null;return{def:r,parent:n,viewContainerParent:null,parentNodeDef:i,context:null,component:null,nodes:s,state:13,root:t,renderer:e,oldValues:new Array(r.bindingCount),disposables:o,initIndex:-1}}function lo(t,e,n){t.component=e,t.context=n}function ao(t){let e;ii(t)&&(e=Fn(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const n=t.def,i=t.nodes;for(let r=0;r<n.nodes.length;r++){const s=n.nodes[r];let o;switch(jn.setCurrentNode(t,r),201347067&s.flags){case 1:const n=zs(t,e,s);let l=void 0;if(33554432&s.flags){const e=ci(s.element.componentView);l=jn.createComponentView(t,s,e,n)}js(t,l,s,n),o={renderElement:n,componentView:l,viewContainer:null,template:s.element.template?zi(t,s):void 0},16777216&s.flags&&(o.viewContainer=Li(t,s,o));break;case 2:o=Xs(t,e,s);break;case 512:case 1024:case 2048:case 256:o=i[r],o||4096&s.flags||(o={instance:or(t,s)});break;case 16:o={instance:lr(t,s)};break;case 16384:o=i[r],o||(o={instance:ar(t,s)}),32768&s.flags&&lo(Fn(t,s.parent.nodeIndex).componentView,o.instance,o.instance);break;case 32:case 64:case 128:o={value:void 0};break;case 67108864:case 134217728:o=new kr;break;case 8:Ks(t,e,s),o=void 0}i[r]=o}_o(t,yo.CreateViewNodes),Co(t,201326592,268435456,0)}function uo(t){po(t),jn.updateDirectives(t,1),vo(t,yo.CheckNoChanges),jn.updateRenderer(t,1),_o(t,yo.CheckNoChanges),t.state&=-97}function co(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,An(t,0,256),po(t),jn.updateDirectives(t,0),vo(t,yo.CheckAndUpdate),Co(t,67108864,536870912,0);let e=An(t,256,512);mr(t,2097152|(e?1048576:0)),jn.updateRenderer(t,0),_o(t,yo.CheckAndUpdate),Co(t,134217728,536870912,0),e=An(t,512,768),mr(t,8388608|(e?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,An(t,768,1024)}function ho(t,e,n,i,r,s,o,l,a,u,c,h,d){return 0===n?function(t,e,n,i,r,s,o,l,a,u,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,i,r,s,o,l,a,u,c,h){const d=e.bindings.length;let p=!1;return d>0&&Us(t,e,0,n)&&(p=!0),d>1&&Us(t,e,1,i)&&(p=!0),d>2&&Us(t,e,2,r)&&(p=!0),d>3&&Us(t,e,3,s)&&(p=!0),d>4&&Us(t,e,4,o)&&(p=!0),d>5&&Us(t,e,5,l)&&(p=!0),d>6&&Us(t,e,6,a)&&(p=!0),d>7&&Us(t,e,7,u)&&(p=!0),d>8&&Us(t,e,8,c)&&(p=!0),d>9&&Us(t,e,9,h)&&(p=!0),p}(t,e,n,i,r,s,o,l,a,u,c,h);case 2:return function(t,e,n,i,r,s,o,l,a,u,c,h){let d=!1;const p=e.bindings,f=p.length;if(f>0&&Gn(t,e,0,n)&&(d=!0),f>1&&Gn(t,e,1,i)&&(d=!0),f>2&&Gn(t,e,2,r)&&(d=!0),f>3&&Gn(t,e,3,s)&&(d=!0),f>4&&Gn(t,e,4,o)&&(d=!0),f>5&&Gn(t,e,5,l)&&(d=!0),f>6&&Gn(t,e,6,a)&&(d=!0),f>7&&Gn(t,e,7,u)&&(d=!0),f>8&&Gn(t,e,8,c)&&(d=!0),f>9&&Gn(t,e,9,h)&&(d=!0),d){let d=e.text.prefix;f>0&&(d+=Js(n,p[0])),f>1&&(d+=Js(i,p[1])),f>2&&(d+=Js(r,p[2])),f>3&&(d+=Js(s,p[3])),f>4&&(d+=Js(o,p[4])),f>5&&(d+=Js(l,p[5])),f>6&&(d+=Js(a,p[6])),f>7&&(d+=Js(u,p[7])),f>8&&(d+=Js(c,p[8])),f>9&&(d+=Js(h,p[9]));const g=Ln(t,e.nodeIndex).renderText;t.renderer.setValue(g,d)}return d}(t,e,n,i,r,s,o,l,a,u,c,h);case 16384:return function(t,e,n,i,r,s,o,l,a,u,c,h){const d=Mn(t,e.nodeIndex),p=d.instance;let f=!1,g=void 0;const m=e.bindings.length;return m>0&&Qn(t,e,0,n)&&(f=!0,g=gr(t,d,e,0,n,g)),m>1&&Qn(t,e,1,i)&&(f=!0,g=gr(t,d,e,1,i,g)),m>2&&Qn(t,e,2,r)&&(f=!0,g=gr(t,d,e,2,r,g)),m>3&&Qn(t,e,3,s)&&(f=!0,g=gr(t,d,e,3,s,g)),m>4&&Qn(t,e,4,o)&&(f=!0,g=gr(t,d,e,4,o,g)),m>5&&Qn(t,e,5,l)&&(f=!0,g=gr(t,d,e,5,l,g)),m>6&&Qn(t,e,6,a)&&(f=!0,g=gr(t,d,e,6,a,g)),m>7&&Qn(t,e,7,u)&&(f=!0,g=gr(t,d,e,7,u,g)),m>8&&Qn(t,e,8,c)&&(f=!0,g=gr(t,d,e,8,c,g)),m>9&&Qn(t,e,9,h)&&(f=!0,g=gr(t,d,e,9,h,g)),g&&p.ngOnChanges(g),65536&e.flags&&Nn(t,256,e.nodeIndex)&&p.ngOnInit(),262144&e.flags&&p.ngDoCheck(),f}(t,e,n,i,r,s,o,l,a,u,c,h);case 32:case 64:case 128:return function(t,e,n,i,r,s,o,l,a,u,c,h){const d=e.bindings;let p=!1;const f=d.length;if(f>0&&Gn(t,e,0,n)&&(p=!0),f>1&&Gn(t,e,1,i)&&(p=!0),f>2&&Gn(t,e,2,r)&&(p=!0),f>3&&Gn(t,e,3,s)&&(p=!0),f>4&&Gn(t,e,4,o)&&(p=!0),f>5&&Gn(t,e,5,l)&&(p=!0),f>6&&Gn(t,e,6,a)&&(p=!0),f>7&&Gn(t,e,7,u)&&(p=!0),f>8&&Gn(t,e,8,c)&&(p=!0),f>9&&Gn(t,e,9,h)&&(p=!0),p){const p=Vn(t,e.nodeIndex);let g;switch(201347067&e.flags){case 32:g=new Array(d.length),f>0&&(g[0]=n),f>1&&(g[1]=i),f>2&&(g[2]=r),f>3&&(g[3]=s),f>4&&(g[4]=o),f>5&&(g[5]=l),f>6&&(g[6]=a),f>7&&(g[7]=u),f>8&&(g[8]=c),f>9&&(g[9]=h);break;case 64:g={},f>0&&(g[d[0].name]=n),f>1&&(g[d[1].name]=i),f>2&&(g[d[2].name]=r),f>3&&(g[d[3].name]=s),f>4&&(g[d[4].name]=o),f>5&&(g[d[5].name]=l),f>6&&(g[d[6].name]=a),f>7&&(g[d[7].name]=u),f>8&&(g[d[8].name]=c),f>9&&(g[d[9].name]=h);break;case 128:const t=n;switch(f){case 1:g=t.transform(n);break;case 2:g=t.transform(i);break;case 3:g=t.transform(i,r);break;case 4:g=t.transform(i,r,s);break;case 5:g=t.transform(i,r,s,o);break;case 6:g=t.transform(i,r,s,o,l);break;case 7:g=t.transform(i,r,s,o,l,a);break;case 8:g=t.transform(i,r,s,o,l,a,u);break;case 9:g=t.transform(i,r,s,o,l,a,u,c);break;case 10:g=t.transform(i,r,s,o,l,a,u,c,h)}}p.value=g}return p}(t,e,n,i,r,s,o,l,a,u,c,h);default:throw"unreachable"}}(t,e,i,r,s,o,l,a,u,c,h,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){let i=!1;for(let r=0;r<n.length;r++)Us(t,e,r,n[r])&&(i=!0);return i}(t,e,n);case 2:return function(t,e,n){const i=e.bindings;let r=!1;for(let s=0;s<n.length;s++)Gn(t,e,s,n[s])&&(r=!0);if(r){let r="";for(let t=0;t<n.length;t++)r+=Js(n[t],i[t]);r=e.text.prefix+r;const s=Ln(t,e.nodeIndex).renderText;t.renderer.setValue(s,r)}return r}(t,e,n);case 16384:return function(t,e,n){const i=Mn(t,e.nodeIndex),r=i.instance;let s=!1,o=void 0;for(let l=0;l<n.length;l++)Qn(t,e,l,n[l])&&(s=!0,o=gr(t,i,e,l,n[l],o));return o&&r.ngOnChanges(o),65536&e.flags&&Nn(t,256,e.nodeIndex)&&r.ngOnInit(),262144&e.flags&&r.ngDoCheck(),s}(t,e,n);case 32:case 64:case 128:return function(t,e,n){const i=e.bindings;let r=!1;for(let s=0;s<n.length;s++)Gn(t,e,s,n[s])&&(r=!0);if(r){const r=Vn(t,e.nodeIndex);let s;switch(201347067&e.flags){case 32:s=n;break;case 64:s={};for(let r=0;r<n.length;r++)s[i[r].name]=n[r];break;case 128:const t=n[0],e=n.slice(1);s=t.transform(...e)}r.value=s}return r}(t,e,n);default:throw"unreachable"}}(t,e,i)}function po(t){const e=t.def;if(4&e.nodeFlags)for(let n=0;n<e.nodes.length;n++){const i=e.nodes[n];if(4&i.flags){const e=Fn(t,n).template._projectedViews;if(e)for(let n=0;n<e.length;n++){const i=e[n];i.state|=32,Yn(i,t)}}else 0==(4&i.childFlags)&&(n+=i.childCount)}}function fo(t,e,n,i,r,s,o,l,a,u,c,h,d){return 0===n?function(t,e,n,i,r,s,o,l,a,u,c,h){const d=e.bindings.length;d>0&&Kn(t,e,0,n),d>1&&Kn(t,e,1,i),d>2&&Kn(t,e,2,r),d>3&&Kn(t,e,3,s),d>4&&Kn(t,e,4,o),d>5&&Kn(t,e,5,l),d>6&&Kn(t,e,6,a),d>7&&Kn(t,e,7,u),d>8&&Kn(t,e,8,c),d>9&&Kn(t,e,9,h)}(t,e,i,r,s,o,l,a,u,c,h,d):function(t,e,n){for(let i=0;i<n.length;i++)Kn(t,e,i,n[i])}(t,e,i),!1}function go(t,e){if(zn(t,e.nodeIndex).dirty)throw Pn(jn.createDebugContext(t,e.nodeIndex),`Query ${e.query.id} not dirty`,`Query ${e.query.id} dirty`,0!=(1&t.state))}function mo(t){if(!(128&t.state)){if(vo(t,yo.Destroy),_o(t,yo.Destroy),mr(t,131072),t.disposables)for(let e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(!(16&t.state))return;const e=Jn(t);if(e){const n=e.template._projectedViews;n&&(jt(n,n.indexOf(t)),jn.dirtyParentQueries(t))}}(t),t.renderer.destroyNode&&function(t){const e=t.def.nodes.length;for(let n=0;n<e;n++){const e=t.def.nodes[n];1&e.flags?t.renderer.destroyNode(Fn(t,n).renderElement):2&e.flags?t.renderer.destroyNode(Ln(t,n).renderText):(67108864&e.flags||134217728&e.flags)&&zn(t,n).destroy()}}(t),ii(t)&&t.renderer.destroy(),t.state|=128}}const yo=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function _o(t,e){const n=t.def;if(33554432&n.nodeFlags)for(let i=0;i<n.nodes.length;i++){const r=n.nodes[i];33554432&r.flags?bo(Fn(t,i).componentView,e):0==(33554432&r.childFlags)&&(i+=r.childCount)}}function vo(t,e){const n=t.def;if(16777216&n.nodeFlags)for(let i=0;i<n.nodes.length;i++){const r=n.nodes[i];if(16777216&r.flags){const n=Fn(t,i).viewContainer._embeddedViews;for(let t=0;t<n.length;t++)bo(n[t],e)}else 0==(16777216&r.childFlags)&&(i+=r.childCount)}}function bo(t,e){const n=t.state;switch(e){case yo.CheckNoChanges:0==(128&n)&&(12==(12&n)?uo(t):64&n&&wo(t,yo.CheckNoChangesProjectedViews));break;case yo.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?uo(t):64&n&&wo(t,e));break;case yo.CheckAndUpdate:0==(128&n)&&(12==(12&n)?co(t):64&n&&wo(t,yo.CheckAndUpdateProjectedViews));break;case yo.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?co(t):64&n&&wo(t,e));break;case yo.Destroy:mo(t);break;case yo.CreateViewNodes:ao(t)}}function wo(t,e){vo(t,e),_o(t,e)}function Co(t,e,n,i){if(!(t.def.nodeFlags&e&&t.def.nodeFlags&n))return;const r=t.def.nodes.length;for(let s=0;s<r;s++){const r=t.def.nodes[s];if(r.flags&e&&r.flags&n)switch(jn.setCurrentNode(t,r.nodeIndex),i){case 0:qs(t,r);break;case 1:go(t,r)}r.childFlags&e&&r.childFlags&n||(s+=r.childCount)}}let So=!1;function Eo(t,e,n,i,r,s){const o=r.injector.get(sn);return ro(To(t,r,o,e,n),i,s)}function xo(t,e,n,i,r,s){const o=r.injector.get(sn),l=To(t,r,new rl(o),e,n),a=Fo(i);return nl(Uo.create,ro,null,[l,a,s])}function To(t,e,n,i,r){const s=e.injector.get(_e),o=e.injector.get($t),l=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:i,selectorOrNode:r,sanitizer:s,rendererFactory:n,renderer:l,errorHandler:o}}function ko(t,e,n,i){const r=Fo(n);return nl(Uo.create,io,null,[t,e,r,i])}function Io(t,e,n,i){return n=Do.get(e.element.componentProvider.provider.token)||Fo(n),nl(Uo.create,so,null,[t,e,n,i])}function Oo(t,e,n,i){return $i(t,e,n,function(t){const{hasOverrides:e,hasDeprecatedOverrides:n}=function(t){let e=!1,n=!1;return 0===Po.size||(t.providers.forEach(t=>{const i=Po.get(t.token);3840&t.flags&&i&&(e=!0,n=n||i.deprecatedBehavior)}),t.modules.forEach(t=>{Ro.forEach((i,r)=>{gt(r).providedIn===t&&(e=!0,n=n||i.deprecatedBehavior)})})),{hasOverrides:e,hasDeprecatedOverrides:n}}(t);return e?(function(t){for(let e=0;e<t.providers.length;e++){const i=t.providers[e];n&&(i.flags|=4096);const r=Po.get(i.token);r&&(i.flags=-3841&i.flags|r.flags,i.deps=li(r.deps),i.value=r.value)}if(Ro.size>0){let e=new Set(t.modules);Ro.forEach((i,r)=>{if(e.has(gt(r).providedIn)){let e={token:r,flags:i.flags|(n?4096:0),deps:li(i.deps),value:i.value,index:t.providers.length};t.providers.push(e),t.providersByKey[Bn(r)]=e}})}}(t=t.factory(()=>Hn)),t):t}(i))}const Po=new Map,Ro=new Map,Do=new Map;function Ao(t){let e;Po.set(t.token,t),"function"==typeof t.token&&(e=gt(t.token))&&"function"==typeof e.providedIn&&Ro.set(t.token,t)}function No(t,e){const n=ci(e.viewDefFactory),i=ci(n.nodes[0].element.componentView);Do.set(t,i)}function Lo(){Po.clear(),Ro.clear(),Do.clear()}function Fo(t){if(0===Po.size)return t;const e=function(t){const e=[];let n=null;for(let i=0;i<t.nodes.length;i++){const r=t.nodes[i];1&r.flags&&(n=r),n&&3840&r.flags&&Po.has(r.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(()=>Hn);for(let i=0;i<e.length;i++)n(t,e[i]);return t;function n(t,e){for(let n=e+1;n<t.nodes.length;n++){const e=t.nodes[n];if(1&e.flags)return;if(3840&e.flags){const t=e.provider,n=Po.get(t.token);n&&(e.flags=-3841&e.flags|n.flags,t.deps=li(n.deps),t.value=n.value)}}}}function Mo(t,e,n,i,r,s,o,l,a,u,c,h,d){const p=t.def.nodes[e];return ho(t,p,n,i,r,s,o,l,a,u,c,h,d),224&p.flags?Vn(t,e).value:void 0}function Vo(t,e,n,i,r,s,o,l,a,u,c,h,d){const p=t.def.nodes[e];return fo(t,p,n,i,r,s,o,l,a,u,c,h,d),224&p.flags?Vn(t,e).value:void 0}function zo(t){return nl(Uo.detectChanges,co,null,[t])}function jo(t){return nl(Uo.checkNoChanges,uo,null,[t])}function Ho(t){return nl(Uo.destroy,mo,null,[t])}const Uo=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();let Bo,Wo,qo;function $o(t,e){Wo=t,qo=e}function Qo(t,e,n,i){return $o(t,e),nl(Uo.handleEvent,t.def.handleEvent,null,[t,e,n,i])}function Go(t,e){if(128&t.state)throw Dn(Uo[Bo]);return $o(t,Xo(t,0)),t.def.updateDirectives((function(t,n,i,...r){const s=t.def.nodes[n];return 0===e?Zo(t,s,i,r):Yo(t,s,i,r),16384&s.flags&&$o(t,Xo(t,n)),224&s.flags?Vn(t,s.nodeIndex).value:void 0}),t)}function Ko(t,e){if(128&t.state)throw Dn(Uo[Bo]);return $o(t,Jo(t,0)),t.def.updateRenderer((function(t,n,i,...r){const s=t.def.nodes[n];return 0===e?Zo(t,s,i,r):Yo(t,s,i,r),3&s.flags&&$o(t,Jo(t,n)),224&s.flags?Vn(t,s.nodeIndex).value:void 0}),t)}function Zo(t,e,n,i){if(ho(t,e,n,...i)){const r=1===n?i[0]:i;if(16384&e.flags){const n={};for(let t=0;t<e.bindings.length;t++){const i=e.bindings[t],s=r[t];8&i.flags&&(n[we(i.nonMinifiedName)]=Se(s))}const i=e.parent,s=Fn(t,i.nodeIndex).renderElement;if(i.element.name)for(let e in n){const i=n[e];null!=i?t.renderer.setAttribute(s,e,i):t.renderer.removeAttribute(s,e)}else t.renderer.setValue(s,"bindings="+JSON.stringify(n,null,2))}}}function Yo(t,e,n,i){fo(t,e,n,...i)}function Xo(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(16384&e.flags&&e.bindings&&e.bindings.length)return n}return null}function Jo(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(3&e.flags&&e.bindings&&e.bindings.length)return n}return null}class tl{constructor(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];let n=this.nodeDef,i=t;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&i;)n=ti(i),i=i.parent;this.elDef=n,this.elView=i}get elOrCompView(){return Fn(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return Hi(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const t=[];if(this.elDef)for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}get references(){const t={};if(this.elDef){el(this.elView,this.elDef,t);for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&el(this.elView,n,t),e+=n.childCount}}return t}get componentRenderElement(){const t=function(t){for(;t&&!ii(t);)t=t.parent;return t.parent?Fn(t.parent,ti(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?ei(this.view,this.nodeDef):ei(this.elView,this.elDef)}logError(t,...e){let n,i;2&this.nodeDef.flags?(n=this.view.def,i=this.nodeDef.nodeIndex):(n=this.elView.def,i=this.elDef.nodeIndex);const r=function(t,e){let n=-1;for(let i=0;i<=e;i++)3&t.nodes[i].flags&&n++;return n}(n,i);let s=-1;n.factory(()=>(s++,s===r?t.error.bind(t,...e):Hn)),s<r&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error(...e))}}function el(t,e,n){for(let i in e.references)n[i]=Qs(t,e,e.references[i])}function nl(t,e,n,i){const r=Bo,s=Wo,o=qo;try{Bo=t;const l=e.apply(n,i);return Wo=s,qo=o,Bo=r,l}catch(l){if(Bt(l)||!Wo)throw l;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),Rn(t,e),t}(l,il())}}function il(){return Wo?new tl(Wo,qo):null}class rl{constructor(t){this.delegate=t}createRenderer(t,e){return new sl(this.delegate.createRenderer(t,e))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class sl{constructor(t){this.delegate=t,this.debugContextFactory=il,this.data=this.delegate.data}createDebugContext(t){return this.debugContextFactory(t)}destroyNode(t){const e=Os(t);!function(t){Is.delete(t.nativeNode)}(e),e instanceof Ts&&(e.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(t)}destroy(){this.delegate.destroy()}createElement(t,e){const n=this.delegate.createElement(t,e),i=this.createDebugContext(n);if(i){const e=new ks(n,null,i);e.name=t,Ps(e)}return n}createComment(t){const e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&Ps(new Ts(e,null,n)),e}createText(t){const e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&Ps(new Ts(e,null,n)),e}appendChild(t,e){const n=Os(t),i=Os(e);n&&i&&n instanceof ks&&n.addChild(i),this.delegate.appendChild(t,e)}insertBefore(t,e,n){const i=Os(t),r=Os(e),s=Os(n);i&&r&&i instanceof ks&&i.insertBefore(s,r),this.delegate.insertBefore(t,e,n)}removeChild(t,e){const n=Os(t),i=Os(e);n&&i&&n instanceof ks&&n.removeChild(i),this.delegate.removeChild(t,e)}selectRootElement(t,e){const n=this.delegate.selectRootElement(t,e),i=il();return i&&Ps(new ks(n,null,i)),n}setAttribute(t,e,n,i){const r=Os(t);r&&r instanceof ks&&(r.attributes[i?i+":"+e:e]=n),this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){const i=Os(t);i&&i instanceof ks&&(i.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}addClass(t,e){const n=Os(t);n&&n instanceof ks&&(n.classes[e]=!0),this.delegate.addClass(t,e)}removeClass(t,e){const n=Os(t);n&&n instanceof ks&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}setStyle(t,e,n,i){const r=Os(t);r&&r instanceof ks&&(r.styles[e]=n),this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){const i=Os(t);i&&i instanceof ks&&(i.styles[e]=null),this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){const i=Os(t);i&&i instanceof ks&&(i.properties[e]=n),this.delegate.setProperty(t,e,n)}listen(t,e,n){if("string"!=typeof t){const i=Os(t);i&&i.listeners.push(new xs(e,n))}return this.delegate.listen(t,e,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setValue(t,e){return this.delegate.setValue(t,e)}}function ol(t,e,n){return new ll(t,e,n)}class ll extends Vt{constructor(t,e,n){super(),this.moduleType=t,this._bootstrapComponents=e,this._ngModuleDefFactory=n}create(t){!function(){if(So)return;So=!0;const t=Kt()?{setCurrentNode:$o,createRootView:xo,createEmbeddedView:ko,createComponentView:Io,createNgModuleRef:Oo,overrideProvider:Ao,overrideComponentView:No,clearOverrides:Lo,checkAndUpdateView:zo,checkNoChangesView:jo,destroyView:Ho,createDebugContext:(t,e)=>new tl(t,e),handleEvent:Qo,updateDirectives:Go,updateRenderer:Ko}:{setCurrentNode:()=>{},createRootView:Eo,createEmbeddedView:io,createComponentView:so,createNgModuleRef:$i,overrideProvider:Hn,overrideComponentView:Hn,clearOverrides:Hn,checkAndUpdateView:co,checkNoChangesView:uo,destroyView:mo,createDebugContext:(t,e)=>new tl(t,e),handleEvent:(t,e,n,i)=>t.def.handleEvent(t,e,n,i),updateDirectives:(t,e)=>t.def.updateDirectives(0===e?Mo:Vo,t),updateRenderer:(t,e)=>t.def.updateRenderer(0===e?Mo:Vo,t)};jn.setCurrentNode=t.setCurrentNode,jn.createRootView=t.createRootView,jn.createEmbeddedView=t.createEmbeddedView,jn.createComponentView=t.createComponentView,jn.createNgModuleRef=t.createNgModuleRef,jn.overrideProvider=t.overrideProvider,jn.overrideComponentView=t.overrideComponentView,jn.clearOverrides=t.clearOverrides,jn.checkAndUpdateView=t.checkAndUpdateView,jn.checkNoChangesView=t.checkNoChangesView,jn.destroyView=t.destroyView,jn.resolveDep=pr,jn.createDebugContext=t.createDebugContext,jn.handleEvent=t.handleEvent,jn.updateDirectives=t.updateDirectives,jn.updateRenderer=t.updateRenderer,jn.dirtyParentQueries=Ws}();const e=function(t){const e=Array.from(t.providers),n=Array.from(t.modules),i={};for(const r in t.providersByKey)i[r]=t.providersByKey[r];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:i}}(ci(this._ngModuleDefFactory));return jn.createNgModuleRef(this.moduleType,t||Ie.NULL,this._bootstrapComponents,e)}}class al{}class ul{constructor(){this.affichageParFamilles=!1,this.filtreFamille=!1,this.affichageArrivage=!1}}class cl{}class hl{}const dl=new Tt("Location Initialized");class pl{}const fl=new Tt("appBaseHref");class gl{constructor(t,e){this._subject=new xr,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=gl.stripTrailingSlash(ml(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+gl.normalizeQueryParams(e))}normalize(t){return gl.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,ml(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+gl.normalizeQueryParams(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+gl.normalizeQueryParams(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}static normalizeQueryParams(t){return t&&"?"!==t[0]?"?"+t:t}static joinWithSlash(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}static stripTrailingSlash(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}}function ml(t){return t.replace(/\/index.html$/,"")}class yl extends pl{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=gl.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,i){let r=this.prepareExternalUrl(n+gl.normalizeQueryParams(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){let r=this.prepareExternalUrl(n+gl.normalizeQueryParams(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class _l extends pl{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return gl.joinWithSlash(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+gl.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,i){const r=this.prepareExternalUrl(n+gl.normalizeQueryParams(i));this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){const r=this.prepareExternalUrl(n+gl.normalizeQueryParams(i));this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}const vl=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),bl=function(){var t={Format:0,Standalone:1};return t[t.Format]="Format",t[t.Standalone]="Standalone",t}(),wl=function(){var t={Narrow:0,Abbreviated:1,Wide:2,Short:3};return t[t.Narrow]="Narrow",t[t.Abbreviated]="Abbreviated",t[t.Wide]="Wide",t[t.Short]="Short",t}(),Cl=function(){var t={Short:0,Medium:1,Long:2,Full:3};return t[t.Short]="Short",t[t.Medium]="Medium",t[t.Long]="Long",t[t.Full]="Full",t}(),Sl=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}();function El(t,e){return Ol(Er(t)[wr.DateFormat],e)}function xl(t,e){return Ol(Er(t)[wr.TimeFormat],e)}function Tl(t,e){return Ol(Er(t)[wr.DateTimeFormat],e)}function kl(t,e){const n=Er(t),i=n[wr.NumberSymbols][e];if(void 0===i){if(e===Sl.CurrencyDecimal)return n[wr.NumberSymbols][Sl.Decimal];if(e===Sl.CurrencyGroup)return n[wr.NumberSymbols][Sl.Group]}return i}function Il(t){if(!t[wr.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[wr.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ol(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function Pl(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const Rl=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Dl={},Al=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Nl=function(){var t={Short:0,ShortGMT:1,Long:2,Extended:3};return t[t.Short]="Short",t[t.ShortGMT]="ShortGMT",t[t.Long]="Long",t[t.Extended]="Extended",t}(),Ll=function(){var t={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return t[t.FullYear]="FullYear",t[t.Month]="Month",t[t.Date]="Date",t[t.Hours]="Hours",t[t.Minutes]="Minutes",t[t.Seconds]="Seconds",t[t.FractionalSeconds]="FractionalSeconds",t[t.Day]="Day",t}(),Fl=function(){var t={DayPeriods:0,Days:1,Months:2,Eras:3};return t[t.DayPeriods]="DayPeriods",t[t.Days]="Days",t[t.Months]="Months",t[t.Eras]="Eras",t}();function Ml(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function Vl(t,e,n="-",i,r){let s="";(t<0||r&&t<=0)&&(r?t=1-t:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return i&&(o=o.substr(o.length-e)),s+o}function zl(t,e,n=0,i=!1,r=!1){return function(s,o){let l=function(t,e){switch(t){case Ll.FullYear:return e.getFullYear();case Ll.Month:return e.getMonth();case Ll.Date:return e.getDate();case Ll.Hours:return e.getHours();case Ll.Minutes:return e.getMinutes();case Ll.Seconds:return e.getSeconds();case Ll.FractionalSeconds:return e.getMilliseconds();case Ll.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||l>-n)&&(l+=n),t===Ll.Hours)0===l&&-12===n&&(l=12);else if(t===Ll.FractionalSeconds)return a=e,Vl(l,3).substr(0,a);var a;const u=kl(o,Sl.MinusSign);return Vl(l,e,u,i,r)}}function jl(t,e,n=bl.Format,i=!1){return function(r,s){return function(t,e,n,i,r,s){switch(n){case Fl.Months:return function(t,e,n){const i=Er(t),r=Ol([i[wr.MonthsFormat],i[wr.MonthsStandalone]],e);return Ol(r,n)}(e,r,i)[t.getMonth()];case Fl.Days:return function(t,e,n){const i=Er(t),r=Ol([i[wr.DaysFormat],i[wr.DaysStandalone]],e);return Ol(r,n)}(e,r,i)[t.getDay()];case Fl.DayPeriods:const o=t.getHours(),l=t.getMinutes();if(s){const t=function(t){const e=Er(t);return Il(e),(e[wr.ExtraData][2]||[]).map(t=>"string"==typeof t?Pl(t):[Pl(t[0]),Pl(t[1])])}(e),n=function(t,e,n){const i=Er(t);Il(i);const r=Ol([i[wr.ExtraData][0],i[wr.ExtraData][1]],e)||[];return Ol(r,n)||[]}(e,r,i);let s;if(t.forEach((t,e)=>{if(Array.isArray(t)){const{hours:i,minutes:r}=t[0],{hours:a,minutes:u}=t[1];o>=i&&l>=r&&(o<a||o===a&&l<u)&&(s=n[e])}else{const{hours:i,minutes:r}=t;i===o&&r===l&&(s=n[e])}}),s)return s}return function(t,e,n){const i=Er(t),r=Ol([i[wr.DayPeriodsFormat],i[wr.DayPeriodsStandalone]],e);return Ol(r,n)}(e,r,i)[o<12?0:1];case Fl.Eras:return function(t,e){return Ol(Er(t)[wr.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(r,s,t,e,n,i)}}function Hl(t){return function(e,n,i){const r=-1*i,s=kl(n,Sl.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case Nl.Short:return(r>=0?"+":"")+Vl(o,2,s)+Vl(Math.abs(r%60),2,s);case Nl.ShortGMT:return"GMT"+(r>=0?"+":"")+Vl(o,1,s);case Nl.Long:return"GMT"+(r>=0?"+":"")+Vl(o,2,s)+":"+Vl(Math.abs(r%60),2,s);case Nl.Extended:return 0===i?"Z":(r>=0?"+":"")+Vl(o,2,s)+":"+Vl(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}function Ul(t,e=!1){return function(n,i){let r;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();r=1+Math.floor((e+t)/7)}else{const t=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(n.getFullYear()),e=(s=n,new Date(s.getFullYear(),s.getMonth(),s.getDate()+(4-s.getDay()))).getTime()-t.getTime();r=1+Math.round(e/6048e5)}var s;return Vl(r,t,kl(i,Sl.MinusSign))}}const Bl={};function Wl(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function ql(t){return t instanceof Date&&!isNaN(t.valueOf())}const $l=new Tt("UseV4Plurals");class Ql{}class Gl extends Ql{constructor(t,e){super(),this.locale=t,this.deprecatedPluralFn=e}getPluralCategory(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return Er(t)[wr.PluralCase]}(e||this.locale)(t)){case vl.Zero:return"zero";case vl.One:return"one";case vl.Two:return"two";case vl.Few:return"few";case vl.Many:return"many";default:return"other"}}}function Kl(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[i,r]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(i.trim()===e)return decodeURIComponent(r)}return null}class Zl{}class Yl{constructor(t,e,n,i){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=i,this._initialClasses=[]}getValue(){return null}setClass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}setNgClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Ue(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}applyChanges(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+yt(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}let Xl=(()=>{class t{constructor(t){this._delegate=t}getValue(){return this._delegate.getValue()}}return t.ngDirectiveDef=void 0,t})();class Jl extends Xl{constructor(t){super(t)}set klass(t){this._delegate.setClass(t)}set ngClass(t){this._delegate.setNgClass(t)}ngDoCheck(){this._delegate.applyChanges()}}class ta{constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class ea{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Kt()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,i)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new ta(null,this._ngForOf,-1,-1),null===i?void 0:i),r=new na(t,n);e.push(r)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const r=this._viewContainer.get(n);this._viewContainer.move(r,i);const s=new na(t,r);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=i,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}class na{constructor(t,e){this.record=t,this.view=e}}class ia{constructor(t,e){this._viewContainer=t,this._context=new ra,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){sa("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){sa("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}class ra{constructor(){this.$implicit=null,this.ngIf=null}}function sa(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${yt(e)}'.`)}class oa{}class la{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n}getValue(){return null}setNgStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}applyChanges(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}_setStyle(t,e){const[n,i]=t.split(".");null!=(e=null!=e&&i?`${e}${i}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}}let aa=(()=>{class t{constructor(t){this._delegate=t}getValue(){return this._delegate.getValue()}}return t.ngDirectiveDef=void 0,t})();class ua extends aa{constructor(t){super(t)}set ngStyle(t){this._delegate.setNgStyle(t)}ngDoCheck(){this._delegate.applyChanges()}}class ca{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){this._shouldRecreateView(t)?(this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))):this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}function ha(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${yt(t)}'`)}class da{constructor(t){this.locale=t}transform(t,e="mediumDate",n,i){if(null==t||""===t||t!=t)return null;try{return function(t,e,n,i){let r=function(t){if(ql(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,i]=t.split("-").map(t=>+t);return new Date(e,n-1,i)}let n;if(n=t.match(Rl))return function(t){const e=new Date(0);let n=0,i=0;const r=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),i=Number(t[9]+t[11])),r.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,l=Number(t[5]||0)-i,a=Number(t[6]||0),u=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,l,a,u),e}(n)}const e=new Date(t);if(!ql(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const i=function(t){return Er(t)[wr.LocaleId]}(e);if(Dl[i]=Dl[i]||{},Dl[i][n])return Dl[i][n];let r="";switch(n){case"shortDate":r=El(e,Cl.Short);break;case"mediumDate":r=El(e,Cl.Medium);break;case"longDate":r=El(e,Cl.Long);break;case"fullDate":r=El(e,Cl.Full);break;case"shortTime":r=xl(e,Cl.Short);break;case"mediumTime":r=xl(e,Cl.Medium);break;case"longTime":r=xl(e,Cl.Long);break;case"fullTime":r=xl(e,Cl.Full);break;case"short":const n=t(e,"shortTime"),i=t(e,"shortDate");r=Ml(Tl(e,Cl.Short),[n,i]);break;case"medium":const s=t(e,"mediumTime"),o=t(e,"mediumDate");r=Ml(Tl(e,Cl.Medium),[s,o]);break;case"long":const l=t(e,"longTime"),a=t(e,"longDate");r=Ml(Tl(e,Cl.Long),[l,a]);break;case"full":const u=t(e,"fullTime"),c=t(e,"fullDate");r=Ml(Tl(e,Cl.Full),[u,c])}return r&&(Dl[i][n]=r),r}(n,e)||e;let s,o=[];for(;e;){if(s=Al.exec(e),!s){o.push(e);break}{o=o.concat(s.slice(1));const t=o.pop();if(!t)break;e=t}}let l=r.getTimezoneOffset();i&&(l=Wl(i,l),r=function(t,e,n){const i=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(Wl(e,i)-i))}(r,i));let a="";return o.forEach(t=>{const e=function(t){if(Bl[t])return Bl[t];let e;switch(t){case"G":case"GG":case"GGG":e=jl(Fl.Eras,wl.Abbreviated);break;case"GGGG":e=jl(Fl.Eras,wl.Wide);break;case"GGGGG":e=jl(Fl.Eras,wl.Narrow);break;case"y":e=zl(Ll.FullYear,1,0,!1,!0);break;case"yy":e=zl(Ll.FullYear,2,0,!0,!0);break;case"yyy":e=zl(Ll.FullYear,3,0,!1,!0);break;case"yyyy":e=zl(Ll.FullYear,4,0,!1,!0);break;case"M":case"L":e=zl(Ll.Month,1,1);break;case"MM":case"LL":e=zl(Ll.Month,2,1);break;case"MMM":e=jl(Fl.Months,wl.Abbreviated);break;case"MMMM":e=jl(Fl.Months,wl.Wide);break;case"MMMMM":e=jl(Fl.Months,wl.Narrow);break;case"LLL":e=jl(Fl.Months,wl.Abbreviated,bl.Standalone);break;case"LLLL":e=jl(Fl.Months,wl.Wide,bl.Standalone);break;case"LLLLL":e=jl(Fl.Months,wl.Narrow,bl.Standalone);break;case"w":e=Ul(1);break;case"ww":e=Ul(2);break;case"W":e=Ul(1,!0);break;case"d":e=zl(Ll.Date,1);break;case"dd":e=zl(Ll.Date,2);break;case"E":case"EE":case"EEE":e=jl(Fl.Days,wl.Abbreviated);break;case"EEEE":e=jl(Fl.Days,wl.Wide);break;case"EEEEE":e=jl(Fl.Days,wl.Narrow);break;case"EEEEEE":e=jl(Fl.Days,wl.Short);break;case"a":case"aa":case"aaa":e=jl(Fl.DayPeriods,wl.Abbreviated);break;case"aaaa":e=jl(Fl.DayPeriods,wl.Wide);break;case"aaaaa":e=jl(Fl.DayPeriods,wl.Narrow);break;case"b":case"bb":case"bbb":e=jl(Fl.DayPeriods,wl.Abbreviated,bl.Standalone,!0);break;case"bbbb":e=jl(Fl.DayPeriods,wl.Wide,bl.Standalone,!0);break;case"bbbbb":e=jl(Fl.DayPeriods,wl.Narrow,bl.Standalone,!0);break;case"B":case"BB":case"BBB":e=jl(Fl.DayPeriods,wl.Abbreviated,bl.Format,!0);break;case"BBBB":e=jl(Fl.DayPeriods,wl.Wide,bl.Format,!0);break;case"BBBBB":e=jl(Fl.DayPeriods,wl.Narrow,bl.Format,!0);break;case"h":e=zl(Ll.Hours,1,-12);break;case"hh":e=zl(Ll.Hours,2,-12);break;case"H":e=zl(Ll.Hours,1);break;case"HH":e=zl(Ll.Hours,2);break;case"m":e=zl(Ll.Minutes,1);break;case"mm":e=zl(Ll.Minutes,2);break;case"s":e=zl(Ll.Seconds,1);break;case"ss":e=zl(Ll.Seconds,2);break;case"S":e=zl(Ll.FractionalSeconds,1);break;case"SS":e=zl(Ll.FractionalSeconds,2);break;case"SSS":e=zl(Ll.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Hl(Nl.Short);break;case"ZZZZZ":e=Hl(Nl.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Hl(Nl.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Hl(Nl.Long);break;default:return null}return Bl[t]=e,e}(t);a+=e?e(r,n,l):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),a}(t,e,i||this.locale,n)}catch(r){throw ha(da,r.message)}}}class pa{constructor(t){this.differs=t,this.keyValues=[]}transform(t,e=fa){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const n=this.differ.diff(t);return n&&(this.keyValues=[],n.forEachItem(t=>{this.keyValues.push({key:t.key,value:t.currentValue})}),this.keyValues.sort(e)),this.keyValues}}function fa(t,e){const n=t.key,i=e.key;if(n===i)return 0;if(void 0===n)return 1;if(void 0===i)return-1;if(null===n)return 1;if(null===i)return-1;if("string"==typeof n&&"string"==typeof i)return n<i?-1:1;if("number"==typeof n&&"number"==typeof i)return n-i;if("boolean"==typeof n&&"boolean"==typeof i)return n<i?-1:1;const r=String(n),s=String(i);return r==s?0:r<s?-1:1}class ga{transform(t,e,n){if(null==t)return t;if(!this.supports(t))throw ha(ga,t);return t.slice(e,n)}supports(t){return"string"==typeof t||Array.isArray(t)}}class ma{}const ya=new Tt("DocumentToken");function _a(t){return"server"===t}let va=(()=>{class t{}return t.ngInjectableDef=ft({token:t,providedIn:"root",factory:()=>new ba(At(ya),window,At($t))}),t})();class ba{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}class wa{static fromJson(t,e){return Object.assign(new e,t)}static toJson(t){return Object.assign({},t)}toJson(){return wa.toJson(this)}clone(t){return Object.assign(new t,this.toJson())}equals(t){return JSON.stringify(this.toJson())===JSON.stringify(t.toJson())}}class Ca extends wa{get selectedFactureName(){return"Facture n\xb0:"+this.numFacture+" | reste : "+this.formatNumberToMoney(this.resteReglement)}formatNumberToMoney(t){t||(t=0);const e=String(t.toFixed(2)),n=e.indexOf(".");return e.replace(/\d(?=(?:\d{3})+(?:\.|$))/g,(t,e)=>n<0||e<n?t+",":t)}}class Sa{constructor(){this.getWeekNumber=function(t){const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),n=e.getUTCDay()||7;e.setUTCDate(e.getUTCDate()+4-n);const i=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e.getTime()-i.getTime())/864e5+1)/7)}}static generateAlerte(t,e){t.confirm({message:e,header:"Information importante",icon:"fas fa-exclamation-triangle",key:"ok"})}static matchAnyWords(t,e,n,i,r,s){if(r&&(!s&&e===n.toLocaleLowerCase()||s&&n.toLocaleLowerCase().startsWith(e)))return!0;const o=e.split(" "),l=t.split(" "),a=[];return o.forEach(t=>{let e=!1;for(let n=0;n<l.length;n++)if(!e&&l[n].startsWith(t)){e=!0;break}a.push(e)}),!a.includes(!1)}static calculateurMarge(t,e,n){return Number(Number((e-e*n/100-t)/t*100).toFixed(2))}static isEmpty(t){return void 0===t||""===t}static formatDate(t){return new da("en-US").transform(t,"yyyy-MM-dd")}static formatDateHeure(t){return new da("en-US").transform(t,"yyyy-MM-dd'T'HH:mm:ss")}static reverseformatDateHeure(t){return new Date(t)}static calculerSoldeFournisseur(t){return this.formatNumberToMoney(t.mtdus-t.mtreg+t.ca)}static calculerSoldeClient(t){return this.formatNumberToMoney(t.mtdus-t.mtreg+t.ca)}static calculerSoldeClientFournisseur(t){return this.formatNumberToMoney(t.mtdus-t.mtreg+t.ca-(t.idFournisseur.mtdus-t.idFournisseur.mtreg+t.idFournisseur.ca))}static controlSurSaisieFloat(t,e,n){let i=n;if(n){let r=n.toString().split(".")[0],s=n.toString().split(".")[1];r&&r.length>t&&(r=r.substr(0,t),i=Number(r)),s&&s.length>e&&(s=s.substr(0,e),i=Number(r+"."+s))}return i}static formatMoisAnnee(t){return new da("fr-FR").transform(t,"MMMM yyyy")}static formatNumberToMoney(t){t||(t=0);const e=String(t.toFixed(2)),n=e.indexOf(".");return e.replace(/\d(?=(?:\d{3})+(?:\.|$))/g,(t,e)=>n<0||e<n?t+",":t)+" "+localStorage.getItem("devise")}static troncString(t,e){return t.length>e?t.slice(0,e)+" ...":t}static randomString(t){const e="ABCEDEFEGHIJKLAMNOPQARSTUVWXATZ";let n="";for(let i=0;i<t;i++){const t=Math.floor(Math.random()*e.length);n+=e.substring(t,t+1)}return n}static randomNumber(t){const e="123456789123456789123456789";let n="";for(let i=0;i<t;i++){const t=Math.floor(Math.random()*e.length);n+=e.substring(t,t+1)}return n}static FormatNumberLength(t){let e=""+t;for(;e.length<8;)e="0"+e;return e}static extractBlobResponse(t){if(0===t.body.size)return[null,null];const e=t.headers.get("Content-Disposition").split(";")[1].split("filename")[1].split("=")[1].trim();return[t.body,e]}static findHashtags(t){const e=t.match(/\#\w\w+\s?/g);return e?(e.map(t=>t.trim()),e.map(t=>t.toUpperCase())):[]}static isMobileScreen(){return/iPhone|iPod|Android/i.test(navigator.userAgent)||window.innerWidth<=480}static convertisseurCommande(t){const e=new Ca;return e.dateFacture=new Date(Date.parse(t.dateFacture)),e.dateLivraison=new Date(Date.parse(t.dateLivraison)),e.id=t.id,e.idTypeCommande=t.idTypeCommande,e.idClient=t.idClient,e.idFournisseur=t.idFournisseur,e.bonCommandeClient=t.bonCommandeClient,e.numFacture=t.numFacture,e.numAvoir=t.numAvoir,e.avoirsFactNum=t.avoirsFactNum,e.numBl=t.numBl,e.numBlf=t.numBlf,e.numProforma=t.numProforma,e.idCommercial=t.idCommercial,e.idPreparateur=t.idPreparateur,e.idLivreur=t.idLivreur,e.montantFactureHT=t.montantFactureHT,e.totalRemiseFacture=t.totalRemiseFacture,e.montantTva=t.montantTva,e.timbre=t.timbre,e.totalTTC=t.totalTTC,e.statusCommande=t.statusCommande,e.observation=t.observation,e.conditionsVente=t.conditionsVente,e.numeroVenteJour=t.numeroVenteJour,e.idDestinationLivraison=t.idDestinationLivraison,e.remiseGlobale=t.remiseGlobale,e.echeanceJour=t.echeanceJour,e.maj=t.maj,e.idClientFacturation=t.idClientFacturation,e.lignesCommande=t.lignesCommande,e.mouvementsBanques=t.mouvementsBanques,e.verrouModification=t.verrouModification,e.documents=t.documents,t.lignesCommande.forEach(t=>{t.margeVente=Sa.calculateurMarge(t.idArticle.prixUnitaireMoyen,t.prixUnitaire,t.prctRemise)}),t.mouvementsBanques.forEach(t=>{t.dateOperation=new Date(Date.parse(t.dateOperation))}),e.prctRemiseGlobale=Number(Number(100*t.remiseGlobale/t.totalTTC).toFixed(2)),e}concatTransform(t,e=","){return t.join(e)}}class Ea{constructor(t,e,n,i,r){this.db2=t,this.router=e,this.route=n,this.confirmationService=i,this.messageService=r,this.showPanier=new xr,this.products=[],this.email="",this.familles=new Set,this.utils=Sa,this.isAuthentificated=!1,this.nouveauEditItem=!1,this.selectedItem=new cl,this.originalMapFamilleArticles=new Map,this.mapFamilleArticles=new Map,this.identification="0",this.bgcolors=["#0e936b","#ff6b6b","#0B7285","#5190CC","#4f5d75","#f05050"],this.math=Math}ngOnInit(){this.route.queryParams.subscribe(t=>{this.chargerProduits(t.id).then(e=>{this.identification=t.id,this.products.forEach(t=>{this.mapFamilleArticles.get(t.famille)?(this.mapFamilleArticles.set(t.famille,[...this.mapFamilleArticles.get(t.famille),t]),this.originalMapFamilleArticles.set(t.famille,[...this.mapFamilleArticles.get(t.famille),t])):(this.mapFamilleArticles.set(t.famille,[t]),this.originalMapFamilleArticles.set(t.famille,[t]))}),this.products.forEach(t=>{this.familles.add(t.famille)})})})}chargerProduits(t){return new Promise(e=>{this.db2.list("catalogue/"+t+"/produits").snapshotChanges().subscribe(t=>{this.products=t.map(t=>Object.assign({id:t.payload.key},t.payload.val())),e(!0)})})}rechercheParCriteres(){this.saisieRecherche&&this.saisieRecherche.inputSearchText?(this.saisieRecherche.affichageParFamilles=!1,this.originalMapFamilleArticles.forEach((t,e)=>{this.mapFamilleArticles.set(e,t.filter(t=>this.utils.matchAnyWords(t.designation.toLocaleLowerCase(),this.saisieRecherche.inputSearchText.toLocaleLowerCase(),t.reference,!1,!0,!1)))})):(this.saisieRecherche.affichageParFamilles=!1,this.originalMapFamilleArticles.forEach((t,e)=>{this.mapFamilleArticles.set(e,t)}))}ajouterPanier(t){if(this.panier.find(e=>e.id===t.id))this.utils.generateAlerte(this.confirmationService,"cet article est d\xe9ja dans le panier.");else{const e=new cl;e.qteStockArticle=1,e.designation=t.designation,e.id=t.id,this.panier.push(e),this.messageService.add({severity:"success",detail:"l'article a \xe9t\xe9 ajout\xe9 au panier."})}}articlesParFamille(t){this.selectedFamille=t,this.saisieRecherche.filtreFamille=!0,this.saisieRecherche.affichageParFamilles=!1}goPanier(){this.showPanier.emit(!0)}filterArrivage(){}}class xa{constructor(t,e){this.primengConfig=t,this.route=e,this.title="catalog",this.panier=[],this.saisieRecherche=new ul,this.isPanierSelectionner=!1,this.primengConfig.ripple=!0}ngOnInit(){this.primengConfig.ripple=!0}chargementIdentification(){return new Promise(t=>{this.route.params.subscribe(e=>{console.log(e),e.id?(alert(e.id),t(!0)):t(!1)})})}lancerFiltre(t){this.catalog.rechercheParCriteres()}changeEcranPanier(){this.isPanierSelectionner=!this.isPanierSelectionner}}const Ta=new w(t=>t.complete());function ka(t){return t?function(t){return new w(e=>t.schedule(()=>e.complete()))}(t):Ta}function Ia(t){const e=new w(e=>{e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}function Oa(...t){let e=t[t.length-1];switch(O(e)?t.pop():e=void 0,t.length){case 0:return ka(e);case 1:return e?q(t,e):Ia(t[0]);default:return q(t,e)}}class Pa extends k{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new E;return this._value}next(t){super.next(this._value=t)}}function Ra(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}Ra.prototype=Object.create(Error.prototype);const Da=Ra,Aa={};class Na{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new La(t,this.resultSelector))}}class La extends H{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Aa),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(j(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,i,r){const s=this.values,o=this.toRespond?s[n]===Aa?--this.toRespond:this.toRespond:0;s[n]=e,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function Fa(t){return new w(e=>{let n;try{n=t()}catch(i){return void e.error(i)}return(n?$(n):ka()).subscribe(e)})}function Ma(){return Y(1)}function Va(t,e){return function(n){return n.lift(new za(t,e))}}class za{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new ja(t,this.predicate,this.thisArg))}}class ja extends g{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function Ha(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}Ha.prototype=Object.create(Error.prototype);const Ua=Ha;function Ba(t){return function(e){return 0===t?ka():e.lift(new Wa(t))}}class Wa{constructor(t){if(this.total=t,this.total<0)throw new Ua}call(t,e){return e.subscribe(new qa(t,this.total))}}class qa extends g{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let r=0;r<n;r++){const r=e++%n;t.next(i[r])}}t.complete()}}function $a(t,e,n){return function(i){return i.lift(new Qa(t,e,n))}}class Qa{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new Ga(t,this.nextOrObserver,this.error,this.complete))}}class Ga extends g{constructor(t,e,n,r){super(t),this._tapNext=_,this._tapError=_,this._tapComplete=_,this._tapError=n||_,this._tapComplete=r||_,i(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||_,this._tapError=e.error||_,this._tapComplete=e.complete||_)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}const Ka=(t=Za)=>$a({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw t()}});function Za(){return new Da}function Ya(t=null){return e=>e.lift(new Xa(t))}class Xa{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Ja(t,this.defaultValue))}}class Ja extends g{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function tu(t,e){const n=arguments.length>=2;return i=>i.pipe(t?Va((e,n)=>t(e,n,i)):Z,Ba(1),n?Ya(e):Ka(()=>new Da))}function eu(t){return function(e){const n=new nu(t),i=e.lift(n);return n.caught=i}}class nu{constructor(t){this.selector=t}call(t,e){return e.subscribe(new iu(t,this.selector,this.caught))}}class iu extends H{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const i=new P(this,void 0,void 0);this.add(i),j(this,n,void 0,void 0,i)}}}function ru(t){return e=>0===t?ka():e.lift(new su(t))}class su{constructor(t){if(this.total=t,this.total<0)throw new Ua}call(t,e){return e.subscribe(new ou(t,this.total))}}class ou extends g{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function lu(t,e){const n=arguments.length>=2;return i=>i.pipe(t?Va((e,n)=>t(e,n,i)):Z,ru(1),n?Ya(e):Ka(()=>new Da))}class au{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new uu(t,this.predicate,this.thisArg,this.source))}}class uu extends g{constructor(t,e,n,i){super(t),this.predicate=e,this.thisArg=n,this.source=i,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function cu(t,e){return"function"==typeof e?n=>n.pipe(cu((n,i)=>$(t(n,i)).pipe(U((t,r)=>e(n,t,i,r))))):e=>e.lift(new hu(t))}class hu{constructor(t){this.project=t}call(t,e){return e.subscribe(new du(t,this.project))}}class du extends H{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e,t,n)}_innerSub(t,e,n){const i=this.innerSubscription;i&&i.unsubscribe();const r=new P(this,void 0,void 0);this.destination.add(r),this.innerSubscription=j(this,t,e,n,r)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,i,r){this.destination.next(e)}}function pu(...t){return e=>{let n=t[t.length-1];O(n)?t.pop():n=null;const i=t.length;return function(...t){return Ma()(Oa(...t))}(1!==i||n?i>0?q(t,n):ka(n):Ia(t[0]),e)}}function fu(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new gu(t,e,n))}}class gu{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new mu(t,this.accumulator,this.seed,this.hasSeed))}}class mu extends g{constructor(t,e,n,i){super(t),this.accumulator=e,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}function yu(t,e){return Q(t,e,1)}class _u{constructor(t){this.callback=t}call(t,e){return e.subscribe(new vu(t,this.callback))}}class vu extends g{constructor(t,e){super(t),this.add(new d(e))}}let bu=null;function wu(){return bu}const Cu={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Su={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Eu={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},xu=(()=>{if(xt.Node)return xt.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))}})();class Tu extends class extends class{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(t){this._attrToPropMap=t}}{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const t=this.createElement("div",document);if(null!=this.getStyle(t,"animationName"))this._animationPrefix="";else{const e=["Webkit","Moz","O","ms"];for(let n=0;n<e.length;n++)if(null!=this.getStyle(t,e[n]+"AnimationName")){this._animationPrefix="-"+e[n].toLowerCase()+"-";break}}const e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(e).forEach(n=>{null!=this.getStyle(t,n)&&(this._transitionEnd=e[n])})}catch(t){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(t){return t.getDistributedNodes()}resolveAndSetHref(t,e,n){t.href=null==n?e:e+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}{parse(t){throw new Error("parse not implemented")}static makeCurrent(){var t;t=new Tu,bu||(bu=t)}hasProperty(t,e){return e in t}setProperty(t,e,n){t[e]=n}getProperty(t,e){return t[e]}invoke(t,e,n){t[e](...n)}logError(t){window.console&&(console.error?console.error(t):console.log(t))}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return Cu}contains(t,e){return xu.call(t,e)}querySelector(t,e){return t.querySelector(e)}querySelectorAll(t,e){return t.querySelectorAll(e)}on(t,e,n){t.addEventListener(e,n,!1)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}createMouseEvent(t){const e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e}createEvent(t){const e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e}preventDefault(t){t.preventDefault(),t.returnValue=!1}isPrevented(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue}getInnerHTML(t){return t.innerHTML}getTemplateContent(t){return"content"in t&&this.isTemplateElement(t)?t.content:null}getOuterHTML(t){return t.outerHTML}nodeName(t){return t.nodeName}nodeValue(t){return t.nodeValue}type(t){return t.type}content(t){return this.hasProperty(t,"content")?t.content:t}firstChild(t){return t.firstChild}nextSibling(t){return t.nextSibling}parentElement(t){return t.parentNode}childNodes(t){return t.childNodes}childNodesAsList(t){const e=t.childNodes,n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=e[i];return n}clearNodes(t){for(;t.firstChild;)t.removeChild(t.firstChild)}appendChild(t,e){t.appendChild(e)}removeChild(t,e){t.removeChild(e)}replaceChild(t,e,n){t.replaceChild(e,n)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}insertBefore(t,e,n){t.insertBefore(n,e)}insertAllBefore(t,e,n){n.forEach(n=>t.insertBefore(n,e))}insertAfter(t,e,n){t.insertBefore(n,e.nextSibling)}setInnerHTML(t,e){t.innerHTML=e}getText(t){return t.textContent}setText(t,e){t.textContent=e}getValue(t){return t.value}setValue(t,e){t.value=e}getChecked(t){return t.checked}setChecked(t,e){t.checked=e}createComment(t){return this.getDefaultDocument().createComment(t)}createTemplate(t){const e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createElementNS(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)}createTextNode(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)}createScriptTag(t,e,n){const i=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return i.setAttribute(t,e),i}createStyleElement(t,e){const n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n}createShadowRoot(t){return t.createShadowRoot()}getShadowRoot(t){return t.shadowRoot}getHost(t){return t.host}clone(t){return t.cloneNode(!0)}getElementsByClassName(t,e){return t.getElementsByClassName(e)}getElementsByTagName(t,e){return t.getElementsByTagName(e)}classList(t){return Array.prototype.slice.call(t.classList,0)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}hasClass(t,e){return t.classList.contains(e)}setStyle(t,e,n){t.style[e]=n}removeStyle(t,e){t.style[e]=""}getStyle(t,e){return t.style[e]}hasStyle(t,e,n){const i=this.getStyle(t,e)||"";return n?i==n:i.length>0}tagName(t){return t.tagName}attributeMap(t){const e=new Map,n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i);e.set(t.name,t.value)}return e}hasAttribute(t,e){return t.hasAttribute(e)}hasAttributeNS(t,e,n){return t.hasAttributeNS(e,n)}getAttribute(t,e){return t.getAttribute(e)}getAttributeNS(t,e,n){return t.getAttributeNS(e,n)}setAttribute(t,e,n){t.setAttribute(e,n)}setAttributeNS(t,e,n,i){t.setAttributeNS(e,n,i)}removeAttribute(t,e){t.removeAttribute(e)}removeAttributeNS(t,e,n){t.removeAttributeNS(e,n)}templateAwareRoot(t){return this.isTemplateElement(t)?this.content(t):t}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(t){return t.title}setTitle(t,e){t.title=e||""}elementMatches(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))}isTemplateElement(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName}isTextNode(t){return t.nodeType===Node.TEXT_NODE}isCommentNode(t){return t.nodeType===Node.COMMENT_NODE}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}hasShadowRoot(t){return null!=t.shadowRoot&&t instanceof HTMLElement}isShadowRoot(t){return t instanceof DocumentFragment}importIntoDoc(t){return document.importNode(this.templateAwareRoot(t),!0)}adoptNode(t){return document.adoptNode(t)}getHref(t){return t.getAttribute("href")}getEventKey(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Eu.hasOwnProperty(e)&&(e=Eu[e]))}return Su[e]||e}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Iu||(Iu=document.querySelector("base"),Iu)?Iu.getAttribute("href"):null;return null==e?null:(n=e,ku||(ku=document.createElement("a")),ku.setAttribute("href",n),"/"===ku.pathname.charAt(0)?ku.pathname:"/"+ku.pathname);var n}resetBaseElement(){Iu=null}getUserAgent(){return window.navigator.userAgent}setData(t,e,n){this.setAttribute(t,"data-"+e,n)}getData(t,e){return this.getAttribute(t,"data-"+e)}getComputedStyle(t){return getComputedStyle(t)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Kl(document.cookie,t)}setCookie(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)}}let ku,Iu=null;function Ou(){return!!window.history.pushState}const Pu=new Tt("TRANSITION_ID"),Ru=[{provide:Ir,useFactory:function(t,e,n){return()=>{n.get(Or).donePromise.then(()=>{const n=wu();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(e=>n.getAttribute(e,"ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Pu,ya,Ie],multi:!0}];class Du{static init(){var t;t=new Du,hs=t}addToWindow(t){xt.getAngularTestability=(e,n=!0)=>{const i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},xt.getAllAngularTestabilities=()=>t.getAllTestabilities(),xt.getAllAngularRootElements=()=>t.getAllRootElements(),xt.frameworkStabilizers||(xt.frameworkStabilizers=[]),xt.frameworkStabilizers.push(t=>{const e=xt.getAllAngularTestabilities();let n=e.length,i=!1;const r=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(r)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?wu().isShadowRoot(e)?this.findTestabilityInTree(t,wu().getHost(e),!0):this.findTestabilityInTree(t,wu().parentElement(e),!0):null}}function Au(t,e){"undefined"!=typeof COMPILED&&COMPILED||((xt.ng=xt.ng||{})[t]=e)}const Nu=(()=>({ApplicationRef:_s,NgZone:ts}))();function Lu(t){return Os(t)}const Fu=new Tt("EventManagerPlugins");class Mu{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let i=0;i<n.length;i++){const e=n[i];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}class Vu{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=wu().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}class zu{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}class ju extends zu{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>wu().remove(t))}}const Hu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Uu=/%COMP%/g;function Bu(t,e,n){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Bu(t,r,n):(r=r.replace(Uu,t),n.push(r))}return n}function Wu(t){return e=>{!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}class qu{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new $u(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Ht.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Ku(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case Ht.Native:case Ht.ShadowDom:return new Zu(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Bu(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class $u{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Hu[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;const r=Hu[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const i=Hu[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&on.DashCase?t.style.setProperty(e,n,i&on.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&on.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){Gu(e,"property"),t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return Gu(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Wu(n)):this.eventManager.addEventListener(t,e,Wu(n))}}const Qu=(()=>"@".charCodeAt(0))();function Gu(t,e){if(t.charCodeAt(0)===Qu)throw new Error(`Found the synthetic ${e} ${t}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class Ku extends $u{constructor(t,e,n,i){super(t),this.component=n;const r=Bu(i+"-"+n.id,n.styles,[]);e.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(Uu,i+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(Uu,t)}(i+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Zu extends $u{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===Ht.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const r=Bu(i.id,i.styles,[]);for(let s=0;s<r.length;s++){const t=document.createElement("style");t.textContent=r[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}const Yu=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t})(),Xu=Yu("addEventListener"),Ju=Yu("removeEventListener"),tc={},ec="__zone_symbol__propagationStopped",nc=(()=>{const t="undefined"!=typeof Zone&&Zone[Yu("BLACK_LISTED_EVENTS")];if(t){const e={};return t.forEach(t=>{e[t]=t}),e}})(),ic=function(t){return!!nc&&nc.hasOwnProperty(t)},rc=function(t){const e=tc[t.type];if(!e)return;const n=this[e];if(!n)return;const i=[t];if(1===n.length){const t=n[0];return t.zone!==Zone.current?t.zone.run(t.handler,this,i):t.handler.apply(this,i)}{const e=n.slice();for(let n=0;n<e.length&&!0!==t[ec];n++){const t=e[n];t.zone!==Zone.current?t.zone.run(t.handler,this,i):t.handler.apply(this,i)}}};class sc extends Vu{constructor(t,e,n){super(t),this.ngZone=e,n&&_a(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype.__zone_symbol__stopImmediatePropagation)return;const t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[ec]=!0),t&&t.apply(this,arguments)}}supports(t){return!0}addEventListener(t,e,n){let i=n;if(!t[Xu]||ts.isInAngularZone()&&!ic(e))t.addEventListener(e,i,!1);else{let n=tc[e];n||(n=tc[e]=Yu("ANGULAR"+e+"FALSE"));let r=t[n];const s=r&&r.length>0;r||(r=t[n]=[]);const o=ic(e)?Zone.root:Zone.current;if(0===r.length)r.push({zone:o,handler:i});else{let t=!1;for(let e=0;e<r.length;e++)if(r[e].handler===i){t=!0;break}t||r.push({zone:o,handler:i})}s||t[Xu](e,rc,!1)}return()=>this.removeEventListener(t,e,i)}removeEventListener(t,e,n){let i=t[Ju];if(!i)return t.removeEventListener.apply(t,[e,n,!1]);let r=tc[e],s=r&&t[r];if(!s)return t.removeEventListener.apply(t,[e,n,!1]);let o=!1;for(let l=0;l<s.length;l++)if(s[l].handler===n){o=!0,s.splice(l,1);break}o?0===s.length&&i.apply(t,[e,rc,!1]):t.removeEventListener.apply(t,[e,n,!1])}}const oc={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},lc=new Tt("HammerGestureConfig"),ac=new Tt("HammerLoader");class uc{constructor(){this.events=[],this.overrides={}}buildHammer(t){const e=new Hammer(t,this.options);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(const n in this.overrides)e.get(n).set(this.overrides[n]);return e}}class cc extends Vu{constructor(t,e,n,i){super(t),this._config=e,this.console=n,this.loader=i}supports(t){return!(!oc.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${t}" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.`),1))}addEventListener(t,e,n){const i=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){let i=!1,r=()=>{i=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(r=()=>{});i||(r=this.addEventListener(t,e,n))}).catch(()=>{this.console.warn(`The "${e}" event cannot be bound because the custom Hammer.JS loader failed.`),r=()=>{}}),()=>{r()}}return i.runOutsideAngular(()=>{const r=this._config.buildHammer(t),s=function(t){i.runGuarded((function(){n(t)}))};return r.on(e,s),()=>{r.off(e,s),"function"==typeof r.destroy&&r.destroy()}})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}const hc=["alt","control","meta","shift"],dc={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};class pc extends Vu{constructor(t){super(t)}supports(t){return null!=pc.parseEventName(t)}addEventListener(t,e,n){const i=pc.parseEventName(e),r=pc.eventCallback(i.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>wu().onAndCancel(t,i.domEventName,r))}static parseEventName(t){const e=t.toLowerCase().split("."),n=e.shift();if(0===e.length||"keydown"!==n&&"keyup"!==n)return null;const i=pc._normalizeKey(e.pop());let r="";if(hc.forEach(t=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),r+=t+".")}),r+=i,0!=e.length||0===i.length)return null;const s={};return s.domEventName=n,s.fullKey=r,s}static getEventFullKey(t){let e="",n=wu().getEventKey(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),hc.forEach(i=>{i!=n&&(0,dc[i])(t)&&(e+=i+".")}),e+=n,e}static eventCallback(t,e,n){return i=>{pc.getEventFullKey(i)===t&&n.runGuarded(()=>e(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}class fc{}class gc extends fc{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case ye.NONE:return e;case ye.HTML:return e instanceof yc?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){let n=null;try{ge=ge||new Zt(t);let i=e?String(e):"";n=ge.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=ge.getInertBodyElement(i)}while(i!==s);const o=new he,l=o.sanitizeChildren(me(n)||n);return Kt()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),l}finally{if(n){const t=me(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(this._doc,String(e)));case ye.STYLE:return e instanceof _c?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";const e=t.match(be);return e&&Jt(e[1])===e[1]||t.match(ve)&&function(t){let e=!0,n=!0;for(let i=0;i<t.length;i++){const r=t.charAt(i);"'"===r&&n?e=!e:'"'===r&&e&&(n=!n)}return e&&n}(t)?t:(Kt()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}(e));case ye.SCRIPT:if(e instanceof vc)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case ye.URL:return e instanceof wc||e instanceof bc?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Jt(String(e)));case ye.RESOURCE_URL:if(e instanceof wc)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(t,e){if(t instanceof mc)throw new Error(`Required a safe ${e}, got a ${t.getTypeName()} (see http://g.co/ng/security#xss)`)}bypassSecurityTrustHtml(t){return new yc(t)}bypassSecurityTrustStyle(t){return new _c(t)}bypassSecurityTrustScript(t){return new vc(t)}bypassSecurityTrustUrl(t){return new bc(t)}bypassSecurityTrustResourceUrl(t){return new wc(t)}}class mc{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class yc extends mc{getTypeName(){return"HTML"}}class _c extends mc{getTypeName(){return"Style"}}class vc extends mc{getTypeName(){return"Script"}}class bc extends mc{getTypeName(){return"URL"}}class wc extends mc{getTypeName(){return"ResourceURL"}}const Cc=fs(Rs,"browser",[{provide:Nr,useValue:"browser"},{provide:Ar,useValue:function(){Tu.makeCurrent(),Du.init()},multi:!0},{provide:hl,useClass:class extends hl{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=wu().getLocation(),this._history=wu().getHistory()}getBaseHrefFromDOM(){return wu().getBaseHref(this._doc)}onPopState(t){wu().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){wu().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){Ou()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){Ou()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}},deps:[ya]},{provide:ya,useFactory:function(){return document},deps:[]}]);function Sc(){return new $t}class Ec{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:Ec,providers:[{provide:Pr,useValue:t.appId},{provide:Pu,useExisting:Pr},Ru]}}}"undefined"!=typeof window&&window;class xc{constructor(t,e){this.id=t,this.url=e}}class Tc extends xc{constructor(t,e,n="imperative",i=null){super(t,e),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class kc extends xc{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ic extends xc{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Oc extends xc{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Pc extends xc{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rc extends xc{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dc extends xc{constructor(t,e,n,i,r){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ac extends xc{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nc extends xc{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lc{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Fc{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Mc{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vc{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zc{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jc{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hc{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Uc{}class Bc{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Wc(t){return new Bc(t)}function qc(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function $c(t,e,n){const i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const r={};for(let s=0;s<i.length;s++){const e=i[s],n=t[s];if(e.startsWith(":"))r[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}class Qc{constructor(t,e){this.routes=t,this.module=e}}function Gc(t,e=""){for(let n=0;n<t.length;n++){const i=t[n];Kc(i,Zc(e,i))}}function Kc(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Gc(t.children,e)}function Zc(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Yc(t){const e=t.children&&t.children.map(Yc),n=e?Object.assign({},t,{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Uc),n}function Xc(t,e){const n=Object.keys(t),i=Object.keys(e);if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],t[r]!==e[r])return!1;return!0}function Jc(t){return Array.prototype.concat.apply([],t)}function th(t){return t.length>0?t[t.length-1]:null}function eh(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function nh(t){return qe(t)?t:We(t)?$(Promise.resolve(t)):Oa(t)}function ih(t,e,n){return n?function(t,e){return Xc(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!lh(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>e[n]===t[n])}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,i,r){if(n.segments.length>r.length)return!!lh(n.segments.slice(0,r.length),r)&&!i.hasChildren();if(n.segments.length===r.length){if(!lh(n.segments,r))return!1;for(const e in i.children){if(!n.children[e])return!1;if(!t(n.children[e],i.children[e]))return!1}return!0}{const t=r.slice(0,n.segments.length),s=r.slice(n.segments.length);return!!lh(n.segments,t)&&!!n.children.primary&&e(n.children.primary,i,s)}}(e,n,n.segments)}(t.root,e.root)}class rh{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wc(this.queryParams)),this._queryParamMap}toString(){return hh.serialize(this)}}class sh{constructor(t,e){this.segments=t,this.children=e,this.parent=null,eh(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dh(this)}}class oh{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Wc(this.parameters)),this._parameterMap}toString(){return _h(this)}}function lh(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function ah(t,e){let n=[];return eh(t.children,(t,i)=>{"primary"===i&&(n=n.concat(e(t,i)))}),eh(t.children,(t,i)=>{"primary"!==i&&(n=n.concat(e(t,i)))}),n}class uh{}class ch{parse(t){const e=new Sh(t);return new rh(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return dh(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",i=[];return eh(e.children,(e,n)=>{"primary"!==n&&i.push(`${n}:${t(e,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=ah(e,(n,i)=>"primary"===i?[t(e.children.primary,!1)]:[`${i}:${t(n,!1)}`]);return`${dh(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${fh(e)}=${fh(t)}`).join("&"):`${fh(e)}=${fh(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const hh=new ch;function dh(t){return t.segments.map(t=>_h(t)).join("/")}function ph(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fh(t){return ph(t).replace(/%3B/gi,";")}function gh(t){return ph(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mh(t){return decodeURIComponent(t)}function yh(t){return mh(t.replace(/\+/g,"%20"))}function _h(t){return`${gh(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${gh(t)}=${gh(e[t])}`).join("")}`;var e}const vh=/^[^\/()?;=#]+/;function bh(t){const e=t.match(vh);return e?e[0]:""}const wh=/^[^=?&#]+/,Ch=/^[^?&#]+/;class Sh{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new sh([],{}):new sh([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new sh(t,e)),n}parseSegment(){const t=bh(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new oh(mh(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=bh(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=bh(this.remaining);t&&(n=t,this.capture(n))}t[mh(e)]=mh(n)}parseQueryParam(t){const e=function(t){const e=t.match(wh);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Ch);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const i=yh(e),r=yh(n);if(t.hasOwnProperty(i)){let e=t[i];Array.isArray(e)||(e=[e],t[i]=e),e.push(r)}else t[i]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=bh(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r="primary");const s=this.parseChildren();e[r]=1===Object.keys(s).length?s.primary:new sh([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Eh{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=xh(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=xh(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Th(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Th(t,this._root).map(t=>t.value)}}function xh(t,e){if(t===e.value)return e;for(const n of e.children){const e=xh(t,n);if(e)return e}return null}function Th(t,e){if(t===e.value)return[e];for(const n of e.children){const i=Th(t,n);if(i.length)return i.unshift(e),i}return[]}class kh{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ih(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Oh extends Eh{constructor(t,e){super(t),this.snapshot=e,Lh(this,t)}toString(){return this.snapshot.toString()}}function Ph(t,e){const n=function(t,e){const n=new Ah([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Nh("",new kh(n,[]))}(t,e),i=new Pa([new oh("",{})]),r=new Pa({}),s=new Pa({}),o=new Pa({}),l=new Pa(""),a=new Rh(i,r,o,l,s,"primary",e,n.root);return a.snapshot=n.root,new Oh(new kh(a,[]),n)}class Rh{constructor(t,e,n,i,r,s,o,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(U(t=>Wc(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(U(t=>Wc(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Dh(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const t=n[i],e=n[i-1];if(t.routeConfig&&""===t.routeConfig.path)i--;else{if(e.component)break;i--}}return function(t){return t.reduce((t,e)=>({params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class Ah{constructor(t,e,n,i,r,s,o,l,a,u,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this.routeConfig=l,this._urlSegment=a,this._lastPathIndex=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Wc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Nh extends Eh{constructor(t,e){super(e),this.url=t,Lh(this,e)}toString(){return Fh(this._root)}}function Lh(t,e){e.value._routerState=t,e.children.forEach(e=>Lh(t,e))}function Fh(t){const e=t.children.length>0?` { ${t.children.map(Fh).join(", ")} } `:"";return`${t.value}${e}`}function Mh(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Xc(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Xc(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Xc(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Xc(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Vh(t,e){var n,i;return Xc(t.params,e.params)&&lh(n=t.url,i=e.url)&&n.every((t,e)=>Xc(t.parameters,i[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||Vh(t.parent,e.parent))}function zh(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function jh(t,e,n,i,r){let s={};return i&&eh(i,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new rh(n.root===t?e:function t(e,n,i){const r={};return eh(e.children,(e,s)=>{r[s]=e===n?i:t(e,n,i)}),new sh(e.segments,r)}(n.root,t,e),s,r)}class Hh{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&zh(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(i&&i!==th(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Uh{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Bh(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function Wh(t,e,n){if(t||(t=new sh([],{})),0===t.segments.length&&t.hasChildren())return qh(t,e,n);const i=function(t,e,n){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;const e=t.segments[r],o=Bh(n[i]),l=i<n.length-1?n[i+1]:null;if(r>0&&void 0===o)break;if(o&&l&&"object"==typeof l&&void 0===l.outlets){if(!Kh(o,l,e))return s;i+=2}else{if(!Kh(o,{},e))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const e=new sh(t.segments.slice(0,i.pathIndex),{});return e.children.primary=new sh(t.segments.slice(i.pathIndex),t.children),qh(e,0,r)}return i.match&&0===r.length?new sh(t.segments,{}):i.match&&!t.hasChildren()?$h(t,e,n):i.match?qh(t,0,r):$h(t,e,n)}function qh(t,e,n){if(0===n.length)return new sh(t.segments,{});{const i=function(t){return"object"!=typeof t[0]||void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),r={};return eh(i,(n,i)=>{null!==n&&(r[i]=Wh(t.children[i],e,n))}),eh(t.children,(t,e)=>{void 0===i[e]&&(r[e]=t)}),new sh(t.segments,r)}}function $h(t,e,n){const i=t.segments.slice(0,e);let r=0;for(;r<n.length;){if("object"==typeof n[r]&&void 0!==n[r].outlets){const t=Qh(n[r].outlets);return new sh(i,t)}if(0===r&&zh(n[0])){i.push(new oh(t.segments[e].path,n[0])),r++;continue}const s=Bh(n[r]),o=r<n.length-1?n[r+1]:null;s&&o&&zh(o)?(i.push(new oh(s,Gh(o))),r+=2):(i.push(new oh(s,{})),r++)}return new sh(i,{})}function Qh(t){const e={};return eh(t,(t,n)=>{null!==t&&(e[n]=$h(new sh([],{}),0,t))}),e}function Gh(t){const e={};return eh(t,(t,n)=>e[n]=""+t),e}function Kh(t,e,n){return t==n.path&&Xc(e,n.parameters)}class Zh{constructor(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Mh(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const i=Ih(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,i[e],n),delete i[e]}),eh(i,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(i===r)if(i.component){const r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(t,e,r.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:i})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const i=Ih(t),r=t.value.component?n.children:e;eh(i,(t,e)=>this.deactivateRouteAndItsChildren(t,r)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const i=Ih(e);t.children.forEach(t=>{this.activateRoutes(t,i[t.value.outlet],n),this.forwardEvent(new jc(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Vc(t.value.snapshot))}activateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(Mh(i),i===r)if(i.component){const r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,r.children)}else this.activateChildRoutes(t,e,n);else if(i.component){const e=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const t=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Yh(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),r=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=i,e.resolver=r,e.outlet&&e.outlet.activateWith(i,r),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Yh(t){Mh(t.value),t.children.forEach(Yh)}function Xh(t){return"function"==typeof t}function Jh(t){return t instanceof rh}class td{constructor(t){this.segmentGroup=t||null}}class ed{constructor(t){this.urlTree=t}}function nd(t){return new w(e=>e.error(new td(t)))}function id(t){return new w(e=>e.error(new ed(t)))}function rd(t){return new w(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class sd{constructor(t,e,n,i,r){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=r,this.allowRedirects=!0,this.ngModule=t.get(Mt)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(U(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(eu(t=>{if(t instanceof ed)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof td)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(U(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(eu(t=>{if(t instanceof td)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const i=t.segments.length>0?new sh([],{primary:t}):t;return new rh(i,e,n)}expandSegmentGroup(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(U(t=>new sh([],t))):this.expandSegment(t,n,e,n.segments,i,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Oa({});const n=[],i=[],r={};return eh(t,(t,s)=>{const o=e(s,t).pipe(U(t=>r[s]=t));"primary"===s?n.push(o):i.push(o)}),Oa.apply(null,n.concat(i)).pipe(Ma(),tu(),U(()=>r))}(n.children,(n,i)=>this.expandSegmentGroup(t,e,i,n))}expandSegment(t,e,n,i,r,s){return Oa(...n).pipe(U(o=>this.expandSegmentAgainstRoute(t,e,n,o,i,r,s).pipe(eu(t=>{if(t instanceof td)return Oa(null);throw t}))),Ma(),lu(t=>!!t),eu((t,n)=>{if(t instanceof Da||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,i,r))return Oa(new sh([],{}));throw new td(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,i,r,s,o){return ud(i)!==s?nd(e):void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s):nd(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,i){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?id(r):this.lineralizeSegments(n,r).pipe(Q(n=>{const r=new sh(n,{});return this.expandSegment(t,r,e,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s){const{matched:o,consumedSegments:l,lastChild:a,positionalParamSegments:u}=od(e,i,r);if(!o)return nd(e);const c=this.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?id(c):this.lineralizeSegments(i,c).pipe(Q(i=>this.expandSegment(t,e,n,i.concat(r.slice(a)),s,!1)))}matchSegmentAgainstRoute(t,e,n,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(U(t=>(n._loadedConfig=t,new sh(i,{})))):Oa(new sh(i,{}));const{matched:r,consumedSegments:s,lastChild:o}=od(e,n,i);if(!r)return nd(e);const l=i.slice(o);return this.getChildConfig(t,n,i).pipe(Q(t=>{const n=t.module,i=t.routes,{segmentGroup:r,slicedSegments:o}=function(t,e,n,i){return n.length>0&&function(t,e,n){return n.some(n=>ad(t,e,n)&&"primary"!==ud(n))}(t,n,i)?{segmentGroup:ld(new sh(e,function(t,e){const n={};n.primary=e;for(const i of t)""===i.path&&"primary"!==ud(i)&&(n[ud(i)]=new sh([],{}));return n}(i,new sh(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>ad(t,e,n))}(t,n,i)?{segmentGroup:ld(new sh(t.segments,function(t,e,n,i){const r={};for(const s of n)ad(t,e,s)&&!i[ud(s)]&&(r[ud(s)]=new sh([],{}));return Object.assign({},i,r)}(t,n,i,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,l,i);return 0===o.length&&r.hasChildren()?this.expandChildren(n,i,r).pipe(U(t=>new sh(s,t))):0===i.length&&0===o.length?Oa(new sh(s,{})):this.expandSegment(n,r,i,o,"primary",!0).pipe(U(t=>new sh(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Oa(new Qc(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Oa(e._loadedConfig):function(t,e,n){const i=e.canLoad;return i&&0!==i.length?$(i).pipe(U(i=>{const r=t.get(i);let s;if(function(t){return t&&Xh(t.canLoad)}(r))s=r.canLoad(e,n);else{if(!Xh(r))throw new Error("Invalid CanLoad guard");s=r(e,n)}return nh(s)})).pipe(Ma(),(r=t=>!0===t,t=>t.lift(new au(r,void 0,t)))):Oa(!0);var r}(t.injector,e,n).pipe(Q(n=>n?this.configLoader.load(t.injector,e).pipe(U(t=>(e._loadedConfig=t,t))):function(t){return new w(e=>e.error(qc(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Oa(new Qc([],t))}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Oa(n);if(i.numberOfChildren>1||!i.children.primary)return rd(t.redirectTo);i=i.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,i){const r=this.createSegmentGroup(t,e.root,n,i);return new rh(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return eh(t,(t,i)=>{if("string"==typeof t&&t.startsWith(":")){const r=t.substring(1);n[i]=e[r]}else n[i]=t}),n}createSegmentGroup(t,e,n,i){const r=this.createSegments(t,e.segments,n,i);let s={};return eh(e.children,(e,r)=>{s[r]=this.createSegmentGroup(t,e,n,i)}),new sh(r,s)}createSegments(t,e,n,i){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,i):this.findOrReturn(e,n))}findPosParam(t,e,n){const i=n[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let n=0;for(const i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}}function od(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const i=(e.matcher||$c)(n,t,e);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function ld(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new sh(t.segments.concat(e.segments),e.children)}return t}function ad(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function ud(t){return t.outlet||"primary"}class cd{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class hd{constructor(t,e){this.component=t,this.route=e}}function dd(t,e,n){const i=t._root;return function t(e,n,i,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ih(n);return e.children.forEach(e=>{!function(e,n,i,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,l=n?n.value:null,a=i?i.getContext(e.value.outlet):null;if(l&&o.routeConfig===l.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!lh(t.url,e.url);case"pathParamsOrQueryParamsChange":return!lh(t.url,e.url)||!Xc(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vh(t,e)||!Xc(t.queryParams,e.queryParams);case"paramsChange":default:return!Vh(t,e)}}(l,o,o.routeConfig.runGuardsAndResolvers);u?s.canActivateChecks.push(new cd(r)):(o.data=l.data,o._resolvedData=l._resolvedData),t(e,n,o.component?a?a.children:null:i,r,s),u&&s.canDeactivateChecks.push(new hd(a&&a.outlet&&a.outlet.component||null,l))}else l&&fd(n,a,s),s.canActivateChecks.push(new cd(r)),t(e,null,o.component?a?a.children:null:i,r,s)}(e,o[e.value.outlet],i,r.concat([e.value]),s),delete o[e.value.outlet]}),eh(o,(t,e)=>fd(t,i.getContext(e),s)),s}(i,e?e._root:null,n,[i.value])}function pd(t,e,n){const i=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function fd(t,e,n){const i=Ih(t),r=t.value;eh(i,(t,i)=>{fd(t,r.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new hd(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}const gd=Symbol("INITIAL_VALUE");function md(){return cu(t=>function(...t){let e=null,n=null;return O(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&a(t[0])&&(t=t[0]),q(t,n).lift(new Na(e))}(...t.map(t=>t.pipe(ru(1),pu(gd)))).pipe(fu((t,e)=>{let n=!1;return e.reduce((t,i,r)=>{if(t!==gd)return t;if(i===gd&&(n=!0),!n){if(!1===i)return i;if(r===e.length-1||Jh(i))return i}return t},t)},gd),Va(t=>t!==gd),U(t=>Jh(t)?t:!0===t),ru(1)))}function yd(t,e){return null!==t&&e&&e(new zc(t)),Oa(!0)}function _d(t,e){return null!==t&&e&&e(new Mc(t)),Oa(!0)}function vd(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;return i&&0!==i.length?Oa(i.map(i=>Fa(()=>{const r=pd(i,e,n);let s;if(function(t){return t&&Xh(t.canActivate)}(r))s=nh(r.canActivate(e,t));else{if(!Xh(r))throw new Error("Invalid CanActivate guard");s=nh(r(e,t))}return s.pipe(lu())}))).pipe(md()):Oa(!0)}function bd(t,e,n){const i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Fa(()=>Oa(e.guards.map(r=>{const s=pd(r,e.node,n);let o;if(function(t){return t&&Xh(t.canActivateChild)}(s))o=nh(s.canActivateChild(i,t));else{if(!Xh(s))throw new Error("Invalid CanActivateChild guard");o=nh(s(i,t))}return o.pipe(lu())})).pipe(md())));return Oa(r).pipe(md())}class wd{}class Cd{constructor(t,e,n,i,r,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=s}recognize(){try{const t=xd(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Ah([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),i=new kh(n,e),r=new Nh(this.url,i);return this.inheritParamsAndData(r._root),Oa(r)}catch(t){return new w(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Dh(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=ah(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),i=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${i}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,i){for(const s of t)try{return this.processSegmentAgainstRoute(s,e,n,i)}catch(r){if(!(r instanceof wd))throw r}if(this.noLeftoversInUrl(e,n,i))return[];throw new wd}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,i){if(t.redirectTo)throw new wd;if((t.outlet||"primary")!==i)throw new wd;let r,s=[],o=[];if("**"===t.path){const s=n.length>0?th(n).parameters:{};r=new Ah(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Id(t),i,t.component,t,Sd(e),Ed(e)+n.length,Od(t))}else{const l=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new wd;return{consumedSegments:[],lastChild:0,parameters:{}}}const i=(e.matcher||$c)(n,t,e);if(!i)throw new wd;const r={};eh(i.posParams,(t,e)=>{r[e]=t.path});const s=i.consumed.length>0?Object.assign({},r,i.consumed[i.consumed.length-1].parameters):r;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s}}(e,t,n);s=l.consumedSegments,o=n.slice(l.lastChild),r=new Ah(s,l.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Id(t),i,t.component,t,Sd(e),Ed(e)+s.length,Od(t))}const l=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:a,slicedSegments:u}=xd(e,s,o,l,this.relativeLinkResolution);if(0===u.length&&a.hasChildren()){const t=this.processChildren(l,a);return[new kh(r,t)]}if(0===l.length&&0===u.length)return[new kh(r,[])];const c=this.processSegment(l,a,u,"primary");return[new kh(r,c)]}}function Sd(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ed(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function xd(t,e,n,i,r){if(n.length>0&&function(t,e,n){return n.some(n=>Td(t,e,n)&&"primary"!==kd(n))}(t,n,i)){const r=new sh(e,function(t,e,n,i){const r={};r.primary=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&"primary"!==kd(s)){const n=new sh([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,r[kd(s)]=n}return r}(t,e,i,new sh(n,t.children)));return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Td(t,e,n))}(t,n,i)){const s=new sh(t.segments,function(t,e,n,i,r,s){const o={};for(const l of i)if(Td(t,n,l)&&!r[kd(l)]){const n=new sh([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[kd(l)]=n}return Object.assign({},r,o)}(t,e,n,i,t.children,r));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new sh(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Td(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function kd(t){return t.outlet||"primary"}function Id(t){return t.data||{}}function Od(t){return t.resolve||{}}function Pd(t,e,n,i){const r=pd(t,e,i);return nh(r.resolve?r.resolve(e,n):r(e,n))}function Rd(t){return function(e){return e.pipe(cu(e=>{const n=t(e);return n?$(n).pipe(U(()=>e)):$([e])}))}}class Dd{}class Ad{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const Nd=new Tt("ROUTES");class Ld{constructor(t,e,n,i){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(U(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new Qc(Jc(i.injector.get(Nd)).map(Yc),i)}))}loadModuleFactory(t){return"string"==typeof t?$(this.loader.load(t)):nh(t()).pipe(Q(t=>t instanceof Vt?Oa(t):$(this.compiler.compileModuleAsync(t))))}}class Fd{}class Md{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Vd(t){throw t}function zd(t,e,n){return e.parse("/")}function jd(t,e){return Oa(null)}class Hd{constructor(t,e,n,i,r,s,o,l){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new k,this.errorHandler=Vd,this.malformedUriErrorHandler=zd,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:jd,afterPreactivation:jd},this.urlHandlingStrategy=new Md,this.routeReuseStrategy=new Ad,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=r.get(Mt),this.console=r.get(Fr);const a=r.get(ts);this.isNgZoneEnabled=a instanceof ts,this.resetConfig(l),this.currentUrlTree=new rh(new sh([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ld(s,o,t=>this.triggerEvent(new Lc(t)),t=>this.triggerEvent(new Fc(t))),this.routerState=Ph(this.currentUrlTree,this.rootComponentType),this.transitions=new Pa({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Va(t=>0!==t.id),U(t=>Object.assign({},t,{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),cu(t=>{let n=!1,i=!1;return Oa(t).pipe($a(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),cu(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Oa(t).pipe(cu(t=>{const n=this.transitions.getValue();return e.next(new Tc(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Ta:[t]}),cu(t=>Promise.resolve(t)),(i=this.ngModule.injector,r=this.configLoader,s=this.urlSerializer,o=this.config,function(t){return t.pipe(cu(t=>function(t,e,n,i,r){return new sd(t,e,n,i,r).apply()}(i,r,s,t.extractedUrl,o).pipe(U(e=>Object.assign({},t,{urlAfterRedirects:e})))))}),$a(t=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:t.urlAfterRedirects})}),function(t,e,n,i,r){return function(s){return s.pipe(Q(s=>function(t,e,n,i,r="emptyOnly",s="legacy"){return new Cd(t,e,n,i,r,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),i,r).pipe(U(t=>Object.assign({},s,{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),$a(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),$a(t=>{const n=new Pc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var i,r,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:r,restoredState:s,extras:o}=t,l=new Tc(n,this.serializeUrl(i),r,s);e.next(l);const a=Ph(i,this.rootComponentType).snapshot;return Oa(Object.assign({},t,{targetSnapshot:a,urlAfterRedirects:i,extras:Object.assign({},o,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Ta}),Rd(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),$a(t=>{const e=new Rc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),U(t=>Object.assign({},t,{guards:dd(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Q(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Oa(Object.assign({},n,{guardsResult:!0})):function(t,e,n,i){return $(t).pipe(Q(t=>function(t,e,n,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Oa(s.map(s=>{const o=pd(s,e,r);let l;if(function(t){return t&&Xh(t.canDeactivate)}(o))l=nh(o.canDeactivate(t,e,n,i));else{if(!Xh(o))throw new Error("Invalid CanDeactivate guard");l=nh(o(t,e,n,i))}return l.pipe(lu())})).pipe(md()):Oa(!0)}(t.component,t.route,n,e,i)),lu(t=>!0!==t,!0))}(o,i,r,t).pipe(Q(n=>n&&"boolean"==typeof n?function(t,e,n,i){return $(e).pipe(yu(e=>$([_d(e.route.parent,i),yd(e.route,i),bd(t,e.path,n),vd(t,e.route,n)]).pipe(Ma(),lu(t=>!0!==t,!0))),lu(t=>!0!==t,!0))}(i,s,t,e):Oa(n)),U(t=>Object.assign({},n,{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),$a(t=>{if(Jh(t.guardsResult)){const e=qc(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),$a(t=>{const e=new Dc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Va(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Ic(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Rd(t=>{if(t.guards.canActivateChecks.length)return Oa(t).pipe($a(t=>{const e=new Ac(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(e=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(t){return t.pipe(Q(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;return r.length?$(r).pipe(yu(t=>function(t,e,n,i){return function(t,e,n,i){const r=Object.keys(t);if(0===r.length)return Oa({});if(1===r.length){const s=r[0];return Pd(t[s],e,n,i).pipe(U(t=>({[s]:t})))}const s={};return $(r).pipe(Q(r=>Pd(t[r],e,n,i).pipe(U(t=>(s[r]=t,t))))).pipe(tu(),U(()=>s))}(t._resolve,t,e,i).pipe(U(e=>(t._resolvedData=e,t.data=Object.assign({},t.data,Dh(t,n).resolve),null)))}(t.route,i,e,n)),function(t,e){return arguments.length>=2?function(n){return v(fu(t,e),Ba(1),Ya(e))(n)}:function(e){return v(fu((e,n,i)=>t(e,n,i+1)),Ba(1))(e)}}((t,e)=>t),U(e=>t)):Oa(t)}))}),$a(t=>{const e=new Nc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}));var e,n}),Rd(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),U(t=>{const e=function(t,e,n){const i=function t(e,n,i){if(i&&e.shouldReuseRoute(n.value,i.value.snapshot)){const r=i.value;r._futureSnapshot=n.value;const s=function(e,n,i){return n.children.map(n=>{for(const r of i.children)if(e.shouldReuseRoute(r.value.snapshot,n.value))return t(e,n,r);return t(e,n)})}(e,n,i);return new kh(r,s)}{const i=e.retrieve(n.value);if(i){const t=i.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let i=0;i<e.children.length;++i)t(e.children[i],n.children[i])}(n,t),t}{const i=new Rh(new Pa((r=n.value).url),new Pa(r.params),new Pa(r.queryParams),new Pa(r.fragment),new Pa(r.data),r.outlet,r.component,r),s=n.children.map(n=>t(e,n));return new kh(i,s)}}var r}(t,e._root,n?n._root:void 0);return new Oh(i,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign({},t,{targetRouterState:e})}),$a(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,l=t=>this.triggerEvent(t),U(t=>(new Zh(o,t.targetRouterState,t.currentRouterState,l).activate(s),t))),$a({next(){n=!0},complete(){n=!0}}),(r=()=>{if(!n&&!i){this.resetUrlToCurrentUrlTree();const n=new Ic(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new _u(r))),eu(n=>{if(i=!0,(r=n)&&r.ngNavigationCancelingError){const i=Jh(n.url);i||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const r=new Ic(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(r),t.resolve(!1),i&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const i=new Oc(t.id,this.serializeUrl(t.extractedUrl),n);e.next(i);try{t.resolve(this.errorHandler(n))}catch(s){t.reject(s)}}var r;return Ta}));var r,s,o,l}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign({},this.getTransition(),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",i=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,i,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Gc(t),this.config=t.map(Yc),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:r,preserveQueryParams:s,queryParamsHandling:o,preserveFragment:l}=e;Kt()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const a=n||this.routerState.root,u=l?this.currentUrlTree.fragment:r;let c=null;if(o)switch(o){case"merge":c=Object.assign({},this.currentUrlTree.queryParams,i);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=i||null}else c=s?this.currentUrlTree.queryParams:i||null;return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,i,r){if(0===n.length)return jh(e.root,e.root,e,i,r);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Hh(!0,0,t);let e=0,n=!1;const i=t.reduce((t,i,r)=>{if("object"==typeof i&&null!=i){if(i.outlets){const e={};return eh(i.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(i.segmentPath)return[...t,i.segmentPath]}return"string"!=typeof i?[...t,i]:0===r?(i.split("/").forEach((i,r)=>{0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):[...t,i]},[]);return new Hh(n,e,i)}(n);if(s.toRoot())return jh(e.root,new sh([],{}),e,i,r);const o=function(t,e,n){if(t.isAbsolute)return new Uh(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Uh(n.snapshot._urlSegment,!0,0);const i=zh(t.commands[0])?0:1;return function(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Uh(i,!1,r-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(s,e,t),l=o.processChildren?qh(o.segmentGroup,o.index,s.commands):Wh(o.segmentGroup,o.index,s.commands);return jh(o.segmentGroup,l,e,i,r)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){Kt()&&this.isNgZoneEnabled&&!ts.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Jh(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Jh(t))return ih(this.currentUrlTree,t,e);const n=this.parseUrl(t);return ih(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return null!=i&&(e[n]=i),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new kc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,i){const r=this.getTransition();if(r&&"imperative"!==e&&"imperative"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(r&&"hashchange"==e&&"popstate"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(r&&"popstate"==e&&"hashchange"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);let s=null,o=null;const l=new Promise((t,e)=>{s=t,o=e}),a=++this.navigationId;return this.setTransition({id:a,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:s,reject:o,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,i){const r=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",Object.assign({},i,{navigationId:n})):this.location.go(r,"",Object.assign({},i,{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class Ud{constructor(t,e,n,i,r){this.router=t,this.route=e,this.commands=[],null==n&&i.setAttribute(r.nativeElement,"tabindex","0")}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Kt()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:Wd(this.skipLocationChange),replaceUrl:Wd(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Wd(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Wd(this.preserveFragment)})}}class Bd{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof kc&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Kt()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,i){if(0!==t||e||n||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const r={skipLocationChange:Wd(this.skipLocationChange),replaceUrl:Wd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,r),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Wd(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Wd(this.preserveFragment)})}}function Wd(t){return""===t||!!t}class qd{constructor(t,e,n,i,r){this.router=t,this.element=e,this.renderer=n,this.link=i,this.linkWithHref=r,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(t=>{t instanceof kc&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(t=>this.update()),this.linksWithHrefs.changes.subscribe(t=>this.update()),this.update()}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}class $d{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Qd,this.attachRef=null}}class Qd{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new $d,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Gd{constructor(t,e,n,i,r){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new xr,this.deactivateEvents=new xr,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new Kd(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class Kd{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Rh?this.route:t===Qd?this.childContexts:this.parent.get(t,e)}}class Zd{}class Yd{preload(t,e){return e().pipe(eu(()=>Oa(null)))}}class Xd{preload(t,e){return Oa(null)}}class Jd{constructor(t,e,n,i,r){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=new Ld(e,n,e=>t.triggerEvent(new Lc(e)),e=>t.triggerEvent(new Fc(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Va(t=>t instanceof kc),yu(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Mt);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const i of e)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const t=i._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(t,i)):i.children&&n.push(this.processRoutes(t,i.children));return $(n).pipe(Y(),U(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Q(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}class tp{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Tc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof kc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Hc&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Hc(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const ep=new Tt("ROUTER_CONFIGURATION"),np=new Tt("ROUTER_FORROOT_GUARD"),ip=[gl,{provide:uh,useClass:ch},{provide:Hd,useFactory:cp,deps:[_s,uh,Qd,gl,Ie,bs,Br,Nd,ep,[Fd,new ut],[Dd,new ut]]},Qd,{provide:Rh,useFactory:hp,deps:[Hd]},{provide:bs,useClass:Ss},Jd,Xd,Yd,{provide:ep,useValue:{enableTracing:!1}}];function rp(){return new ps("Router",Hd)}class sp{constructor(t,e){}static forRoot(t,e){return{ngModule:sp,providers:[ip,up(t),{provide:np,useFactory:ap,deps:[[Hd,new ut,new ht]]},{provide:ep,useValue:e||{}},{provide:pl,useFactory:lp,deps:[hl,[new at(fl),new ut],ep]},{provide:tp,useFactory:op,deps:[Hd,va,ep]},{provide:Zd,useExisting:e&&e.preloadingStrategy?e.preloadingStrategy:Xd},{provide:ps,multi:!0,useFactory:rp},[dp,{provide:Ir,multi:!0,useFactory:pp,deps:[dp]},{provide:gp,useFactory:fp,deps:[dp]},{provide:Lr,multi:!0,useExisting:gp}]]}}static forChild(t){return{ngModule:sp,providers:[up(t)]}}}function op(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new tp(t,e,n)}function lp(t,e,n={}){return n.useHash?new yl(t,e):new _l(t,e)}function ap(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function up(t){return[{provide:Fe,multi:!0,useValue:t},{provide:Nd,multi:!0,useValue:t}]}function cp(t,e,n,i,r,s,o,l,a={},u,c){const h=new Hd(null,e,n,i,r,s,o,Jc(l));if(u&&(h.urlHandlingStrategy=u),c&&(h.routeReuseStrategy=c),a.errorHandler&&(h.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(h.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const t=wu();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return a.onSameUrlNavigation&&(h.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(h.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(h.relativeLinkResolution=a.relativeLinkResolution),h}function hp(t){return t.routerState.root}class dp{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new k}appInitializer(){return this.injector.get(dl,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Hd),i=this.injector.get(ep);if(this.isLegacyDisabled(i)||this.isLegacyEnabled(i))t(!0);else if("disabled"===i.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==i.initialNavigation)throw new Error(`Invalid initialNavigation options: '${i.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Oa(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(ep),n=this.injector.get(Jd),i=this.injector.get(tp),r=this.injector.get(Hd),s=this.injector.get(_s);t===s.components[0]&&(this.isLegacyEnabled(e)?r.initialNavigation():this.isLegacyDisabled(e)&&r.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),r.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}function pp(t){return t.appInitializer.bind(t)}function fp(t){return t.bootstrapListener.bind(t)}const gp=new Tt("Router Initializer");var mp=qn({encapsulation:2,styles:[],data:{}});function yp(t){return to(0,[(t()(),Vs(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),nr(1,212992,null,0,Gd,[Qd,In,Ye,[8,null],Ee],null,null)],(function(t,e){t(e,1,0)}),null)}function _p(t){return to(0,[(t()(),Vs(0,0,null,null,1,"ng-component",[],null,null,null,yp,mp)),nr(1,49152,null,0,Uc,[],null,null)],null,null)}var vp=Di("ng-component",Uc,_p,{},{},[]);class bp{containerClass(){return{"p-tag p-component":!0,"p-tag-info":"info"===this.severity,"p-tag-success":"success"===this.severity,"p-tag-warning":"warning"===this.severity,"p-tag-danger":"danger"===this.severity,"p-tag-rounded":this.rounded}}}class wp{}var Cp=qn({encapsulation:2,styles:[".p-tag{align-items:center;display:inline-flex;justify-content:center}.p-tag-icon,.p-tag-icon.pi,.p-tag-value{line-height:1.5}.p-tag.p-tag-rounded{border-radius:10rem}"],data:{}});function Sp(t){return to(0,[(t()(),Vs(0,0,null,null,2,"span",[["class","p-tag-icon"]],null,null,null,null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(2,278528,null,0,Jl,[Zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null)],(function(t,e){t(e,2,0,"p-tag-icon",e.component.icon)}),null)}function Ep(t){return to(2,[(t()(),Vs(0,0,null,null,9,"span",[],null,null,null,null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(2,278528,null,0,Jl,[Zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),rr(512,null,oa,la,[en,Cn,ln]),nr(4,278528,null,0,ua,[oa],{ngStyle:[0,"ngStyle"]},null),Gs(null,0),(t()(),Ms(16777216,null,null,1,null,Sp)),nr(7,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Vs(8,0,null,null,1,"span",[["class","p-tag-value"]],null,null,null,null,null)),(t()(),Ys(9,null,["",""]))],(function(t,e){var n=e.component;t(e,2,0,n.styleClass,n.containerClass()),t(e,4,0,n.style),t(e,7,0,n.icon)}),(function(t,e){t(e,9,0,e.component.value)}))}function xp(t){return null==t}function Tp(t){return"function"==typeof t.set}function kp(t,e){return Tp(e)?e:t.ref(e)}function Ip(t,e){if("string"==typeof t)return e.stringCase();if(Tp(t))return e.firebaseCase();if(function(t){return"function"==typeof t.exportVal}(t))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}class Op extends d{constructor(t,e){super()}schedule(t,e=0){return this}}class Pp extends Op{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,i=void 0;try{this.work(t)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let Rp=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class Dp extends Rp{constructor(t,e=Rp.now){super(t,()=>Dp.delegate&&Dp.delegate!==this?Dp.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return Dp.delegate&&Dp.delegate!==this?Dp.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const Ap=new Dp(Pp);function Np(t,e,n="on",i=Ap){return new w(r=>{let s=null;return s=t[n](e,(t,e)=>{i.schedule(()=>{r.next({snapshot:t,prevKey:e})}),"once"==n&&i.schedule(()=>r.complete())},t=>{i.schedule(()=>r.error(t))}),"on"==n?{unsubscribe(){null!=s&&t.off(e,s)}}:{unsubscribe(){}}}).pipe(U(t=>{const{snapshot:n,prevKey:i}=t;let r=null;return n.exists()&&(r=n.key),{type:e,payload:n,prevKey:i,key:r}}),ot())}function Lp(t,e){return n=>n.lift(new Fp(t,e))}class Fp{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Mp(t,this.compare,this.keySelector))}}class Mp extends g{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}function Vp(t,e){const n=t.length;for(let i=0;i<n;i++)if(t[i].payload.key===e)return i;return-1}function zp(t,e){const{payload:n,prevKey:i,key:r}=e,s=Vp(t,r),o=function(t,e){if(xp(e))return 0;{const n=Vp(t,e);return-1===n?t.length:n+1}}(t,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let n=null;e.payload.forEach(e=>{const i={payload:e,type:"value",prevKey:n,key:e.key};return n=e.key,t=[...t,i],!1})}return t;case"child_added":if(s>-1){const r=t[s-1];(r&&r.key||null)!=i&&(t=t.filter(t=>t.payload.key!==n.key)).splice(o,0,e)}else{if(null==i)return[e,...t];(t=t.slice()).splice(o,0,e)}return t;case"child_removed":return t.filter(t=>t.payload.key!==n.key);case"child_changed":return t.map(t=>t.payload.key===r?e:t);case"child_moved":if(s>-1){const e=t.splice(s,1)[0];return(t=t.slice()).splice(o,0,e),t}return t;default:return t}}function jp(t){return(xp(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function Hp(t,e,n){return function(t,e,n){return Np(t,"value","once",n).pipe(cu(i=>{const r=[Oa(i)];return e.forEach(e=>r.push(Np(t,e,"on",n))),X(...r).pipe(fu(zp,[]))}),Lp())}(t,e=jp(e),n)}function Up(t,e,n){return X(...(e=jp(e)).map(e=>Np(t,e,"on",n)))}class Bp{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new Wp(t,this.observables,this.project))}}class Wp extends H{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const i=e.length;this.values=new Array(i);for(let r=0;r<i;r++)this.toRespond.push(r);for(let r=0;r<i;r++){let t=e[r];this.add(j(this,t,t,r))}}notifyNext(t,e,n,i,r){this.values[n]=e;const s=this.toRespond;if(s.length>0){const t=s.indexOf(n);-1!==t&&s.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class qp{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new $p(t,this.predicate))}}class $p extends g{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}function Qp(t,e){return function(n,i){return Ip(n,{stringCase:()=>t.child(n)[e](i),firebaseCase:()=>n[e](i),snapshotCase:()=>n.ref[e](i)})}}function Gp(t,e){return function(){return Np(t,"value","on",e)}}class Kp extends Pp{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}class Zp extends Dp{}const Yp=new Zp(Kp);let Xp=1;const Jp={},tf={setImmediate(t){const e=Xp++;return Jp[e]=t,Promise.resolve().then(()=>function(t){const e=Jp[t];e&&e()}(e)),e},clearImmediate(t){delete Jp[t]}};class ef extends Pp{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=tf.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(tf.clearImmediate(e),t.scheduled=void 0)}}class nf extends Dp{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,r=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<r&&(t=e.shift()));if(this.active=!1,n){for(;++i<r&&(t=e.shift());)t.unsubscribe();throw n}}}const rf=new nf(ef);function sf(t){return!a(t)&&t-parseFloat(t)+1>=0}class of extends w{constructor(t,e=0,n=rf){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!sf(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=rf)}static create(t,e=0,n=rf){return new of(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(of.dispatch,this.delayTime,{source:this.source,subscriber:t})}}class lf{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new of(e,this.delay,this.scheduler).subscribe(t)}}function af(t,e){return new w(e?n=>e.schedule(uf,0,{error:t,subscriber:n}):e=>e.error(t))}function uf({error:t,subscriber:e}){e.error(t)}let cf=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Oa(this.value);case"E":return af(this.error);case"C":return ka()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();class hf{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new df(t,this.scheduler,this.delay))}}class df extends g{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(df.dispatch,this.delay,new pf(t,this.destination)))}_next(t){this.scheduleMessage(cf.createNext(t))}_error(t){this.scheduleMessage(cf.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(cf.createComplete()),this.unsubscribe()}}class pf{constructor(t,e){this.notification=t,this.destination=e}}const ff=new Tt("angularfire2.realtimeDatabaseURL");function gf(){}class mf{constructor(t,e=Yp){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const i=this.zone;return this.delegate.schedule((function(e){i.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class yf{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",gf,{},gf,gf)),e.pipe($a(n,n,n)).subscribe(t).add(n)}unscheduleTask(){null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)}}class _f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new mf(Zone.current)),this.insideAngular=t.run(()=>new mf(Zone.current,Ap))}}var vf,bf=n("Wcq6"),wf=n.n(bf);const Cf=new Tt("angularfire2.app.options"),Sf=new Tt("angularfire2.app.nameOrConfig"),Ef=Cf,xf=Sf;class Tf{}const kf=new un("5.4.2");function If(t,e,n){const i="object"==typeof n&&n||{};return i.name=i.name||"string"==typeof n&&n||"[DEFAULT]",wf.a.apps.filter(t=>t&&t.name===i.name)[0]||e.runOutsideAngular(()=>wf.a.initializeApp(t,i))}let Of=vf=class{constructor(t){wf.a.registerVersion&&(wf.a.registerVersion("angularfire",kf.full,t.toString()),wf.a.registerVersion("angular",cn.full))}static initializeApp(t,e){return{ngModule:vf,providers:[{provide:Ef,useValue:t},{provide:xf,useValue:e}]}}},Pf=class{constructor(t,e,n,i,r){this.schedulers=new _f(r),this.keepUnstableUntilFirst=function(t,e){return function(n){return _a(e)&&(n=n.lift(new yf(t.ngZone))),n.pipe(function(t,e=0){return function(n){return n.lift(new lf(t,e))}}(t.outsideAngular),function(t,e=0){return function(n){return n.lift(new hf(t,e))}}(t.insideAngular))}}(this.schedulers,i),this.database=r.runOutsideAngular(()=>If(t,r,e).database(n||void 0))}list(t,e){const n=kp(this.database,t);let i=n;return e&&(i=e(n)),function(t,e){const n=e.schedulers.outsideAngular;return{query:t,update:Qp(t.ref,"update"),set:Qp(t.ref,"set"),push:e=>t.ref.push(e),remove:(i=t.ref,function(t){return t?Ip(t,{stringCase:()=>i.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):i.remove()}),snapshotChanges:i=>Hp(t,i,n).pipe(e.keepUnstableUntilFirst),stateChanges:i=>Up(t,i,n).pipe(e.keepUnstableUntilFirst),auditTrail:i=>function(t,e,n){return function(t,e,n){return function(t,e){return Np(t,"value","on",e).pipe(U(t=>{let e;return t.payload.forEach(t=>(e=t.key,!1)),{data:t,lastKeyToLoad:e}}))}(t,n).pipe(function(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new Bp(t,n))}}(e),U(([t,e])=>{let n=t.lastKeyToLoad;const i=e.map(t=>t.key);return{actions:e,lastKeyToLoad:n,loadedKeys:i}}),(i=t=>-1===t.loadedKeys.indexOf(t.lastKeyToLoad),t=>t.lift(new qp(i))),U(t=>t.actions));var i}(t,Up(t,e).pipe(fu((t,e)=>[...t,e],[])),n)}(t,i,n).pipe(e.keepUnstableUntilFirst),valueChanges:i=>Hp(t,i,n).pipe(e.keepUnstableUntilFirst,U(t=>t.map(t=>t.payload.val())))};var i}(i,this)}object(t){const e=kp(this.database,t);return i=this,{query:n=e,snapshotChanges:()=>Gp(n,i.schedulers.outsideAngular)().pipe(i.keepUnstableUntilFirst),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>Gp(n,i.schedulers.outsideAngular)().pipe(i.keepUnstableUntilFirst,U(t=>t.payload.exists()?t.payload.val():null))};var n,i}createPushId(){return this.database.ref().push().key}};class Rf{static equals(t,e,n){return n?this.resolveFieldData(t,n)===this.resolveFieldData(e,n):this.equalsByValue(t,e)}static equalsByValue(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){var n,i,r,s=Array.isArray(t),o=Array.isArray(e);if(s&&o){if((i=t.length)!=e.length)return!1;for(n=i;0!=n--;)if(!this.equalsByValue(t[n],e[n]))return!1;return!0}if(s!=o)return!1;var l=t instanceof Date,a=e instanceof Date;if(l!=a)return!1;if(l&&a)return t.getTime()==e.getTime();var u=t instanceof RegExp,c=e instanceof RegExp;if(u!=c)return!1;if(u&&c)return t.toString()==e.toString();var h=Object.keys(t);if((i=h.length)!==Object.keys(e).length)return!1;for(n=i;0!=n--;)if(!Object.prototype.hasOwnProperty.call(e,h[n]))return!1;for(n=i;0!=n--;)if(!this.equalsByValue(t[r=h[n]],e[r]))return!1;return!0}return t!=t&&e!=e}static resolveFieldData(t,e){if(t&&e){if(this.isFunction(e))return e(t);if(-1==e.indexOf("."))return t[e];{let n=e.split("."),i=t;for(let t=0,e=n.length;t<e;++t){if(null==i)return null;i=i[n[t]]}return i}}return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,e,n){t&&e!==n&&(n>=t.length&&(n%=t.length,e%=t.length),t.splice(n,0,t.splice(e,1)[0]))}static insertIntoOrderedArray(t,e,n,i){if(n.length>0){let r=!1;for(let s=0;s<n.length;s++)if(this.findIndexInList(n[s],i)>e){n.splice(s,0,t),r=!0;break}r||n.push(t)}else n.push(t)}static findIndexInList(t,e){let n=-1;if(e)for(let i=0;i<e.length;i++)if(e[i]==t){n=i;break}return n}static removeAccents(t){return t&&t.search(/[\xC0-\xFF]/g)>-1&&(t=t.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),t}}var Df=0;let Af=(()=>{class t{}return t.STARTS_WITH="startsWith",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.ENDS_WITH="endsWith",t.EQUALS="equals",t.NOT_EQUALS="notEquals",t.IN="in",t.LESS_THAN="lt",t.LESS_THAN_OR_EQUAL_TO="lte",t.GREATER_THAN="gt",t.GREATER_THAN_OR_EQUAL_TO="gte",t.BETWEEN="between",t.IS="is",t.IS_NOT="isNot",t.BEFORE="before",t.AFTER="after",t.DATE_IS="dateIs",t.DATE_IS_NOT="dateIsNot",t.DATE_BEFORE="dateBefore",t.DATE_AFTER="dateAfter",t})(),Nf=(()=>{class t{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[Af.STARTS_WITH,Af.CONTAINS,Af.NOT_CONTAINS,Af.ENDS_WITH,Af.EQUALS,Af.NOT_EQUALS],numeric:[Af.EQUALS,Af.NOT_EQUALS,Af.LESS_THAN,Af.LESS_THAN_OR_EQUAL_TO,Af.GREATER_THAN,Af.GREATER_THAN_OR_EQUAL_TO],date:[Af.DATE_IS,Af.DATE_IS_NOT,Af.DATE_BEFORE,Af.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password"},this.translationSource=new k,this.translationObserver=this.translationSource.asObservable()}getTranslation(t){return this.translation[t]}setTranslation(t){this.translation=Object.assign(Object.assign({},this.translation),t),this.translationSource.next(this.translation)}}return t.\u0275prov=ft({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Lf=(()=>{class t{}return t.STARTS_WITH="startsWith",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.ENDS_WITH="endsWith",t.EQUALS="equals",t.NOT_EQUALS="notEquals",t.NO_FILTER="noFilter",t.LT="lt",t.LTE="lte",t.GT="gt",t.GTE="gte",t.IS="is",t.IS_NOT="isNot",t.BEFORE="before",t.AFTER="after",t.CLEAR="clear",t.APPLY="apply",t.MATCH_ALL="matchAll",t.MATCH_ANY="matchAny",t.ADD_RULE="addRule",t.REMOVE_RULE="removeRule",t.ACCEPT="accept",t.REJECT="reject",t.CHOOSE="choose",t.UPLOAD="upload",t.CANCEL="cancel",t.DAY_NAMES="dayNames",t.DAY_NAMES_SHORT="dayNamesShort",t.DAY_NAMES_MIN="dayNamesMin",t.MONTH_NAMES="monthNames",t.MONTH_NAMES_SHORT="monthNamesShort",t.TODAY="today",t.WEEK_HEADER="weekHeader",t.WEAK="weak",t.MEDIUM="medium",t.STRONG="strong",t.PASSWORD_PROMPT="passwordPrompt",t})();var Ff=function(t){return t[t.ACCEPT=0]="ACCEPT",t[t.REJECT=1]="REJECT",t[t.CANCEL=2]="CANCEL",t}({});class Mf{constructor(){this.requireConfirmationSource=new k,this.acceptConfirmationSource=new k,this.requireConfirmation$=this.requireConfirmationSource.asObservable(),this.accept=this.acceptConfirmationSource.asObservable()}confirm(t){return this.requireConfirmationSource.next(t),this}close(){return this.requireConfirmationSource.next(null),this}onAccept(){this.acceptConfirmationSource.next()}}let Vf=(()=>{class t{constructor(){this.filters={startsWith:(t,e,n)=>{if(null==e||""===e.trim())return!0;if(null==t)return!1;let i=Rf.removeAccents(e.toString()).toLocaleLowerCase(n);return Rf.removeAccents(t.toString()).toLocaleLowerCase(n).slice(0,i.length)===i},contains:(t,e,n)=>{if(null==e||"string"==typeof e&&""===e.trim())return!0;if(null==t)return!1;let i=Rf.removeAccents(e.toString()).toLocaleLowerCase(n);return-1!==Rf.removeAccents(t.toString()).toLocaleLowerCase(n).indexOf(i)},notContains:(t,e,n)=>{if(null==e||"string"==typeof e&&""===e.trim())return!0;if(null==t)return!1;let i=Rf.removeAccents(e.toString()).toLocaleLowerCase(n);return-1===Rf.removeAccents(t.toString()).toLocaleLowerCase(n).indexOf(i)},endsWith:(t,e,n)=>{if(null==e||""===e.trim())return!0;if(null==t)return!1;let i=Rf.removeAccents(e.toString()).toLocaleLowerCase(n),r=Rf.removeAccents(t.toString()).toLocaleLowerCase(n);return-1!==r.indexOf(i,r.length-i.length)},equals:(t,e,n)=>null==e||"string"==typeof e&&""===e.trim()||null!=t&&(t.getTime&&e.getTime?t.getTime()===e.getTime():Rf.removeAccents(t.toString()).toLocaleLowerCase(n)==Rf.removeAccents(e.toString()).toLocaleLowerCase(n)),notEquals:(t,e,n)=>!(null==e||"string"==typeof e&&""===e.trim()||null!=t&&(t.getTime&&e.getTime?t.getTime()===e.getTime():Rf.removeAccents(t.toString()).toLocaleLowerCase(n)==Rf.removeAccents(e.toString()).toLocaleLowerCase(n))),in:(t,e)=>{if(null==e||0===e.length)return!0;for(let n=0;n<e.length;n++)if(Rf.equals(t,e[n]))return!0;return!1},between:(t,e)=>null==e||null==e[0]||null==e[1]||null!=t&&(t.getTime?e[0].getTime()<=t.getTime()&&t.getTime()<=e[1].getTime():e[0]<=t&&t<=e[1]),lt:(t,e,n)=>null==e||null!=t&&(t.getTime&&e.getTime?t.getTime()<e.getTime():t<e),lte:(t,e,n)=>null==e||null!=t&&(t.getTime&&e.getTime?t.getTime()<=e.getTime():t<=e),gt:(t,e,n)=>null==e||null!=t&&(t.getTime&&e.getTime?t.getTime()>e.getTime():t>e),gte:(t,e,n)=>null==e||null!=t&&(t.getTime&&e.getTime?t.getTime()>=e.getTime():t>=e),is:(t,e,n)=>this.filters.equals(t,e,n),isNot:(t,e,n)=>this.filters.notEquals(t,e,n),before:(t,e,n)=>this.filters.lt(t,e,n),after:(t,e,n)=>this.filters.gt(t,e,n),dateIs:(t,e)=>null==e||null!=t&&t.toDateString()===e.toDateString(),dateIsNot:(t,e)=>null==e||null!=t&&t.toDateString()!==e.toDateString(),dateBefore:(t,e)=>null==e||null!=t&&t.getTime()<e.getTime(),dateAfter:(t,e)=>null==e||null!=t&&t.getTime()>e.getTime()}}filter(t,e,n,i,r){let s=[];if(t)for(let o of t)for(let t of e){let e=Rf.resolveFieldData(o,t);if(this.filters[i](e,n,r)){s.push(o);break}}return s}register(t,e){this.filters[t]=e}}return t.\u0275prov=ft({factory:function(){return new t},token:t,providedIn:"root"}),t})();class zf{constructor(){this.messageSource=new k,this.clearSource=new k,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}add(t){t&&this.messageSource.next(t)}addAll(t){t&&t.length&&this.messageSource.next(t)}clear(t){this.clearSource.next(t||null)}}let jf=(()=>{class t{}return t.AND="and",t.OR="or",t})();class Hf{}class Uf{constructor(t){this.template=t}getType(){return this.name}}class Bf{}var Wf=qn({encapsulation:0,styles:[[".product[_ngcontent-%COMP%]{position:relative;padding:30px 10px 10px!important;border:1px solid #dbdbdb!important;border-width:0 1px 1px 0!important}.border-info[_ngcontent-%COMP%]{position:relative;padding:10px 10px 5px!important}.btn-catalog[_ngcontent-%COMP%]{line-height:1;color:#333;font-size:.9125rem!important;font-weight:500;text-align:center;text-transform:uppercase;box-shadow:none;border:none;background:#fd5300;cursor:pointer}.btn-catalog[_ngcontent-%COMP%]:hover{border:2px solid #333!important;border-width:1px 0 3px!important}.buttonOrange[_ngcontent-%COMP%]{width:100%!important;height:auto;margin:0;padding:12px 10px;line-height:1;color:#fff;font-size:.8125rem!important;font-weight:500;text-align:center;text-transform:uppercase;border-radius:3px;box-shadow:none;border:none;background:#fd5300;cursor:pointer}.color-orange[_ngcontent-%COMP%]{color:#fd5300}.bg-orange[_ngcontent-%COMP%]{color:#fff!important;background:#fd5300!important}.padding-top-bottom[_ngcontent-%COMP%]{padding-top:5px;padding-bottom:5px}.border-information[_ngcontent-%COMP%]{border:1px solid #d8d8d8;padding:10px}"]],data:{}});function qf(t){return to(0,[(t()(),Vs(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),Vs(1,0,null,null,0,"i",[["class","fa fa-th  color-blue-dark"]],null,null,null,null,null)),(t()(),Ys(-1,null,[" ARTICLES "]))],null,null)}function $f(t){return to(0,[(t()(),Vs(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),Vs(1,0,null,null,0,"i",[["class","fa fa-th-list  color-blue-dark"]],null,null,null,null,null)),(t()(),Ys(-1,null,[" FAMILLES "]))],null,null)}function Qf(t){return to(0,[(t()(),Vs(0,0,null,null,11,"div",[["class","col-lg-3 margin-none padding-none border-info bg-white text-center btn-catalog"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.articlesParFamille(t.context.$implicit)&&i),i}),null,null)),(t()(),Vs(1,0,null,null,10,"div",[],null,null,null,null,null)),(t()(),Vs(2,0,null,null,4,"div",[["class","card-header"]],null,null,null,null,null)),(t()(),Vs(3,0,null,null,3,"div",[["class","row align-items-center"]],null,null,null,null,null)),(t()(),Vs(4,0,null,null,1,"div",[["class","col-3"]],null,null,null,null,null)),(t()(),Vs(5,0,null,null,0,"em",[["class","fa fa-th-large fa-5x"]],null,null,null,null,null)),(t()(),Vs(6,0,null,null,0,"div",[["class","col-9 text-right"]],null,null,null,null,null)),(t()(),Vs(7,0,null,null,4,"a",[["class","card-footer-product bg-gray-dark bt0 clearfix btn-block d-flex aNotZoom"]],null,null,null,null,null)),(t()(),Vs(8,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ys(9,null,[" ",""])),(t()(),Vs(10,0,null,null,1,"span",[["class","ml-auto"]],null,null,null,null,null)),(t()(),Vs(11,0,null,null,0,"em",[["class","fa fa-chevron-circle-right"]],null,null,null,null,null))],null,(function(t,e){var n=e.component.utils.troncString(e.context.$implicit.toUpperCase(),20);t(e,9,0,n)}))}function Gf(t){return to(0,[(t()(),Vs(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),Ms(16777216,null,null,1,null,Qf)),nr(2,278528,null,0,ea,[In,Tn,wn],{ngForOf:[0,"ngForOf"]},null),(t()(),Ms(0,null,null,0))],(function(t,e){t(e,2,0,e.component.familles)}),null)}function Kf(t){return to(0,[(t()(),Vs(0,0,null,null,1,"div",[["class","col-md-12 margin-none padding-none border-info bg-white text-center"]],null,null,null,null,null)),(t()(),Ys(-1,null,[" Aucun article n'est disponible. "]))],null,null)}function Zf(t){return to(0,[(t()(),Vs(0,0,null,null,3,"span",[["class","edit-color"]],null,null,null,null,null)),(t()(),Vs(1,0,null,null,0,"i",[["class","fas fa-check-circle"]],null,null,null,null,null)),(t()(),Vs(2,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),Ys(3,null,[" Disponible (",") "]))],null,(function(t,e){t(e,3,0,e.parent.context.$implicit.uniteMesure)}))}function Yf(t){return to(0,[(t()(),Vs(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ys(-1,null,["(arrivage en cours)"]))],null,null)}function Xf(t){return to(0,[(t()(),Vs(0,0,null,null,5,"span",[["class","color-orange"]],null,null,null,null,null)),(t()(),Vs(1,0,null,null,0,"i",[["class","fas fa-times"]],null,null,null,null,null)),(t()(),Vs(2,0,null,null,3,"strong",[],null,null,null,null,null)),(t()(),Ys(-1,null,[" Epuis\xe9 "])),(t()(),Ms(16777216,null,null,1,null,Yf)),nr(5,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,5,0,e.parent.context.$implicit.isArrivage)}),null)}function Jf(t){return to(0,[(t()(),Vs(0,0,null,null,0,"img",[["height","160"],["style","max-height: 150px; max-width: 150px;"],["width","160"]],[[8,"src",4]],null,null,null,null))],null,(function(t,e){t(e,0,0,vi(2,"./assets/img/produit/",e.component.identification,"/",e.parent.context.$implicit.imageNomFichier,""))}))}function tg(t){return to(0,[(t()(),Vs(0,0,null,null,1,"div",[["class","img-thumbnail"],["style","height: 150px; width: 150px; margin: auto"]],null,null,null,null,null)),(t()(),Vs(1,0,null,null,0,"i",[["class","far fa-images fa-4x "],["style","margin-top: 30%"]],null,null,null,null,null))],null,null)}function eg(t){return to(0,[(t()(),Vs(0,0,null,null,1,"p-tag",[["icon","pi pi-info-circle"]],null,null,null,Ep,Cp)),nr(1,49152,null,0,bp,[],{value:[0,"value"],icon:[1,"icon"]},null)],(function(t,e){t(e,1,0,vi(1,"DDP ",e.parent.context.$implicit.ddp,""),"pi pi-info-circle")}),null)}function ng(t){return to(0,[(t()(),Vs(0,0,null,null,1,"p-tag",[["class","title-margin"],["icon","pi pi-info-circle"]],null,null,null,Ep,Cp)),nr(1,49152,null,0,bp,[],{value:[0,"value"],icon:[1,"icon"]},null)],(function(t,e){t(e,1,0,vi(1,"PPA ",e.parent.context.$implicit.ppa,""),"pi pi-info-circle")}),null)}function ig(t){return to(0,[(t()(),Vs(0,0,null,null,26,"div",[["class","col-12 col-md-4 col-lg-3 col-xl-2 padding-none margin-none product bg-light btn-catalog"]],null,null,null,null,null)),(t()(),Vs(1,0,null,null,23,"div",[["class"," animated fadeIn"],["style"," min-height: 360px"]],null,null,null,null,null)),(t()(),Vs(2,0,null,null,4,"div",[["class","col-md-12 text-center margin-top-bottom"]],null,null,null,null,null)),(t()(),Ms(16777216,null,null,1,null,Zf)),nr(4,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,1,null,Xf)),nr(6,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Vs(7,0,null,null,4,"div",[["class","col-md-12 padding-none text-center"]],null,null,null,null,null)),(t()(),Vs(8,0,null,null,2,"div",[["class","img-thumbnail"],["style","height: 160px; width: 160px; margin: auto"]],null,null,null,null,null)),(t()(),Ms(16777216,null,null,1,null,Jf)),nr(10,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),Ms(0,[["noImageFound",2]],null,0,null,tg)),(t()(),Vs(12,0,null,null,2,"div",[["class","col-md-12 margin-top-bottom padding-none text-center"],["style","height: 45px;"]],null,null,null,null,null)),(t()(),Vs(13,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),Ys(14,null,[" ",""])),(t()(),Vs(15,0,null,null,4,"div",[["class","col-md-12 card-text border-information"],["style","min-height: 46px;"]],null,null,null,null,null)),(t()(),Ms(16777216,null,null,1,null,eg)),nr(17,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,1,null,ng)),nr(19,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Vs(20,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Vs(21,0,null,null,3,"div",[["class","col-md-12 padding-none text-center margin-top-bottom "]],null,null,null,null,null)),(t()(),Vs(22,0,null,null,2,"a",[["Style","color: white; margin-top: 0px;font-size: 70%; "],["class","buttonOrange"],["data-target","#Modal1"],["data-toggle","modal"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.ajouterPanier(t.context.$implicit)&&i),i}),null,null)),(t()(),Vs(23,0,null,null,0,"i",[["class","fa fa-shopping-basket"]],null,null,null,null,null)),(t()(),Ys(-1,null,[" Ajouter au panier"])),(t()(),Vs(25,0,null,null,1,"div",[["class","card-footer text-muted padding-top-bottom"]],null,null,null,null,null)),(t()(),Ys(26,null,[" R\xe9f. "," "]))],(function(t,e){t(e,4,0,e.context.$implicit.qteStockArticle&&e.context.$implicit.qteStockArticle>0),t(e,6,0,!e.context.$implicit.qteStockArticle||e.context.$implicit.qteStockArticle<=0),t(e,10,0,e.context.$implicit.imageNomFichier,Bi(e,11)),t(e,17,0,e.context.$implicit.ddp),t(e,19,0,e.context.$implicit.ppa)}),(function(t,e){var n=e.context.$implicit.designation.toUpperCase();t(e,14,0,n),t(e,26,0,e.context.$implicit.reference)}))}function rg(t){return to(0,[(t()(),Vs(0,0,null,null,10,null,null,null,null,null,null,null)),(t()(),Vs(1,0,null,null,5,"div",[["class","col-md-12 margin-none padding-none border-info text-left "]],null,null,null,null,null)),rr(512,null,oa,la,[en,Cn,ln]),nr(3,278528,null,0,ua,[oa],{ngStyle:[0,"ngStyle"]},null),Zs(4,{"background-color":0,color:1}),(t()(),Vs(5,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),Ys(6,null,[""," [ "," article(s) ]"])),(t()(),Ms(16777216,null,null,1,null,Kf)),nr(8,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,1,null,ig)),nr(10,278528,null,0,ea,[In,Tn,wn],{ngForOf:[0,"ngForOf"]},null),(t()(),Ms(0,null,null,0))],(function(t,e){var n=t(e,4,0,"#0B7285","#ffffff");t(e,3,0,n),t(e,8,0,e.parent.context.$implicit.value&&0===e.parent.context.$implicit.value.length),t(e,10,0,e.parent.context.$implicit.value)}),(function(t,e){var n=e.parent.context.$implicit.key.toUpperCase();t(e,6,0,n,e.parent.context.$implicit.value.length)}))}function sg(t){return to(0,[(t()(),Vs(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),Ms(16777216,null,null,1,null,rg)),nr(2,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(0,null,null,0))],(function(t,e){var n=e.component;t(e,2,0,n.selectedFamille&&e.context.$implicit.key===n.selectedFamille||!n.selectedFamille)}),null)}function og(t){return to(0,[(t()(),Vs(0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),Ms(16777216,null,null,2,null,sg)),nr(2,278528,null,0,ea,[In,Tn,wn],{ngForOf:[0,"ngForOf"]},null),ir(0,pa,[Cn]),(t()(),Ms(0,null,null,0))],(function(t,e){var n=e.component;t(e,2,0,Wn(e,2,0,Bi(e,3).transform(n.mapFamilleArticles)))}),null)}function lg(t){return to(0,[(t()(),Vs(0,0,null,null,10,"div",[["class","row margin-none"]],null,null,null,null,null)),(t()(),Vs(1,0,null,null,4,"div",[["class","col-md-3 border-info bg-white text-left btn-catalog"]],null,[[null,"click"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(r.saisieRecherche.affichageParFamilles=!r.saisieRecherche.affichageParFamilles,i=!1!==(r.selectedFamille=null)&&i),i}),null,null)),(t()(),Ms(16777216,null,null,1,null,qf)),nr(3,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,1,null,$f)),nr(5,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Vs(6,0,null,null,0,"div",[["class","col-md-3 border-info bg-white text-left btn-catalog"]],null,null,null,null,null)),(t()(),Vs(7,0,null,null,3,"div",[["class","col-md-6 border-info bg-white text-center "]],null,null,null,null,null)),(t()(),Vs(8,0,null,null,2,"a",[["class","btn btn-link padding-none"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.goPanier()&&i),i}),null,null)),(t()(),Vs(9,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),Ys(-1,null,["Je finalise mon bon de commande ?"])),(t()(),Vs(11,0,null,null,4,"div",[["class","col-md-12 row padding-none margin-none"]],null,null,null,null,null)),(t()(),Ms(16777216,null,null,1,null,Gf)),nr(13,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,1,null,og)),nr(15,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,3,0,!0===n.saisieRecherche.affichageParFamilles),t(e,5,0,!1===n.saisieRecherche.affichageParFamilles),t(e,13,0,n.saisieRecherche.affichageParFamilles),t(e,15,0,!n.saisieRecherche.affichageParFamilles)}),null)}let ag=(()=>{class t{static addClass(t,e){t.classList?t.classList.add(e):t.className+=" "+e}static addMultipleClasses(t,e){if(t.classList){let n=e.trim().split(" ");for(let e=0;e<n.length;e++)t.classList.add(n[e])}else{let n=e.split(" ");for(let e=0;e<n.length;e++)t.className+=" "+n[e]}}static removeClass(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,(function(e){return e!==t}))}static find(t,e){return Array.from(t.querySelectorAll(e))}static findSingle(t,e){return t?t.querySelector(e):null}static index(t){let e=t.parentNode.childNodes,n=0;for(var i=0;i<e.length;i++){if(e[i]==t)return n;1==e[i].nodeType&&n++}return-1}static indexWithinGroup(t,e){let n=t.parentNode?t.parentNode.childNodes:[],i=0;for(var r=0;r<n.length;r++){if(n[r]==t)return i;n[r].attributes&&n[r].attributes[e]&&1==n[r].nodeType&&i++}return-1}static relativePosition(t,e){let n=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t);const i=e.offsetHeight,r=e.getBoundingClientRect(),s=this.getViewport();let o,l;r.top+i+n.height>s.height?(o=-1*n.height,t.style.transformOrigin="bottom",r.top+o<0&&(o=-1*r.top)):(o=i,t.style.transformOrigin="top"),l=n.width>s.width?-1*r.left:r.left+n.width>s.width?-1*(r.left+n.width-s.width):0,t.style.top=o+"px",t.style.left=l+"px"}static absolutePosition(t,e){let n,i,r=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),s=r.height,o=r.width,l=e.offsetHeight,a=e.offsetWidth,u=e.getBoundingClientRect(),c=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),d=this.getViewport();u.top+l+s>d.height?(n=u.top+c-s,t.style.transformOrigin="bottom",n<0&&(n=c)):(n=l+u.top+c,t.style.transformOrigin="top"),i=u.left+o>d.width?Math.max(0,u.left+h+a-o):u.left+h,t.style.top=n+"px",t.style.left=i+"px"}static getParents(t,e=[]){return null===t.parentNode?e:this.getParents(t.parentNode,e.concat([t.parentNode]))}static getScrollableParents(t){let e=[];if(t){let n=this.getParents(t);const i=/(auto|scroll)/,r=t=>{let e=window.getComputedStyle(t,null);return i.test(e.getPropertyValue("overflow"))||i.test(e.getPropertyValue("overflowX"))||i.test(e.getPropertyValue("overflowY"))};for(let t of n){let n=1===t.nodeType&&t.dataset.scrollselectors;if(n){let i=n.split(",");for(let n of i){let i=this.findSingle(t,n);i&&r(i)&&e.push(i)}}9!==t.nodeType&&r(t)&&e.push(t)}}return e}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let e=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",e}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let e=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",e}static getHiddenElementDimensions(t){let e={};return t.style.visibility="hidden",t.style.display="block",e.width=t.offsetWidth,e.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",e}static scrollInView(t,e){let n=getComputedStyle(t).getPropertyValue("borderTopWidth"),i=n?parseFloat(n):0,r=getComputedStyle(t).getPropertyValue("paddingTop"),s=r?parseFloat(r):0,o=t.getBoundingClientRect(),l=e.getBoundingClientRect().top+document.body.scrollTop-(o.top+document.body.scrollTop)-i-s,a=t.scrollTop,u=t.clientHeight,c=this.getOuterHeight(e);l<0?t.scrollTop=a+l:l+c>u&&(t.scrollTop=a+l-u+c)}static fadeIn(t,e){t.style.opacity=0;let n=+new Date,i=0,r=function(){i=+t.style.opacity.replace(",",".")+((new Date).getTime()-n)/e,t.style.opacity=i,n=+new Date,+i<1&&(window.requestAnimationFrame&&requestAnimationFrame(r)||setTimeout(r,16))};r()}static fadeOut(t,e){var n=1,i=50/e;let r=setInterval(()=>{(n-=i)<=0&&(n=0,clearInterval(r)),t.style.opacity=n},50)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,e){var n=Element.prototype;return(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(t){return-1!==[].indexOf.call(document.querySelectorAll(t),this)}).call(t,e)}static getOuterWidth(t,e){let n=t.offsetWidth;if(e){let e=getComputedStyle(t);n+=parseFloat(e.marginLeft)+parseFloat(e.marginRight)}return n}static getHorizontalPadding(t){let e=getComputedStyle(t);return parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)}static getHorizontalMargin(t){let e=getComputedStyle(t);return parseFloat(e.marginLeft)+parseFloat(e.marginRight)}static innerWidth(t){let e=t.offsetWidth,n=getComputedStyle(t);return e+=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),e}static width(t){let e=t.offsetWidth,n=getComputedStyle(t);return e-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),e}static getInnerHeight(t){let e=t.offsetHeight,n=getComputedStyle(t);return e+=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom),e}static getOuterHeight(t,e){let n=t.offsetHeight;if(e){let e=getComputedStyle(t);n+=parseFloat(e.marginTop)+parseFloat(e.marginBottom)}return n}static getHeight(t){let e=t.offsetHeight,n=getComputedStyle(t);return e-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),e}static getWidth(t){let e=t.offsetWidth,n=getComputedStyle(t);return e-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth),e}static getViewport(){let t=window,e=document,n=e.documentElement,i=e.getElementsByTagName("body")[0];return{width:t.innerWidth||n.clientWidth||i.clientWidth,height:t.innerHeight||n.clientHeight||i.clientHeight}}static getOffset(t){var e=t.getBoundingClientRect();return{top:e.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:e.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,e){let n=t.parentNode;if(!n)throw"Can't replace element";return n.replaceChild(e,t)}static getUserAgent(){return navigator.userAgent}static isIE(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||(t.indexOf("Trident/")>0?(t.indexOf("rv:"),!0):t.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static appendChild(t,e){if(this.isElement(e))e.appendChild(t);else{if(!e.el||!e.el.nativeElement)throw"Cannot append "+e+" to "+t;e.el.nativeElement.appendChild(t)}}static removeChild(t,e){if(this.isElement(e))e.removeChild(t);else{if(!e.el||!e.el.nativeElement)throw"Cannot remove "+t+" from "+e;e.el.nativeElement.removeChild(t)}}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}static calculateScrollbarWidth(t){if(t){let e=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),this.calculatedScrollbarWidth=e,e}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let e=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=e,e}static invokeElementMethod(t,e,n){t[e].apply(t,n)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(t){}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return null===t.offsetParent}static getFocusableElements(e){let n=t.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'),i=[];for(let t of n)"none"!=getComputedStyle(t).display&&"hidden"!=getComputedStyle(t).visibility&&i.push(t);return i}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return t.zindex=1e3,t.calculatedScrollbarWidth=null,t.calculatedScrollbarHeight=null,t})();class ug{constructor(t,e=(()=>{})){this.element=t,this.listener=e}bindScrollListener(){this.scrollableParents=ag.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}class cg{constructor(){this.sortSource=new k,this.selectionSource=new k,this.contextMenuSource=new k,this.valueSource=new k,this.totalRecordsSource=new k,this.columnsSource=new k,this.resetSource=new k,this.sortSource$=this.sortSource.asObservable(),this.selectionSource$=this.selectionSource.asObservable(),this.contextMenuSource$=this.contextMenuSource.asObservable(),this.valueSource$=this.valueSource.asObservable(),this.totalRecordsSource$=this.totalRecordsSource.asObservable(),this.columnsSource$=this.columnsSource.asObservable(),this.resetSource$=this.resetSource.asObservable()}onSort(t){this.sortSource.next(t)}onSelectionChange(){this.selectionSource.next()}onResetChange(){this.resetSource.next()}onContextMenu(t){this.contextMenuSource.next(t)}onValueChange(t){this.valueSource.next(t)}onTotalRecordsChange(t){this.totalRecordsSource.next(t)}onColumnsChange(t){this.columnsSource.next(t)}}class hg{constructor(t,e,n,i,r){this.el=t,this.zone=e,this.tableService=n,this.cd=i,this.filterService=r,this.pageLinks=5,this.alwaysShowPaginator=!0,this.paginatorPosition="bottom",this.paginatorDropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.showPageLinks=!0,this.defaultSortOrder=1,this.sortMode="single",this.resetPageOnSort=!0,this.selectionChange=new xr,this.contextMenuSelectionChange=new xr,this.contextMenuSelectionMode="separate",this.rowTrackBy=(t,e)=>e,this.lazy=!1,this.lazyLoadOnInit=!0,this.compareSelectionBy="deepEquals",this.csvSeparator=",",this.exportFilename="download",this.filters={},this.filterDelay=300,this.expandedRowKeys={},this.editingRowKeys={},this.rowExpandMode="multiple",this.virtualScrollDelay=250,this.virtualRowHeight=28,this.columnResizeMode="fit",this.loadingIcon="pi pi-spinner",this.showLoader=!0,this.stateStorage="session",this.editMode="cell",this.onRowSelect=new xr,this.onRowUnselect=new xr,this.onPage=new xr,this.onSort=new xr,this.onFilter=new xr,this.onLazyLoad=new xr,this.onRowExpand=new xr,this.onRowCollapse=new xr,this.onContextMenuSelect=new xr,this.onColResize=new xr,this.onColReorder=new xr,this.onRowReorder=new xr,this.onEditInit=new xr,this.onEditComplete=new xr,this.onEditCancel=new xr,this.onHeaderCheckboxToggle=new xr,this.sortFunction=new xr,this.firstChange=new xr,this.rowsChange=new xr,this.onStateSave=new xr,this.onStateRestore=new xr,this._value=[],this._totalRecords=0,this._first=0,this.selectionKeys={},this._sortOrder=1}ngOnInit(){this.lazy&&this.lazyLoadOnInit&&(this.virtualScroll||this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.restoringFilter&&(this.restoringFilter=!1)),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"caption":this.captionTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"body":this.bodyTemplate=t.template;break;case"loadingbody":this.loadingBodyTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"summary":this.summaryTemplate=t.template;break;case"colgroup":this.colGroupTemplate=t.template;break;case"rowexpansion":this.expandedRowTemplate=t.template;break;case"frozenrows":this.frozenRowsTemplate=t.template;break;case"frozenheader":this.frozenHeaderTemplate=t.template;break;case"frozenbody":this.frozenBodyTemplate=t.template;break;case"frozenfooter":this.frozenFooterTemplate=t.template;break;case"frozencolgroup":this.frozenColGroupTemplate=t.template;break;case"frozenrowexpansion":this.frozenExpandedRowTemplate=t.template;break;case"emptymessage":this.emptyMessageTemplate=t.template;break;case"paginatorleft":this.paginatorLeftTemplate=t.template;break;case"paginatorright":this.paginatorRightTemplate=t.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=t.template}})}ngAfterViewInit(){this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths()}ngOnChanges(t){t.value&&(this.isStateful()&&!this.stateRestored&&this.restoreState(),this._value=t.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,"single"==this.sortMode&&this.sortField?this.sortSingle():"multiple"==this.sortMode&&this.multiSortMeta?this.sortMultiple():this.hasFilter()&&this._filter()),this.tableService.onValueChange(t.value.currentValue)),t.columns&&(this._columns=t.columns.currentValue,this.tableService.onColumnsChange(t.columns.currentValue),this._columns&&this.isStateful()&&this.reorderableColumns&&!this.columnOrderStateRestored&&this.restoreColumnOrder()),t.sortField&&(this._sortField=t.sortField.currentValue,this.lazy&&!this.initialized||"single"===this.sortMode&&this.sortSingle()),t.sortOrder&&(this._sortOrder=t.sortOrder.currentValue,this.lazy&&!this.initialized||"single"===this.sortMode&&this.sortSingle()),t.multiSortMeta&&(this._multiSortMeta=t.multiSortMeta.currentValue,"multiple"!==this.sortMode||!this.initialized&&(this.lazy||this.virtualScroll)||this.sortMultiple()),t.selection&&(this._selection=t.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1)}get value(){return this._value}set value(t){this._value=t}get columns(){return this._columns}set columns(t){this._columns=t}get first(){return this._first}set first(t){this._first=t}get rows(){return this._rows}set rows(t){this._rows=t}get totalRecords(){return this._totalRecords}set totalRecords(t){this._totalRecords=t,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(t){this._sortField=t}get sortOrder(){return this._sortOrder}set sortOrder(t){this._sortOrder=t}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(t){this._multiSortMeta=t}get selection(){return this._selection}set selection(t){this._selection=t}updateSelectionKeys(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection))for(let t of this._selection)this.selectionKeys[String(Rf.resolveFieldData(t,this.dataKey))]=1;else this.selectionKeys[String(Rf.resolveFieldData(this._selection,this.dataKey))]=1}onPageChange(t){this.first=t.first,this.rows=t.rows,this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.onPage.emit({first:this.first,rows:this.rows}),this.firstChange.emit(this.first),this.rowsChange.emit(this.rows),this.tableService.onValueChange(this.value),this.isStateful()&&this.saveState(),this.anchorRowIndex=null,this.scrollable&&this.resetScrollTop()}sort(t){let e=t.originalEvent;if("single"===this.sortMode&&(this._sortOrder=this.sortField===t.field?-1*this.sortOrder:this.defaultSortOrder,this._sortField=t.field,this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop()),this.sortSingle()),"multiple"===this.sortMode){let n=e.metaKey||e.ctrlKey,i=this.getSortMeta(t.field);i?n?i.order=-1*i.order:(this._multiSortMeta=[{field:t.field,order:-1*i.order}],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop())):(n&&this.multiSortMeta||(this._multiSortMeta=[],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first))),this._multiSortMeta.push({field:t.field,order:this.defaultSortOrder})),this.sortMultiple()}this.isStateful()&&this.saveState(),this.anchorRowIndex=null}sortSingle(){if(this.sortField&&this.sortOrder){this.restoringSort&&(this.restoringSort=!1),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,field:this.sortField,order:this.sortOrder}):(this.value.sort((t,e)=>{let n=Rf.resolveFieldData(t,this.sortField),i=Rf.resolveFieldData(e,this.sortField),r=null;return r=null==n&&null!=i?-1:null!=n&&null==i?1:null==n&&null==i?0:"string"==typeof n&&"string"==typeof i?n.localeCompare(i):n<i?-1:n>i?1:0,this.sortOrder*r}),this._value=[...this.value]),this.hasFilter()&&this._filter());let t={field:this.sortField,order:this.sortOrder};this.onSort.emit(t),this.tableService.onSort(t)}}sortMultiple(){this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):(this.value.sort((t,e)=>this.multisortField(t,e,this.multiSortMeta,0)),this._value=[...this.value]),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.tableService.onSort(this.multiSortMeta))}multisortField(t,e,n,i){let r=Rf.resolveFieldData(t,n[i].field),s=Rf.resolveFieldData(e,n[i].field),o=null;if(null==r&&null!=s)o=-1;else if(null!=r&&null==s)o=1;else if(null==r&&null==s)o=0;else if("string"==typeof r||r instanceof String){if(r.localeCompare&&r!=s)return n[i].order*r.localeCompare(s)}else o=r<s?-1:1;return r==s?n.length-1>i?this.multisortField(t,e,n,i+1):0:n[i].order*o}getSortMeta(t){if(this.multiSortMeta&&this.multiSortMeta.length)for(let e=0;e<this.multiSortMeta.length;e++)if(this.multiSortMeta[e].field===t)return this.multiSortMeta[e];return null}isSorted(t){if("single"===this.sortMode)return this.sortField&&this.sortField===t;if("multiple"===this.sortMode){let e=!1;if(this.multiSortMeta)for(let n=0;n<this.multiSortMeta.length;n++)if(this.multiSortMeta[n].field==t){e=!0;break}return e}}handleRowClick(t){let e=t.originalEvent.target,n=e.nodeName,i=e.parentElement&&e.parentElement.nodeName;if("INPUT"!=n&&"BUTTON"!=n&&"A"!=n&&"INPUT"!=i&&"BUTTON"!=i&&"A"!=i&&!ag.hasClass(t.originalEvent.target,"p-clickable")){if(this.selectionMode){if(this.preventSelectionSetterPropagation=!0,this.isMultipleSelectionMode()&&t.originalEvent.shiftKey&&null!=this.anchorRowIndex)ag.clearSelection(),null!=this.rangeRowIndex&&this.clearSelectionRange(t.originalEvent),this.rangeRowIndex=t.rowIndex,this.selectRange(t.originalEvent,t.rowIndex);else{let e=t.rowData,n=this.isSelected(e),i=!this.rowTouched&&this.metaKeySelection,r=this.dataKey?String(Rf.resolveFieldData(e,this.dataKey)):null;if(this.anchorRowIndex=t.rowIndex,this.rangeRowIndex=t.rowIndex,i){let i=t.originalEvent.metaKey||t.originalEvent.ctrlKey;if(n&&i){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{let t=this.findIndexInSelection(e);this._selection=this.selection.filter((e,n)=>n!=t),this.selectionChange.emit(this.selection),r&&delete this.selectionKeys[r]}this.onRowUnselect.emit({originalEvent:t.originalEvent,data:e,type:"row"})}else this.isSingleSelectionMode()?(this._selection=e,this.selectionChange.emit(e),r&&(this.selectionKeys={},this.selectionKeys[r]=1)):this.isMultipleSelectionMode()&&(i?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=[...this.selection,e],this.selectionChange.emit(this.selection),r&&(this.selectionKeys[r]=1)),this.onRowSelect.emit({originalEvent:t.originalEvent,data:e,type:"row",index:t.rowIndex})}else if("single"===this.selectionMode)n?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,data:e,type:"row",index:t.rowIndex})):(this._selection=e,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,data:e,type:"row",index:t.rowIndex}),r&&(this.selectionKeys={},this.selectionKeys[r]=1));else if("multiple"===this.selectionMode)if(n){let n=this.findIndexInSelection(e);this._selection=this.selection.filter((t,e)=>e!=n),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,data:e,type:"row",index:t.rowIndex}),r&&delete this.selectionKeys[r]}else this._selection=this.selection?[...this.selection,e]:[e],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,data:e,type:"row",index:t.rowIndex}),r&&(this.selectionKeys[r]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}this.rowTouched=!1}}handleRowTouchEnd(t){this.rowTouched=!0}handleRowRightClick(t){if(this.contextMenu){const e=t.rowData;if("separate"===this.contextMenuSelectionMode)this.contextMenuSelection=e,this.contextMenuSelectionChange.emit(e),this.onContextMenuSelect.emit({originalEvent:t.originalEvent,data:e,index:t.rowIndex}),this.contextMenu.show(t.originalEvent),this.tableService.onContextMenu(e);else if("joint"===this.contextMenuSelectionMode){this.preventSelectionSetterPropagation=!0;let n=this.isSelected(e),i=this.dataKey?String(Rf.resolveFieldData(e,this.dataKey)):null;n||(this.isSingleSelectionMode()?(this.selection=e,this.selectionChange.emit(e),i&&(this.selectionKeys={},this.selectionKeys[i]=1)):this.isMultipleSelectionMode()&&(this._selection=this.selection?[...this.selection,e]:[e],this.selectionChange.emit(this.selection),i&&(this.selectionKeys[i]=1))),this.tableService.onSelectionChange(),this.contextMenu.show(t.originalEvent),this.onContextMenuSelect.emit({originalEvent:t,data:e,index:t.rowIndex})}}}selectRange(t,e){let n,i;this.anchorRowIndex>e?(n=e,i=this.anchorRowIndex):this.anchorRowIndex<e?(n=this.anchorRowIndex,i=e):(n=e,i=e),this.lazy&&this.paginator&&(n-=this.first,i-=this.first);let r=[];for(let s=n;s<=i;s++){let t=this.filteredValue?this.filteredValue[s]:this.value[s];if(!this.isSelected(t)){r.push(t),this._selection=[...this.selection,t];let e=this.dataKey?String(Rf.resolveFieldData(t,this.dataKey)):null;e&&(this.selectionKeys[e]=1)}}this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t,data:r,type:"row"})}clearSelectionRange(t){let e,n;this.rangeRowIndex>this.anchorRowIndex?(e=this.anchorRowIndex,n=this.rangeRowIndex):this.rangeRowIndex<this.anchorRowIndex?(e=this.rangeRowIndex,n=this.anchorRowIndex):(e=this.rangeRowIndex,n=this.rangeRowIndex);for(let i=e;i<=n;i++){let e=this.value[i],n=this.findIndexInSelection(e);this._selection=this.selection.filter((t,e)=>e!=n);let r=this.dataKey?String(Rf.resolveFieldData(e,this.dataKey)):null;r&&delete this.selectionKeys[r],this.onRowUnselect.emit({originalEvent:t,data:e,type:"row"})}}isSelected(t){return!(!t||!this.selection)&&(this.dataKey?void 0!==this.selectionKeys[Rf.resolveFieldData(t,this.dataKey)]:this.selection instanceof Array?this.findIndexInSelection(t)>-1:this.equals(t,this.selection))}findIndexInSelection(t){let e=-1;if(this.selection&&this.selection.length)for(let n=0;n<this.selection.length;n++)if(this.equals(t,this.selection[n])){e=n;break}return e}toggleRowWithRadio(t,e){this.preventSelectionSetterPropagation=!0,this.selection!=e?(this._selection=e,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:e,type:"radiobutton"}),this.dataKey&&(this.selectionKeys={},this.selectionKeys[String(Rf.resolveFieldData(e,this.dataKey))]=1)):(this._selection=null,this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:e,type:"radiobutton"})),this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowWithCheckbox(t,e){this.selection=this.selection||[];let n=this.isSelected(e),i=this.dataKey?String(Rf.resolveFieldData(e,this.dataKey)):null;if(this.preventSelectionSetterPropagation=!0,n){let n=this.findIndexInSelection(e);this._selection=this.selection.filter((t,e)=>e!=n),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:e,type:"checkbox"}),i&&delete this.selectionKeys[i]}else this._selection=this.selection?[...this.selection,e]:[e],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:e,type:"checkbox"}),i&&(this.selectionKeys[i]=1);this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowsWithCheckbox(t,e){this._selection=e?this.filteredValue?this.filteredValue.slice():this.value.slice():[],this.preventSelectionSetterPropagation=!0,this.updateSelectionKeys(),this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:t,checked:e}),this.isStateful()&&this.saveState()}equals(t,e){return"equals"===this.compareSelectionBy?t===e:Rf.equals(t,e,this.dataKey)}filter(t,e,n){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(t)?this.filters[e]&&delete this.filters[e]:this.filters[e]={value:t,matchMode:n},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay),this.anchorRowIndex=null}filterGlobal(t,e){this.filter(t,"global",e)}isFilterBlank(t){return null==t||"string"==typeof t&&0==t.trim().length||t instanceof Array&&0==t.length}_filter(){if(this.restoringFilter||(this.first=0,this.firstChange.emit(this.first)),this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(this.hasFilter()){let t;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");t=this.globalFilterFields||this.columns}this.filteredValue=[];for(let e=0;e<this.value.length;e++){let n,i=!0,r=!1,s=!1;for(let t in this.filters)if(this.filters.hasOwnProperty(t)&&"global"!==t){s=!0;let n=t,r=this.filters[n];if(Array.isArray(r)){for(let t of r)if(i=this.executeLocalFilter(n,this.value[e],t),t.operator===jf.OR&&i||t.operator===jf.AND&&!i)break}else i=this.executeLocalFilter(n,this.value[e],r);if(!i)break}if(this.filters.global&&!r&&t)for(let o=0;o<t.length&&(r=this.filterService.filters[this.filters.global.matchMode](Rf.resolveFieldData(this.value[e],t[o].field||t[o]),this.filters.global.value,this.filterLocale),!r);o++);n=this.filters.global?s?s&&i&&r:r:s&&i,n&&this.filteredValue.push(this.value[e])}this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0)}else this.filteredValue=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0)}this.onFilter.emit({filters:this.filters,filteredValue:this.filteredValue||this.value}),this.tableService.onValueChange(this.value),this.isStateful()&&!this.restoringFilter&&this.saveState(),this.restoringFilter&&(this.restoringFilter=!1),this.cd.markForCheck(),this.scrollable&&this.resetScrollTop()}executeLocalFilter(t,e,n){let i=n.value,r=n.matchMode||Af.STARTS_WITH,s=Rf.resolveFieldData(e,t);return(0,this.filterService.filters[r])(s,i,this.filterLocale)}hasFilter(){let t=!0;for(let e in this.filters)if(this.filters.hasOwnProperty(e)){t=!1;break}return!t}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta}}clear(){this._sortField=null,this._sortOrder=this.defaultSortOrder,this._multiSortMeta=null,this.tableService.onSort(null),this.filteredValue=null,this.tableService.onResetChange(),this.first=0,this.firstChange.emit(this.first),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}reset(){this.clear()}exportCSV(t){let e,n="",i=this.frozenColumns?[...this.frozenColumns,...this.columns]:this.columns;t&&t.selectionOnly?e=this.selection||[]:(e=this.filteredValue||this.value,this.frozenValue&&(e=e?[...this.frozenValue,...e]:this.frozenValue));for(let s=0;s<i.length;s++){let t=i[s];!1!==t.exportable&&t.field&&(n+='"'+(t.header||t.field)+'"',s<i.length-1&&(n+=this.csvSeparator))}e.forEach((t,e)=>{n+="\n";for(let r=0;r<i.length;r++){let e=i[r];if(!1!==e.exportable&&e.field){let s=Rf.resolveFieldData(t,e.field);s=null!=s?this.exportFunction?this.exportFunction({data:s,field:e.field}):String(s).replace(/"/g,'""'):"",n+='"'+s+'"',r<i.length-1&&(n+=this.csvSeparator)}}});let r=new Blob([n],{type:"text/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(r,this.exportFilename+".csv");else{let t=document.createElement("a");t.style.display="none",document.body.appendChild(t),void 0!==t.download?(t.setAttribute("href",URL.createObjectURL(r)),t.setAttribute("download",this.exportFilename+".csv"),t.click()):(n="data:text/csv;charset=utf-8,"+n,window.open(encodeURI(n))),document.body.removeChild(t)}}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(t){this.scrollableViewChild&&this.scrollableViewChild.scrollToVirtualIndex(t),this.scrollableFrozenViewChild&&this.scrollableFrozenViewChild.scrollToVirtualIndex(t)}scrollTo(t){this.scrollableViewChild&&this.scrollableViewChild.scrollTo(t),this.scrollableFrozenViewChild&&this.scrollableFrozenViewChild.scrollTo(t)}updateEditingCell(t,e,n,i){this.editingCell=t,this.editingCellData=e,this.editingCellField=n,this.editingCellRowIndex=i,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&0===ag.find(this.editingCell,".ng-invalid.ng-dirty").length}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=t=>{this.editingCell&&!this.editingCellClick&&this.isEditingCellValid()&&(ag.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData,originalEvent:t,index:this.editingCellRowIndex}),this.editingCellField=null,this.editingCellData=null,this.editingCellRowIndex=null,this.unbindDocumentEditListener(),this.cd.markForCheck()),this.editingCellClick=!1},document.addEventListener("click",this.documentEditListener))}unbindDocumentEditListener(){this.documentEditListener&&(document.removeEventListener("click",this.documentEditListener),this.documentEditListener=null)}initRowEdit(t){let e=String(Rf.resolveFieldData(t,this.dataKey));this.editingRowKeys[e]=!0}saveRowEdit(t,e){if(0===ag.find(e,".ng-invalid.ng-dirty").length){let e=String(Rf.resolveFieldData(t,this.dataKey));delete this.editingRowKeys[e]}}cancelRowEdit(t){let e=String(Rf.resolveFieldData(t,this.dataKey));delete this.editingRowKeys[e]}toggleRow(t,e){if(!this.dataKey)throw new Error("dataKey must be defined to use row expansion");let n=String(Rf.resolveFieldData(t,this.dataKey));null!=this.expandedRowKeys[n]?(delete this.expandedRowKeys[n],this.onRowCollapse.emit({originalEvent:e,data:t})):("single"===this.rowExpandMode&&(this.expandedRowKeys={}),this.expandedRowKeys[n]=!0,this.onRowExpand.emit({originalEvent:e,data:t})),e&&e.preventDefault(),this.isStateful()&&this.saveState()}isRowExpanded(t){return!0===this.expandedRowKeys[String(Rf.resolveFieldData(t,this.dataKey))]}isRowEditing(t){return!0===this.editingRowKeys[String(Rf.resolveFieldData(t,this.dataKey))]}isSingleSelectionMode(){return"single"===this.selectionMode}isMultipleSelectionMode(){return"multiple"===this.selectionMode}onColumnResizeBegin(t){let e=ag.getOffset(this.containerViewChild.nativeElement).left;this.lastResizerHelperX=t.pageX-e+this.containerViewChild.nativeElement.scrollLeft,this.onColumnResize(t),t.preventDefault()}onColumnResize(t){let e=ag.getOffset(this.containerViewChild.nativeElement).left;ag.addClass(this.containerViewChild.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=t.pageX-e+this.containerViewChild.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(t,e){let n=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,i=e.offsetWidth,r=parseInt(e.style.minWidth||15);i+n<r&&(n=r-i);const s=i+n;if(s>=r){if("fit"===this.columnResizeMode){let t=e.nextElementSibling;for(;!t.offsetParent;)t=t.nextElementSibling;if(t){let i=t.offsetWidth-n,r=t.style.minWidth||15;if(s>15&&i>parseInt(r))if(this.scrollable){let t=this.findParentScrollableView(e),n=ag.findSingle(t,".p-datatable-scrollable-body table")||ag.findSingle(t,".p-datatable-virtual-scrollable-body table"),r=ag.findSingle(t,"table.p-datatable-scrollable-header-table"),o=ag.findSingle(t,"table.p-datatable-scrollable-footer-table"),l=ag.index(e);this.resizeColGroup(r,l,s,i),this.resizeColGroup(n,l,s,i),this.resizeColGroup(o,l,s,i)}else e.style.width=s+"px",t&&(t.style.width=i+"px")}}else"expand"===this.columnResizeMode&&s>=r&&(this.scrollable?this.setScrollableItemsWidthOnExpandResize(e,s,n):(this.tableViewChild.nativeElement.style.width=this.tableViewChild.nativeElement.offsetWidth+n+"px",e.style.width=s+"px",this.containerViewChild.nativeElement.style.width=this.tableViewChild.nativeElement.style.width+"px"));this.onColResize.emit({element:e,delta:n}),this.isStateful()&&this.saveState()}this.resizeHelperViewChild.nativeElement.style.display="none",ag.removeClass(this.containerViewChild.nativeElement,"p-unselectable-text")}setScrollableItemsWidthOnExpandResize(t,e,n){let i=t?this.findParentScrollableView(t):this.containerViewChild.nativeElement,r=ag.findSingle(i,".p-datatable-scrollable-body")||ag.findSingle(i,"cdk-virtual-scroll-viewport"),s=ag.findSingle(i,".p-datatable-scrollable-header"),o=ag.findSingle(i,".p-datatable-scrollable-footer"),l=ag.findSingle(r,".p-datatable-scrollable-body table")||ag.findSingle(i,"cdk-virtual-scroll-viewport table"),a=ag.findSingle(s,"table.p-datatable-scrollable-header-table"),u=ag.findSingle(o,"table.p-datatable-scrollable-footer-table");const c=t?l.offsetWidth+n:e,h=t?a.offsetWidth+n:e,d=this.containerViewChild.nativeElement.offsetWidth>=c;let p=(t,e,n,i)=>{t&&e&&(t.style.width=i?n+ag.calculateScrollbarWidth(r)+"px":"auto",e.style.width=n+"px")};if(p(r,l,c,d),p(s,a,h,d),p(o,u,h,d),t){let n=ag.index(t);this.resizeColGroup(a,n,e,null),this.resizeColGroup(l,n,e,null),this.resizeColGroup(u,n,e,null)}}findParentScrollableView(t){if(t){let e=t.parentElement;for(;e&&!ag.hasClass(e,"p-datatable-scrollable-view");)e=e.parentElement;return e}return null}resizeColGroup(t,e,n,i){if(t){let r="COLGROUP"===t.children[0].nodeName?t.children[0]:null;if(!r)throw"Scrollable tables require a colgroup to support resizable columns";{let t=r.children[e],s=t.nextElementSibling;t.style.width=n+"px",s&&i&&(s.style.width=i+"px")}}}onColumnDragStart(t,e){this.reorderIconWidth=ag.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild.nativeElement),this.reorderIconHeight=ag.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild.nativeElement),this.draggedColumn=e,t.dataTransfer.setData("text","b")}onColumnDragEnter(t,e){if(this.reorderableColumns&&this.draggedColumn&&e){t.preventDefault();let n=ag.getOffset(this.containerViewChild.nativeElement),i=ag.getOffset(e);if(this.draggedColumn!=e){let r=ag.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),s=ag.indexWithinGroup(e,"preorderablecolumn"),o=i.left-n.left,l=i.left+e.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=i.top-n.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=i.top-n.top+e.offsetHeight+"px",t.pageX>l?(this.reorderIndicatorUpViewChild.nativeElement.style.left=o+e.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=o+e.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=o-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=o-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),s-r==1&&-1===this.dropPosition||s-r==-1&&1===this.dropPosition?(this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none"):(this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block")}else t.dataTransfer.dropEffect="none"}}onColumnDragLeave(t){this.reorderableColumns&&this.draggedColumn&&(t.preventDefault(),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none")}onColumnDrop(t,e){if(t.preventDefault(),this.draggedColumn){let t=ag.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),n=ag.indexWithinGroup(e,"preorderablecolumn"),i=t!=n;i&&(n-t==1&&-1===this.dropPosition||t-n==1&&1===this.dropPosition)&&(i=!1),i&&n<t&&1===this.dropPosition&&(n+=1),i&&n>t&&-1===this.dropPosition&&(n-=1),i&&(Rf.reorderArray(this.columns,t,n),this.onColReorder.emit({dragIndex:t,dropIndex:n,columns:this.columns}),this.isStateful()&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.saveState()})})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}onRowDragStart(t,e){this.rowDragging=!0,this.draggedRowIndex=e,t.dataTransfer.setData("text","b")}onRowDragOver(t,e,n){if(this.rowDragging&&this.draggedRowIndex!==e){let i=ag.getOffset(n).top+ag.getWindowScrollTop(),r=t.pageY,s=i+ag.getOuterHeight(n)/2,o=n.previousElementSibling;r<s?(ag.removeClass(n,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=e,o?ag.addClass(o,"p-datatable-dragpoint-bottom"):ag.addClass(n,"p-datatable-dragpoint-top")):(o?ag.removeClass(o,"p-datatable-dragpoint-bottom"):ag.addClass(n,"p-datatable-dragpoint-top"),this.droppedRowIndex=e+1,ag.addClass(n,"p-datatable-dragpoint-bottom"))}}onRowDragLeave(t,e){let n=e.previousElementSibling;n&&ag.removeClass(n,"p-datatable-dragpoint-bottom"),ag.removeClass(e,"p-datatable-dragpoint-bottom"),ag.removeClass(e,"p-datatable-dragpoint-top")}onRowDragEnd(t){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null}onRowDrop(t,e){if(null!=this.droppedRowIndex){let t=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:0===this.droppedRowIndex?0:this.droppedRowIndex-1;Rf.reorderArray(this.value,this.draggedRowIndex,t),this.onRowReorder.emit({dragIndex:this.draggedRowIndex,dropIndex:t})}this.onRowDragLeave(t,e),this.onRowDragEnd(t)}isEmpty(){let t=this.filteredValue||this.value;return null==t||0==t.length}getBlockableElement(){return this.el.nativeElement.children[0]}getStorage(){switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}}isStateful(){return null!=this.stateKey}saveState(){const t=this.getStorage();let e={};this.paginator&&(e.first=this.first,e.rows=this.rows),this.sortField&&(e.sortField=this.sortField,e.sortOrder=this.sortOrder),this.multiSortMeta&&(e.multiSortMeta=this.multiSortMeta),this.hasFilter()&&(e.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(e),this.reorderableColumns&&this.saveColumnOrder(e),this.selection&&(e.selection=this.selection),Object.keys(this.expandedRowKeys).length&&(e.expandedRowKeys=this.expandedRowKeys),t.setItem(this.stateKey,JSON.stringify(e)),this.onStateSave.emit(e)}clearState(){const t=this.getStorage();this.stateKey&&t.removeItem(this.stateKey)}restoreState(){const t=this.getStorage().getItem(this.stateKey),e=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/;if(t){let n=JSON.parse(t,(function(t,n){return"string"==typeof n&&e.test(n)?new Date(n):n}));this.paginator&&(void 0!==this.first&&(this.first=n.first,this.firstChange.emit(this.first)),void 0!==this.rows&&(this.rows=n.rows,this.rowsChange.emit(this.rows))),n.sortField&&(this.restoringSort=!0,this._sortField=n.sortField,this._sortOrder=n.sortOrder),n.multiSortMeta&&(this.restoringSort=!0,this._multiSortMeta=n.multiSortMeta),n.filters&&(this.restoringFilter=!0,this.filters=n.filters),this.resizableColumns&&(this.columnWidthsState=n.columnWidths,this.tableWidthState=n.tableWidth),n.expandedRowKeys&&(this.expandedRowKeys=n.expandedRowKeys),n.selection&&Promise.resolve(null).then(()=>this.selectionChange.emit(n.selection)),this.stateRestored=!0,this.onStateRestore.emit(n)}}saveColumnWidths(t){let e=[];ag.find(this.containerViewChild.nativeElement,".p-datatable-thead > tr:first-child > th").map(t=>e.push(ag.getOuterWidth(t))),t.columnWidths=e.join(","),"expand"===this.columnResizeMode&&(t.tableWidth=this.scrollable?ag.findSingle(this.containerViewChild.nativeElement,".p-datatable-scrollable-header-table").style.width:ag.getOuterWidth(this.tableViewChild.nativeElement)+"px")}restoreColumnWidths(){if(this.columnWidthsState){let t=this.columnWidthsState.split(",");if("expand"===this.columnResizeMode&&this.tableWidthState&&(this.scrollable?this.setScrollableItemsWidthOnExpandResize(null,this.tableWidthState,0):this.tableViewChild.nativeElement.style.width=this.tableWidthState),this.scrollable){let e=ag.find(this.containerViewChild.nativeElement,".p-datatable-scrollable-header-table > colgroup > col"),n=ag.find(this.containerViewChild.nativeElement,this.virtualScroll?"cdk-virtual-scroll-viewport table > colgroup > col":".p-datatable-scrollable-body table > colgroup > col");e.map((e,n)=>e.style.width=t[n]+"px"),n.map((e,n)=>e.style.width=t[n]+"px")}else ag.find(this.tableViewChild.nativeElement,".p-datatable-thead > tr:first-child > th").map((e,n)=>e.style.width=t[n]+"px")}}saveColumnOrder(t){if(this.columns){let e=[];this.columns.map(t=>{e.push(t.field||t.key)}),t.columnOrder=e}}restoreColumnOrder(){const t=this.getStorage().getItem(this.stateKey);if(t){let e=JSON.parse(t).columnOrder;if(e){let t=[];e.map(e=>{let n=this.findColumnByKey(e);n&&t.push(n)}),this.columnOrderStateRestored=!0,this.columns=t}}}findColumnByKey(t){if(!this.columns)return null;for(let e of this.columns)if(e.key===t||e.field===t)return e}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.initialized=null}}class dg{constructor(t,e,n){this.dt=t,this.tableService=e,this.cd=n,this.subscription=this.dt.tableService.valueSource$.subscribe(()=>{this.dt.virtualScroll&&this.cd.detectChanges()})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}class pg{constructor(t,e,n){this.dt=t,this.el=e,this.zone=n}get scrollHeight(){return this._scrollHeight}set scrollHeight(t){this._scrollHeight=t,null!=t&&(t.includes("%")||t.includes("calc"))&&console.log('Percentage scroll height calculation is removed in favor of the more performant CSS based flex mode, use scrollHeight="flex" instead.'),this.dt.virtualScroll&&this.virtualScrollBody&&this.virtualScrollBody.ngOnInit()}ngAfterViewInit(){if(this.frozen)this.scrollableAlignerViewChild&&this.scrollableAlignerViewChild.nativeElement&&(this.scrollableAlignerViewChild.nativeElement.style.height=ag.calculateScrollbarHeight()+"px");else{(this.dt.frozenColumns||this.dt.frozenBodyTemplate)&&ag.addClass(this.el.nativeElement,"p-datatable-unfrozen-view");let t=this.el.nativeElement.previousElementSibling;t&&(this.frozenSiblingBody=ag.findSingle(t,this.dt.virtualScroll?".p-datatable-virtual-scrollable-body":".p-datatable-scrollable-body"));let e=ag.calculateScrollbarWidth();this.scrollHeaderBoxViewChild.nativeElement.style.paddingRight=e+"px",this.scrollFooterBoxViewChild&&this.scrollFooterBoxViewChild.nativeElement&&(this.scrollFooterBoxViewChild.nativeElement.style.paddingRight=e+"px")}this.bindEvents()}bindEvents(){this.zone.runOutsideAngular(()=>{this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.headerScrollListener=this.onHeaderScroll.bind(this),this.scrollHeaderViewChild.nativeElement.addEventListener("scroll",this.headerScrollListener)),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.footerScrollListener=this.onFooterScroll.bind(this),this.scrollFooterViewChild.nativeElement.addEventListener("scroll",this.footerScrollListener)),this.frozen||(this.bodyScrollListener=this.onBodyScroll.bind(this),this.dt.virtualScroll?this.virtualScrollBody.getElementRef().nativeElement.addEventListener("scroll",this.bodyScrollListener):this.scrollBodyViewChild.nativeElement.addEventListener("scroll",this.bodyScrollListener))})}unbindEvents(){this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&this.scrollHeaderViewChild.nativeElement.removeEventListener("scroll",this.headerScrollListener),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&this.scrollFooterViewChild.nativeElement.removeEventListener("scroll",this.footerScrollListener),this.scrollBodyViewChild&&this.scrollBodyViewChild.nativeElement&&this.scrollBodyViewChild.nativeElement.removeEventListener("scroll",this.bodyScrollListener),this.virtualScrollBody&&this.virtualScrollBody.getElementRef()&&this.virtualScrollBody.getElementRef().nativeElement.removeEventListener("scroll",this.bodyScrollListener)}onHeaderScroll(){const t=this.scrollHeaderViewChild.nativeElement.scrollLeft;this.scrollBodyViewChild.nativeElement.scrollLeft=t,this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.scrollFooterViewChild.nativeElement.scrollLeft=t),this.preventBodyScrollPropagation=!0}onFooterScroll(){const t=this.scrollFooterViewChild.nativeElement.scrollLeft;this.scrollBodyViewChild.nativeElement.scrollLeft=t,this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.scrollHeaderViewChild.nativeElement.scrollLeft=t),this.preventBodyScrollPropagation=!0}onBodyScroll(t){this.preventBodyScrollPropagation?this.preventBodyScrollPropagation=!1:(this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.scrollHeaderBoxViewChild.nativeElement.style.marginLeft=-1*t.target.scrollLeft+"px"),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.scrollFooterBoxViewChild.nativeElement.style.marginLeft=-1*t.target.scrollLeft+"px"),this.frozenSiblingBody&&(this.frozenSiblingBody.scrollTop=t.target.scrollTop))}onScrollIndexChange(t){this.dt.lazy&&(this.virtualScrollTimeout&&clearTimeout(this.virtualScrollTimeout),this.virtualScrollTimeout=setTimeout(()=>{let e=Math.floor(t/this.dt.rows),n=0===e?0:(e-1)*this.dt.rows,i=0===e?2*this.dt.rows:3*this.dt.rows;e!==this.virtualPage&&(this.virtualPage=e,this.dt.onLazyLoad.emit({first:n,rows:i,sortField:this.dt.sortField,sortOrder:this.dt.sortOrder,filters:this.dt.filters,globalFilter:this.dt.filters&&this.dt.filters.global?this.dt.filters.global.value:null,multiSortMeta:this.dt.multiSortMeta}))},this.dt.virtualScrollDelay))}getPageCount(){let t=this.dt.filteredValue||this.dt.value;return Math.ceil((t?t.length:0)/this.dt.rows)}scrollToVirtualIndex(t){this.virtualScrollBody&&this.virtualScrollBody.scrollToIndex(t)}scrollTo(t){this.virtualScrollBody?this.virtualScrollBody.scrollTo(t):this.scrollBodyViewChild.nativeElement.scrollTo?this.scrollBodyViewChild.nativeElement.scrollTo(t):(this.scrollBodyViewChild.nativeElement.scrollLeft=t.left,this.scrollBodyViewChild.nativeElement.scrollTop=t.top)}ngOnDestroy(){this.unbindEvents(),this.frozenSiblingBody=null}}class fg{constructor(t){this.dt=t,this.isEnabled()&&(this.subscription=this.dt.tableService.sortSource$.subscribe(t=>{this.updateSortState()}))}ngOnInit(){this.isEnabled()&&this.updateSortState()}updateSortState(){this.sorted=this.dt.isSorted(this.field),this.sortOrder=this.sorted?1===this.dt.sortOrder?"ascending":"descending":"none"}onClick(t){this.isEnabled()&&!this.isFilterElement(t.target)&&(this.updateSortState(),this.dt.sort({originalEvent:t,field:this.field}),ag.clearSelection())}onEnterKey(t){this.onClick(t)}isEnabled(){return!0!==this.pSortableColumnDisabled}isFilterElement(t){return ag.hasClass(t,"pi-filter-icon")||ag.hasClass(t,"p-column-filter-menu-button")}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}class gg{constructor(t,e){this.dt=t,this.cd=e,this.subscription=this.dt.tableService.sortSource$.subscribe(t=>{this.updateSortState()})}ngOnInit(){this.updateSortState()}onClick(t){t.preventDefault()}updateSortState(){if("single"===this.dt.sortMode)this.sortOrder=this.dt.isSorted(this.field)?this.dt.sortOrder:0;else if("multiple"===this.dt.sortMode){let t=this.dt.getSortMeta(this.field);this.sortOrder=t?t.order:0}this.cd.markForCheck()}getMultiSortMetaIndex(){let t=this.dt._multiSortMeta,e=-1;if(t&&"multiple"===this.dt.sortMode)for(let n=0;n<t.length;n++){let i=t[n];if(i.field===this.field||i.field===this.field){e=n;break}}return e}isMultiSorted(){return"multiple"===this.dt.sortMode&&this.getMultiSortMetaIndex()>-1}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}class mg{}class yg extends H{constructor(t,e){super(t),this.sources=e,this.completed=0,this.haveValues=0;const n=e.length;this.values=new Array(n);for(let i=0;i<n;i++){const t=j(this,e[i],null,i);t&&this.add(t)}}notifyNext(t,e,n,i,r){this.values[n]=e,r._hasValue||(r._hasValue=!0,this.haveValues++)}notifyComplete(t){const{destination:e,haveValues:n,values:i}=this,r=i.length;t._hasValue?(this.completed++,this.completed===r&&(n===r&&e.next(i),e.complete())):e.complete()}}const _g=new Tt("NgValueAccessor"),vg=new Tt("CompositionEventMode");class bg{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=wu()?wu().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}class wg{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Cg extends wg{get formDirective(){return null}get path(){return null}}function Sg(){throw new Error("unimplemented")}class Eg extends wg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return Sg()}get asyncValidator(){return Sg()}}class xg{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}class Tg extends xg{constructor(t){super(t)}}class kg extends xg{constructor(t){super(t)}}function Ig(t){return null==t||0===t.length}const Og=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Pg{static min(t){return e=>{if(Ig(e.value)||Ig(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Ig(e.value)||Ig(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Ig(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Ig(t.value)||Og.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(Ig(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return Pg.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Ig(t.value))return null;const i=t.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Rg);return 0==e.length?null:function(t){return Ag(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Rg);return 0==e.length?null:function(t){return function t(...e){let n;return"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&a(e[0])&&(e=e[0]),0===e.length?Ta:n?t(e).pipe(U(t=>n(...t))):new w(t=>new yg(t,e))}(function(t,e){return e.map(e=>e(t))}(t,e).map(Dg)).pipe(U(Ag))}}}function Rg(t){return null!=t}function Dg(t){const e=We(t)?$(t):t;if(!qe(e))throw new Error("Expected validator to return Promise or Observable.");return e}function Ag(t){const e=t.reduce((t,e)=>null!=e?Object.assign({},t,e):t,{});return 0===Object.keys(e).length?null:e}function Ng(t){return t.validate?e=>t.validate(e):t}function Lg(t){return t.validate?e=>t.validate(e):t}class Fg{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}const Mg='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Vg='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';function zg(t,e){return[...e.path,t]}function jg(t,e){t||Ug(e,"Cannot find control with"),e.valueAccessor||Ug(e,"No value accessor for form control with"),t.validator=Pg.compose([t.validator,e.validator]),t.asyncValidator=Pg.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Hg(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Hg(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function Hg(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Ug(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function Bg(t){return null!=t?Pg.compose(t.map(Ng)):null}function Wg(t){return null!=t?Pg.composeAsync(t.map(Lg)):null}const qg=[class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=ze}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=ze}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const i=t.item(e),r=this._getOptionValue(i.value);n.push(r)}}else{const t=e.options;for(let e=0;e<t.length;e++){const i=t.item(e);if(i.selected){const t=this._getOptionValue(i.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},class{constructor(t,e,n,i){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=i,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Eg),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}];function $g(t){const e=Gg(t)?t.validators:t;return Array.isArray(e)?Bg(e):e||null}function Qg(t,e){const n=Gg(e)?e.asyncValidators:t;return Array.isArray(n)?Wg(n):n||null}function Gg(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Kg{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=$g(t)}setAsyncValidators(t){this.asyncValidator=Qg(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=Dg(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce((t,e)=>t instanceof Yg?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof Xg&&t.at(e)||null,t))}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new xr,this.statusChanges=new xr}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Gg(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Zg extends Kg{constructor(t=null,e,n){super($g(e),Qg(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Yg extends Kg{constructor(t,e,n){super($g(e),Qg(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Zg?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,i)=>{e=e||this.contains(i)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,i)=>{n=e(n,t,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Xg extends Kg{constructor(t,e,n){super($g(e),Qg(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Zg?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Jg=(()=>Promise.resolve(null))();class tm extends Cg{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new xr,this.form=new Yg({},Bg(t),Wg(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Jg.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),jg(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Jg.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),function(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this._directives,t)})}addFormGroup(t){Jg.then(()=>{const e=this._findContainer(t.path),n=new Yg({});(function(t,e){null==t&&Ug(e,"Cannot find control with"),t.validator=Pg.compose([t.validator,e.validator]),t.asyncValidator=Pg.composeAsync([t.asyncValidator,e.asyncValidator])})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Jg.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Jg.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}class em{static modelParentException(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${Mg}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${Vg}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${Mg}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${Vg}`)}static ngFormWarning(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")}}const nm=new Tt("NgFormSelectorWarning");class im extends Cg{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return zg(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Bg(this._validators)}get asyncValidator(){return Wg(this._asyncValidators)}_checkParentType(){}}class rm extends im{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof rm||this._parent instanceof tm||em.modelGroupParentException()}}const sm=(()=>Promise.resolve(null))();class om extends Eg{constructor(t,e,n,i){super(),this.control=new Zg,this._registered=!1,this.update=new xr,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||Ug(t,"Value accessor was not provided as an array for form control with");let n=void 0,i=void 0,r=void 0;return e.forEach(e=>{var s;e.constructor===bg?n=e:(s=e,qg.some(t=>s.constructor===t)?(i&&Ug(t,"More than one built-in value accessor matches form control with"),i=e):(r&&Ug(t,"More than one custom value accessor matches form control with"),r=e))}),r||i||n||(Ug(t,"No valid value accessor for form control with"),null)}(this,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!ze(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?zg(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Bg(this._rawValidators)}get asyncValidator(){return Wg(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){jg(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof rm)&&this._parent instanceof im?em.formGroupNameException():this._parent instanceof rm||this._parent instanceof tm||em.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||em.missingNameException()}_updateValue(t){sm.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;sm.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}class lm{}class am{}class um{static withConfig(t){return{ngModule:um,providers:[{provide:nm,useValue:t.warnOnDeprecatedNgFormSelector}]}}}const cm=new Tt("cdk-dir-doc",{providedIn:"root",factory:function(){return Nt(ya)}});let hm,dm=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new xr,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.ngInjectableDef=ft({factory:function(){return new t(At(cm,8))},token:t,providedIn:"root"}),t})();class pm{}try{hm="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(Bx){hm=!1}let fm,gm=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!hm)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.ngInjectableDef=ft({factory:function(){return new t(At(Nr,8))},token:t,providedIn:"root"}),t})();class mm{}function ym(t){return function(){if(null==fm&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>fm=!0}))}finally{fm=fm||!1}return fm}()?t:!!t.capture}const _m=function(){var t={NORMAL:0,NEGATED:1,INVERTED:2};return t[t.NORMAL]="NORMAL",t[t.NEGATED]="NEGATED",t[t.INVERTED]="INVERTED",t}();let vm,bm;function wm(){if("object"!=typeof document||!document)return _m.NORMAL;if(!vm){const t=document.createElement("div"),e=t.style;t.dir="rtl",e.height="1px",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const n=document.createElement("div"),i=n.style;i.width="2px",i.height="1px",t.appendChild(n),document.body.appendChild(t),vm=_m.NORMAL,0===t.scrollLeft&&(t.scrollLeft=1,vm=0===t.scrollLeft?_m.NEGATED:_m.INVERTED),t.parentNode.removeChild(t)}return vm}function Cm(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function Sm(t){return Array.isArray(t)?t:[t]}function Em(t){return null==t?"":"string"==typeof t?t:t+"px"}function xm(t){return t instanceof en?t.nativeElement:t}function Tm(t,e,n,r){return i(n)&&(r=n,n=void 0),r?Tm(t,e,n).pipe(U(t=>a(t)?r(...t):r(t))):new w(i=>{!function t(e,n,i,r,s){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,i,s),o=()=>t.removeEventListener(n,i,s)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,i),o=()=>t.off(n,i)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,i),o=()=>t.removeListener(n,i)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let o=0,l=e.length;o<l;o++)t(e[o],n,i,r,s)}r.add(o)}(t,e,(function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),i,n)})}class km extends Pp{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}class Im extends Dp{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,r=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<r&&(t=e.shift()));if(this.active=!1,n){for(;++i<r&&(t=e.shift());)t.unsubscribe();throw n}}}const Om=new Im(km);class Pm{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Rm(t,this.durationSelector))}}class Rm extends H{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const i=j(this,n);!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,i){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function Dm(t){const{index:e,period:n,subscriber:i}=t;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}function Am(t,e=Ap){return n=()=>function(t=0,e,n){let i=-1;return sf(e)?i=Number(e)<1?1:Number(e):O(e)&&(n=e),O(n)||(n=Ap),new w(e=>{const r=sf(t)?t:+t-n.now();return n.schedule(Dm,r,{index:0,period:i,subscriber:e})})}(t,e),function(t){return t.lift(new Pm(n))};var n}function Nm(t){return e=>e.lift(new Lm(t))}class Lm{constructor(t){this.notifier=t}call(t,e){const n=new Fm(t),i=j(n,this.notifier);return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}class Fm extends H{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,i,r){this.seenValue=!0,this.complete()}notifyComplete(){}}class Mm{call(t,e){return e.subscribe(new Vm(t))}}class Vm extends g{constructor(t){super(t),this.hasPrev=!1}_next(t){this.hasPrev?this.destination.next([this.prev,t]):this.hasPrev=!0,this.prev=t}}class zm extends k{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new jm(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,r=n.length;let s;if(this.closed)throw new E;if(this.isStopped||this.hasError?s=d.EMPTY:(this.observers.push(t),s=new x(this,t)),i&&t.add(t=new df(t,i)),e)for(let o=0;o<r&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<r&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||Yp).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,r=i.length;let s=0;for(;s<r&&!(t-i[s].time<n);)s++;return r>e&&(s=Math.max(s,r-e)),s>0&&i.splice(0,s),i}}class jm{constructor(t,e){this.time=t,this.value=e}}class Hm extends class{}{constructor(t){super(),this._data=t}connect(){return this._data instanceof w?this._data:Oa(this._data)}disconnect(){}}const Um=new Tt("VIRTUAL_SCROLL_STRATEGY");class Bm{constructor(t,e,n){this._scrolledIndexChange=new k,this.scrolledIndexChange=this._scrolledIndexChange.pipe(Lp()),this._viewport=null,this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=n}attach(t){this._viewport=t,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(t,e,n){if(n<e)throw Error("CDK virtual scroll: maxBufferPx must be greater than or equal to minBufferPx");this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=n,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(t,e){this._viewport&&this._viewport.scrollToOffset(t*this._itemSize,e)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const t=this._viewport.measureScrollOffset(),e=t/this._itemSize,n=this._viewport.getRenderedRange(),i={start:n.start,end:n.end},r=this._viewport.getViewportSize(),s=this._viewport.getDataLength(),o=t-i.start*this._itemSize;if(o<this._minBufferPx&&0!=i.start){const t=Math.ceil((this._maxBufferPx-o)/this._itemSize);i.start=Math.max(0,i.start-t),i.end=Math.min(s,Math.ceil(e+(r+this._minBufferPx)/this._itemSize))}else{const n=i.end*this._itemSize-(t+r);if(n<this._minBufferPx&&i.end!=s){const t=Math.ceil((this._maxBufferPx-n)/this._itemSize);t>0&&(i.end=Math.min(s,i.end+t),i.start=Math.max(0,Math.floor(e-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(i),this._viewport.setRenderedContentOffset(this._itemSize*i.start),this._scrolledIndexChange.next(Math.floor(e))}}function Wm(t){return t._scrollStrategy}class qm{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new Bm(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=Cm(t)}get minBufferPx(){return this._minBufferPx}set minBufferPx(t){this._minBufferPx=Cm(t)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(t){this._maxBufferPx=Cm(t)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}let $m=(()=>{class t{constructor(t,e){this._ngZone=t,this._platform=e,this._scrolled=new k,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new w(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(Am(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Oa()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Va(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,i)=>{this._scrollableContainsElement(i,t)&&e.push(i)}),e}_scrollableContainsElement(t,e){let n=e.nativeElement,i=t.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Tm(window.document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.ngInjectableDef=ft({factory:function(){return new t(At(ts),At(gm))},token:t,providedIn:"root"}),t})();class Qm{constructor(t,e,n,i){this.elementRef=t,this.scrollDispatcher=e,this.ngZone=n,this.dir=i,this._destroyed=new k,this._elementScrolled=new w(t=>this.ngZone.runOutsideAngular(()=>Tm(this.elementRef.nativeElement,"scroll").pipe(Nm(this._destroyed)).subscribe(t)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const e=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;t.left=null==t.left?n?t.end:t.start:t.left,t.right=null==t.right?n?t.start:t.end:t.right,null!=t.bottom&&(t.top=e.scrollHeight-e.clientHeight-t.bottom),n&&wm()!=_m.NORMAL?(null!=t.left&&(t.right=e.scrollWidth-e.clientWidth-t.left),wm()==_m.INVERTED?t.left=t.right:wm()==_m.NEGATED&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=e.scrollWidth-e.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const e=this.elementRef.nativeElement;"object"==typeof document&&"scrollBehavior"in document.documentElement.style?e.scrollTo(t):(null!=t.top&&(e.scrollTop=t.top),null!=t.left&&(e.scrollLeft=t.left))}measureScrollOffset(t){const e=this.elementRef.nativeElement;if("top"==t)return e.scrollTop;if("bottom"==t)return e.scrollHeight-e.clientHeight-e.scrollTop;const n=this.dir&&"rtl"==this.dir.value;return"start"==t?t=n?"right":"left":"end"==t&&(t=n?"left":"right"),n&&wm()==_m.INVERTED?"left"==t?e.scrollWidth-e.clientWidth-e.scrollLeft:e.scrollLeft:n&&wm()==_m.NEGATED?"left"==t?e.scrollLeft+e.scrollWidth-e.clientWidth:-e.scrollLeft:"left"==t?e.scrollLeft:e.scrollWidth-e.clientWidth-e.scrollLeft}}const Gm="undefined"!=typeof requestAnimationFrame?Om:rf;class Km extends Qm{constructor(t,e,n,i,r,s){if(super(t,s,n,r),this.elementRef=t,this._changeDetectorRef=e,this._scrollStrategy=i,this._detachedSubject=new k,this._renderedRangeSubject=new k,this._orientation="vertical",this.scrolledIndexChange=new w(t=>this._scrollStrategy.scrolledIndexChange.subscribe(e=>Promise.resolve().then(()=>this.ngZone.run(()=>t.next(e))))),this.renderedRangeStream=this._renderedRangeSubject.asObservable(),this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],!i)throw Error('Error: cdk-virtual-scroll-viewport requires the "itemSize" property to be set.')}get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(pu(null),Am(0,Gm)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),super.ngOnDestroy()}attach(t){if(this._forOf)throw Error("CdkVirtualScrollViewport is already attached.");this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(Nm(this._detachedSubject)).subscribe(t=>{const e=t.length;e!==this._dataLength&&(this._dataLength=e,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){var e,n;((e=this._renderedRange).start!=(n=t).start||e.end!=n.end)&&(this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,e="to-start"){const n="horizontal"==this.orientation,i=n?"X":"Y";let r=`translate${i}(${Number((n&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===e&&(r+=` translate${i}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=r&&(this._renderedContentTransform=r,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,e="auto"){const n={behavior:e};"horizontal"===this.orientation?n.start=t:n.top=t,this.scrollTo(n)}scrollToIndex(t,e="auto"){this._scrollStrategy.scrollToIndex(t,e)}measureScrollOffset(t){return super.measureScrollOffset(t||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const t=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?t.clientWidth:t.clientHeight}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this.ngZone.run(()=>this._changeDetectorRef.markForCheck()),this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform;const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const e of t)e()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":this._totalContentSize+"px",this._totalContentWidth="horizontal"===this.orientation?this._totalContentSize+"px":""}}function Zm(t,e){if(!e.getBoundingClientRect)return 0;const n=e.getBoundingClientRect();return"horizontal"==t?n.width:n.height}class Ym{constructor(t,e,n,i,r){this._viewContainerRef=t,this._template=e,this._differs=n,this._viewport=i,this.viewChange=new k,this._dataSourceChanges=new k,this.cdkVirtualForTemplateCacheSize=20,this.dataStream=this._dataSourceChanges.pipe(pu(null),t=>t.lift(new Mm),cu(([t,e])=>this._changeDataSource(t,e)),function(t,e,n){let i;return i={bufferSize:1,windowTime:void 0,refCount:!1,scheduler:void 0},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:i}){let r,s,o=0,l=!1,a=!1;return function(u){o++,r&&!l||(l=!1,r=new zm(t,e,i),s=u.subscribe({next(t){r.next(t)},error(t){l=!0,r.error(t)},complete(){a=!0,r.complete()}}));const c=r.subscribe(this);this.add(()=>{o--,c.unsubscribe(),s&&!a&&n&&0===o&&(s.unsubscribe(),s=void 0,r=void 0)})}}(i))}()),this._differ=null,this._templateCache=[],this._needsUpdate=!1,this._destroyed=new k,this.dataStream.subscribe(t=>{this._data=t,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(Nm(this._destroyed)).subscribe(t=>{this._renderedRange=t,r.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(t){this._cdkVirtualForOf=t;const e=function(t){return t&&"function"==typeof t.connect}(t)?t:new Hm(t instanceof w?t:Array.prototype.slice.call(t||[]));this._dataSourceChanges.next(e)}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(t){this._needsUpdate=!0,this._cdkVirtualForTrackBy=t?(e,n)=>t(e+(this._renderedRange?this._renderedRange.start:0),n):void 0}set cdkVirtualForTemplate(t){t&&(this._needsUpdate=!0,this._template=t)}measureRangeSize(t,e){if(t.start>=t.end)return 0;if(t.start<this._renderedRange.start||t.end>this._renderedRange.end)throw Error("Error: attempted to measure an item that isn't rendered.");const n=t.start-this._renderedRange.start;let i=0,r=t.end-t.start;for(;r--;){const t=this._viewContainerRef.get(r+n);let s=t?t.rootNodes.length:0;for(;s--;)i+=Zm(e,t.rootNodes[s])}return i}ngDoCheck(){if(this._differ&&this._needsUpdate){const t=this._differ.diff(this._renderedItems);t?this._applyChanges(t):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete();for(let t of this._templateCache)t.destroy()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create(this.cdkVirtualForTrackBy)),this._needsUpdate=!0)}_changeDataSource(t,e){return t&&t.disconnect(this),this._needsUpdate=!0,e?e.connect(this):Oa()}_updateContext(){const t=this._data.length;let e=this._viewContainerRef.length;for(;e--;){let n=this._viewContainerRef.get(e);n.context.index=this._renderedRange.start+e,n.context.count=t,this._updateComputedContextProperties(n.context),n.detectChanges()}}_applyChanges(t){t.forEachOperation((t,e,n)=>{if(null==t.previousIndex)this._insertViewForNewItem(n).context.$implicit=t.item;else if(null==n)this._cacheView(this._detachView(e));else{const i=this._viewContainerRef.get(e);this._viewContainerRef.move(i,n),i.context.$implicit=t.item}}),t.forEachIdentityChange(t=>{this._viewContainerRef.get(t.currentIndex).context.$implicit=t.item});const e=this._data.length;let n=this._viewContainerRef.length;for(;n--;){const t=this._viewContainerRef.get(n);t.context.index=this._renderedRange.start+n,t.context.count=e,this._updateComputedContextProperties(t.context)}}_cacheView(t){if(this._templateCache.length<this.cdkVirtualForTemplateCacheSize)this._templateCache.push(t);else{const e=this._viewContainerRef.indexOf(t);-1===e?t.destroy():this._viewContainerRef.remove(e)}}_insertViewForNewItem(t){return this._insertViewFromCache(t)||this._createEmbeddedViewAt(t)}_updateComputedContextProperties(t){t.first=0===t.index,t.last=t.index===t.count-1,t.even=t.index%2==0,t.odd=!t.even}_createEmbeddedViewAt(t){return this._viewContainerRef.createEmbeddedView(this._template,{$implicit:null,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},t)}_insertViewFromCache(t){const e=this._templateCache.pop();return e&&this._viewContainerRef.insert(e,t),e||null}_detachView(t){return this._viewContainerRef.detach(t)}}class Xm{}let Jm=(()=>{class t{constructor(t,e){this._platform=t,e.runOutsideAngular(()=>{this._change=t.isBrowser?X(Tm(window,"resize"),Tm(window,"orientationchange")):Oa(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=document.documentElement,e=t.getBoundingClientRect();return{top:-e.top||document.body.scrollTop||window.scrollY||t.scrollTop||0,left:-e.left||document.body.scrollLeft||window.scrollX||t.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Am(t)):this._change}_updateViewportSize(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}}}return t.ngInjectableDef=ft({factory:function(){return new t(At(gm),At(ts))},token:t,providedIn:"root"}),t})();class ty{constructor(t,e){this.el=t,this.zone=e,this.tooltipPosition="right",this.tooltipEvent="hover",this.appendTo="body",this.tooltipZIndex="auto",this.escape=!0}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{"hover"===this.tooltipEvent?(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener)):"focus"===this.tooltipEvent&&(this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this),this.el.nativeElement.addEventListener("focus",this.focusListener),this.el.nativeElement.addEventListener("blur",this.blurListener))})}onMouseEnter(t){this.container||this.showTimeout||this.activate()}onMouseLeave(t){this.deactivate()}onFocus(t){this.activate()}onBlur(t){this.deactivate()}onClick(t){this.deactivate()}activate(){this.active=!0,this.clearHideTimeout(),this.showDelay?this.showTimeout=setTimeout(()=>{this.show()},this.showDelay):this.show(),this.life&&(this.hideTimeout=setTimeout(()=>{this.hide()},this.showDelay?this.life+this.showDelay:this.life))}deactivate(){this.active=!1,this.clearShowTimeout(),this.hideDelay?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.hideDelay)):this.hide()}get text(){return this._text}set text(t){this._text=t,this.active&&(this._text?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let t=document.createElement("div");t.className="p-tooltip-arrow",this.container.appendChild(t),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.positionStyle&&(this.container.style.position=this.positionStyle),this.container.appendChild(this.tooltipText),"body"===this.appendTo?document.body.appendChild(this.container):ag.appendChild(this.container,"target"===this.appendTo?this.el.nativeElement:this.appendTo),this.container.style.display="inline-block"}show(){this.text&&!this.disabled&&(this.create(),this.align(),ag.fadeIn(this.container,250),this.container.style.zIndex="auto"===this.tooltipZIndex?++ag.zindex:this.tooltipZIndex,this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){this.remove()}updateText(){this.escape?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this._text))):this.tooltipText.innerHTML=this._text}align(){switch(this.tooltipPosition){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.appendTo||"target"===this.appendTo){let t=this.el.nativeElement.getBoundingClientRect();return{left:t.left+ag.getWindowScrollLeft(),top:t.top+ag.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let t=this.getHostOffset(),e=t.left+ag.getOuterWidth(this.el.nativeElement),n=t.top+(ag.getOuterHeight(this.el.nativeElement)-ag.getOuterHeight(this.container))/2;this.container.style.left=e+"px",this.container.style.top=n+"px"}alignLeft(){this.preAlign("left");let t=this.getHostOffset(),e=t.left-ag.getOuterWidth(this.container),n=t.top+(ag.getOuterHeight(this.el.nativeElement)-ag.getOuterHeight(this.container))/2;this.container.style.left=e+"px",this.container.style.top=n+"px"}alignTop(){this.preAlign("top");let t=this.getHostOffset(),e=t.left+(ag.getOuterWidth(this.el.nativeElement)-ag.getOuterWidth(this.container))/2,n=t.top-ag.getOuterHeight(this.container);this.container.style.left=e+"px",this.container.style.top=n+"px"}alignBottom(){this.preAlign("bottom");let t=this.getHostOffset(),e=t.left+(ag.getOuterWidth(this.el.nativeElement)-ag.getOuterWidth(this.container))/2,n=t.top+ag.getOuterHeight(this.el.nativeElement);this.container.style.left=e+"px",this.container.style.top=n+"px"}preAlign(t){this.container.style.left="-999px",this.container.style.top="-999px";let e="p-tooltip p-component p-tooltip-"+t;this.container.className=this.tooltipStyleClass?e+" "+this.tooltipStyleClass:e}isOutOfBounds(){let t=this.container.getBoundingClientRect(),e=t.top,n=t.left,i=ag.getOuterWidth(this.container),r=ag.getOuterHeight(this.container),s=ag.getViewport();return n+i>s.width||n<0||e<0||e+r>s.height}onWindowResize(t){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new ug(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){"hover"===this.tooltipEvent?(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)):"focus"===this.tooltipEvent&&(this.el.nativeElement.removeEventListener("focus",this.focusListener),this.el.nativeElement.removeEventListener("blur",this.blurListener)),this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.appendTo?document.body.removeChild(this.container):"target"===this.appendTo?this.el.nativeElement.removeChild(this.container):ag.removeChild(this.container,this.appendTo)),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}class ey{}class ny{constructor(t,e,n){this.el=t,this.zone=e,this.config=n}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(t){let e=this.getInk();if(!e||"none"===getComputedStyle(e,null).display)return;if(ag.removeClass(e,"p-ink-active"),!ag.getHeight(e)&&!ag.getWidth(e)){let t=Math.max(ag.getOuterWidth(this.el.nativeElement),ag.getOuterHeight(this.el.nativeElement));e.style.height=t+"px",e.style.width=t+"px"}let n=ag.getOffset(this.el.nativeElement),i=t.pageX-n.left+document.body.scrollTop-ag.getWidth(e)/2,r=t.pageY-n.top+document.body.scrollLeft-ag.getHeight(e)/2;e.style.top=r+"px",e.style.left=i+"px",ag.addClass(e,"p-ink-active")}getInk(){for(let t=0;t<this.el.nativeElement.children.length;t++)if(-1!==this.el.nativeElement.children[t].className.indexOf("p-ink"))return this.el.nativeElement.children[t];return null}resetInk(){let t=this.getInk();t&&ag.removeClass(t,"p-ink-active")}onAnimationEnd(t){ag.removeClass(t.currentTarget,"p-ink-active")}create(){let t=document.createElement("span");t.className="p-ink",this.el.nativeElement.appendChild(t),this.animationListener=this.onAnimationEnd.bind(this),t.addEventListener("animationend",this.animationListener)}remove(){let t=this.getInk();t&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),t.removeEventListener("animationend",this.animationListener),ag.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}class iy{}class ry{constructor(){this.onClick=new xr}onOptionClick(t){this.onClick.emit({originalEvent:t,option:this.option})}}class sy{constructor(t,e,n,i,r){this.el=t,this.renderer=e,this.cd=n,this.zone=i,this.filterService=r,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="No results found",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.onChange=new xr,this.onFilter=new xr,this.onFocus=new xr,this.onBlur=new xr,this.onClick=new xr,this.onShow=new xr,this.onHide=new xr,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.viewPortOffsetTop=0}get disabled(){return this._disabled}set disabled(t){t&&(this.focused=!1),this._disabled=t,this.cd.destroyed||this.cd.detectChanges()}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":this.itemTemplate=t.template;break;case"selectedItem":this.selectedItemTemplate=t.template;break;case"group":this.groupTemplate=t.template;break;default:this.itemTemplate=t.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null)}get options(){return this._options}set options(t){this._options=t,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.optionsChanged=!0,this.updateFilledState(),this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(t){this._filterValue=t,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(t){return this.optionLabel?Rf.resolveFieldData(t,this.optionLabel):null!=t.label?t.label:t}getOptionValue(t){return this.optionValue?Rf.resolveFieldData(t,this.optionValue):this.optionLabel||void 0===t.value?t:t.value}isOptionDisabled(t){return this.optionDisabled?Rf.resolveFieldData(t,this.optionDisabled):void 0!==t.disabled&&t.disabled}getOptionGroupLabel(t){return this.optionGroupLabel?Rf.resolveFieldData(t,this.optionGroupLabel):null!=t.label?t.label:t}getOptionGroupChildren(t){return this.optionGroupChildren?Rf.resolveFieldData(t,this.optionGroupChildren):t.items}onItemClick(t){const e=t.option;this.isOptionDisabled(e)||(this.selectItem(t,e),this.accessibleViewChild.nativeElement.focus()),setTimeout(()=>{this.hide(t)},150)}selectItem(t,e){this.selectedOption!=e&&(this.selectedOption=e,this.value=this.getOptionValue(e),this.filled=!0,this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:t.originalEvent,value:this.value}),this.virtualScroll&&setTimeout(()=>{this.viewPortOffsetTop=this.viewPort?this.viewPort.measureScrollOffset():0},1))}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.virtualScroll&&this.updateVirtualScrollSelectedIndex(!0),this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){if(this.virtualScroll&&this.viewPort){let t=this.viewPort.getRenderedRange();this.updateVirtualScrollSelectedIndex(!1),(t.start>this.virtualScrollSelectedIndex||t.end<this.virtualScrollSelectedIndex)&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)}ag.findSingle(this.overlay,"li.p-highlight")&&ag.scrollInView(this.itemsWrapper,ag.findSingle(this.overlay,"li.p-highlight")),this.selectedOptionUpdated=!1}}writeValue(t){this.filter&&this.resetFilter(),this.value=t,this.updateSelectedOption(t),this.updateEditableLabel(),this.updateFilledState(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(t){this.selectedOption=this.findOption(t,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.optionsToDisplay[0]),this.selectedOptionUpdated=!0}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onMouseclick(t){this.disabled||this.readonly||this.isInputClick(t)||(this.onClick.emit(t),this.accessibleViewChild.nativeElement.focus(),this.overlayVisible?this.hide(t):this.show(),this.cd.detectChanges())}isInputClick(t){return ag.hasClass(t.target,"p-dropdown-clear-icon")||t.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&t.target.isSameNode(this.editableInputViewChild.nativeElement)}isOutsideClicked(t){return!(this.el.nativeElement.isSameNode(t.target)||this.el.nativeElement.contains(t.target)||this.overlay&&this.overlay.contains(t.target))}onEditableInputClick(){this.bindDocumentClickListener()}onEditableInputFocus(t){this.focused=!0,this.hide(t),this.onFocus.emit(t)}onEditableInputChange(t){this.value=t.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value})}show(){this.overlayVisible=!0}onOverlayAnimationStart(t){switch(t.toState){case"visible":if(this.overlay=t.element,this.itemsWrapper=ag.findSingle(this.overlay,this.virtualScroll?".cdk-virtual-scroll-viewport":".p-dropdown-items-wrapper"),this.appendOverlay(),this.autoZIndex&&(this.overlay.style.zIndex=String(this.baseZIndex+ ++ag.zindex)),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.options&&this.options.length&&!this.virtualScroll){let t=ag.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");t&&ag.scrollInView(this.itemsWrapper,t)}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(t);break;case"void":this.onOverlayHide()}}scrollToSelectedVirtualScrollElement(){this.virtualAutoScrolled||(this.viewPortOffsetTop?this.viewPort.scrollToOffset(this.viewPortOffsetTop):this.virtualScrollSelectedIndex>-1&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)),this.virtualAutoScrolled=!0}updateVirtualScrollSelectedIndex(t){this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&(t&&(this.viewPortOffsetTop=0),this.virtualScrollSelectedIndex=this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay))}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):ag.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=ag.getWidth(this.containerViewChild.nativeElement)+"px"))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}hide(t){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.virtualScroll&&(this.virtualAutoScrolled=!1),this.cd.markForCheck(),this.onHide.emit(t)}alignOverlay(){this.overlay&&(this.appendTo?ag.absolutePosition(this.overlay,this.containerViewChild.nativeElement):ag.relativePosition(this.overlay,this.containerViewChild.nativeElement))}onInputFocus(t){this.focused=!0,this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.onBlur.emit(t),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(t){let e;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let n=t-1;0<=n;n--){let t=this.optionsToDisplay[n];if(!t.disabled){e=t;break}}if(!e)for(let n=this.optionsToDisplay.length-1;n>=t;n--){let t=this.optionsToDisplay[n];if(!this.isOptionDisabled(t)){e=t;break}}}return e}findNextEnabledOption(t){let e;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let n=t+1;t<this.optionsToDisplay.length-1;n++){let t=this.optionsToDisplay[n];if(!this.isOptionDisabled(t)){e=t;break}}if(!e)for(let n=0;n<t;n++){let t=this.optionsToDisplay[n];if(!this.isOptionDisabled(t)){e=t;break}}}return e}onKeydown(t,e){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(t.which){case 40:if(!this.overlayVisible&&t.altKey)this.show();else if(this.group){let e=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==e){let n=e.itemIndex+1;n<this.getOptionGroupChildren(this.optionsToDisplay[e.groupIndex]).length?(this.selectItem(t,this.getOptionGroupChildren(this.optionsToDisplay[e.groupIndex])[n]),this.selectedOptionUpdated=!0):this.optionsToDisplay[e.groupIndex+1]&&(this.selectItem(t,this.getOptionGroupChildren(this.optionsToDisplay[e.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.selectItem(t,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let e=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,n=this.findNextEnabledOption(e);n&&(this.selectItem(t,n),this.selectedOptionUpdated=!0)}t.preventDefault();break;case 38:if(this.group){let e=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==e){let n=e.itemIndex-1;if(n>=0)this.selectItem(t,this.getOptionGroupChildren(this.optionsToDisplay[e.groupIndex])[n]),this.selectedOptionUpdated=!0;else if(n<0){let n=this.optionsToDisplay[e.groupIndex-1];n&&(this.selectItem(t,this.getOptionGroupChildren(n)[this.getOptionGroupChildren(n).length-1]),this.selectedOptionUpdated=!0)}}}else{let e=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,n=this.findPrevEnabledOption(e);n&&(this.selectItem(t,n),this.selectedOptionUpdated=!0)}t.preventDefault();break;case 32:case 32:this.overlayVisible||(this.show(),t.preventDefault());break;case 13:(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)&&this.hide(t),t.preventDefault();break;case 27:case 9:this.hide(t);break;default:e&&this.search(t)}}search(t){this.searchTimeout&&clearTimeout(this.searchTimeout);const e=t.key;let n;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=e,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+e:e,this.group){let t=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};n=this.searchOptionWithinGroup(t)}else{let t=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;n=this.searchOption(++t)}n&&!this.isOptionDisabled(n)&&(this.selectItem(t,n),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(t){let e;return this.searchValue&&(e=this.searchOptionInRange(t,this.optionsToDisplay.length),e||(e=this.searchOptionInRange(0,t))),e}searchOptionInRange(t,e){for(let n=t;n<e;n++){let t=this.optionsToDisplay[n];if(this.getOptionLabel(t).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(t))return t}return null}searchOptionWithinGroup(t){if(this.searchValue){for(let e=t.groupIndex;e<this.optionsToDisplay.length;e++)for(let n=t.groupIndex===e?t.itemIndex+1:0;n<this.getOptionGroupChildren(this.optionsToDisplay[e]).length;n++){let t=this.getOptionGroupChildren(this.optionsToDisplay[e])[n];if(this.getOptionLabel(t).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(t))return t}for(let e=0;e<=t.groupIndex;e++)for(let n=0;n<(t.groupIndex===e?t.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[e]).length);n++){let t=this.getOptionGroupChildren(this.optionsToDisplay[e])[n];if(this.getOptionLabel(t).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(t))return t}}return null}findOptionIndex(t,e){let n=-1;if(e)for(let i=0;i<e.length;i++)if(null==t&&null==this.getOptionValue(e[i])||Rf.equals(t,this.getOptionValue(e[i]),this.dataKey)){n=i;break}return n}findOptionGroupIndex(t,e){let n,i;if(e)for(let r=0;r<e.length&&(n=r,i=this.findOptionIndex(t,this.getOptionGroupChildren(e[r])),-1===i);r++);return-1!==i?{groupIndex:n,itemIndex:i}:-1}findOption(t,e,n){if(this.group&&!n){let n;if(e&&e.length)for(let i of e)if(n=this.findOption(t,this.getOptionGroupChildren(i),!0),n)break;return n}{let n=this.findOptionIndex(t,e);return-1!=n?e[n]:null}}onFilterInputChange(t){let e=t.target.value;e&&e.length?(this._filterValue=e,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.optionsChanged=!0,this.onFilter.emit({originalEvent:t,filter:this._filterValue})}activateFilter(){let t=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let e=[];for(let n of this.options){let i=this.filterService.filter(this.getOptionGroupChildren(n),t,this.filterValue,this.filterMatchMode,this.filterLocale);i&&i.length&&e.push(Object.assign(Object.assign({},n),{[this.optionGroupChildren]:i}))}this.optionsToDisplay=e}else this.optionsToDisplay=this.filterService.filter(this.options,t,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?ag.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():ag.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",t=>{this.isOutsideClicked(t)&&(this.hide(t),this.unbindDocumentClickListener()),this.cd.markForCheck()}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){ag.isAndroid()||this.hide(event)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new ug(this.containerViewChild.nativeElement,t=>{this.overlayVisible&&this.hide(t)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}updateFilledState(){this.filled=null!=this.selectedOption}clear(t){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.updateFilledState()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.itemsWrapper=null,this.onModelTouched()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.restoreOverlayAppend(),this.onOverlayHide()}}class oy{}class ly{constructor(t){this.cd=t,this.pageLinkSize=5,this.onPageChange=new xr,this.alwaysShow=!0,this.dropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.totalRecords=0,this.rows=0,this.showPageLinks=!0,this._first=0,this._page=0}ngOnInit(){this.updatePaginatorState()}ngOnChanges(t){t.totalRecords&&(this.updatePageLinks(),this.updatePaginatorState(),this.updateFirst(),this.updateRowsPerPageOptions()),t.first&&(this._first=t.first.currentValue,this.updatePageLinks(),this.updatePaginatorState()),t.rows&&(this.updatePageLinks(),this.updatePaginatorState()),t.rowsPerPageOptions&&this.updateRowsPerPageOptions()}get first(){return this._first}set first(t){this._first=t}updateRowsPerPageOptions(){if(this.rowsPerPageOptions){this.rowsPerPageItems=[];for(let t of this.rowsPerPageOptions)"object"==typeof t&&t.showAll?this.rowsPerPageItems.unshift({label:t.showAll,value:this.totalRecords}):this.rowsPerPageItems.push({label:String(t),value:t})}}isFirstPage(){return 0===this.getPage()}isLastPage(){return this.getPage()===this.getPageCount()-1}getPageCount(){return Math.ceil(this.totalRecords/this.rows)||1}calculatePageLinkBoundaries(){let t=this.getPageCount(),e=Math.min(this.pageLinkSize,t),n=Math.max(0,Math.ceil(this.getPage()-e/2)),i=Math.min(t-1,n+e-1);return n=Math.max(0,n-(this.pageLinkSize-(i-n+1))),[n,i]}updatePageLinks(){this.pageLinks=[];let t=this.calculatePageLinkBoundaries(),e=t[1];for(let n=t[0];n<=e;n++)this.pageLinks.push(n+1);if(this.showJumpToPageDropdown){this.pageItems=[];for(let t=0;t<this.getPageCount();t++)this.pageItems.push({label:String(t+1),value:t})}}changePage(t){var e=this.getPageCount();if(t>=0&&t<e){this._first=this.rows*t;var n={page:t,first:this.first,rows:this.rows,pageCount:e};this.updatePageLinks(),this.onPageChange.emit(n),this.updatePaginatorState()}}updateFirst(){const t=this.getPage();t>0&&this.totalRecords&&this.first>=this.totalRecords&&Promise.resolve(null).then(()=>this.changePage(t-1))}getPage(){return Math.floor(this.first/this.rows)}changePageToFirst(t){this.isFirstPage()||this.changePage(0),t.preventDefault()}changePageToPrev(t){this.changePage(this.getPage()-1),t.preventDefault()}changePageToNext(t){this.changePage(this.getPage()+1),t.preventDefault()}changePageToLast(t){this.isLastPage()||this.changePage(this.getPageCount()-1),t.preventDefault()}onPageLinkClick(t,e){this.changePage(e),t.preventDefault()}onRppChange(t){this.changePage(this.getPage())}onPageDropdownChange(t){this.changePage(t.value)}updatePaginatorState(){this.paginatorState={page:this.getPage(),pageCount:this.getPageCount(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}}get currentPageReport(){return this.currentPageReportTemplate.replace("{currentPage}",String(this.getPage()+1)).replace("{totalPages}",String(this.getPageCount())).replace("{first}",String(this.totalRecords>0?this._first+1:0)).replace("{last}",String(Math.min(this._first+this.rows,this.totalRecords))).replace("{rows}",String(this.rows)).replace("{totalRecords}",String(this.totalRecords))}}class ay{}class uy{}class cy{constructor(t){this.el=t,this.iconPos="left"}ngAfterViewInit(){if(this._initialStyleClass=this.el.nativeElement.className,ag.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),this.icon){let t=document.createElement("span");t.className="p-button-icon",t.setAttribute("aria-hidden","true");let e=this.label?"p-button-icon-"+this.iconPos:null;e&&ag.addClass(t,e),ag.addMultipleClasses(t,this.icon),this.el.nativeElement.appendChild(t)}let t=document.createElement("span");this.icon&&!this.label&&t.setAttribute("aria-hidden","true"),t.className="p-button-label",this.label?t.appendChild(document.createTextNode(this.label)):t.innerHTML="&nbsp;",this.el.nativeElement.appendChild(t),this.initialized=!0}getStyleClass(){let t="p-button p-component";return this.icon&&!this.label&&(t+=" p-button-icon-only"),t}setStyleClass(){let t=this.getStyleClass();this.el.nativeElement.className=t+" "+this._initialStyleClass}get label(){return this._label}set label(t){this._label=t,this.initialized&&(ag.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",this.setStyleClass())}get icon(){return this._icon}set icon(t){this._icon=t,this.initialized&&(ag.findSingle(this.el.nativeElement,".p-button-icon").className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this._icon:"p-button-icon "+this._icon,this.setStyleClass())}ngOnDestroy(){this.initialized=!1}}class hy{constructor(){this.type="button",this.iconPos="left",this.onClick=new xr,this.onFocus=new xr,this.onBlur=new xr}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"content":default:this.contentTemplate=t.template}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}}class dy{}class py{}class fy{}class gy{}class my{}var yy=qn({encapsulation:2,styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:0}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:0}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}"],data:{}});function _y(t){return to(2,[Bs(402653184,1,{_contentWrapper:0}),(t()(),Vs(1,0,[[1,0],["contentWrapper",1]],null,1,"div",[["class","cdk-virtual-scroll-content-wrapper"]],null,null,null,null,null)),Gs(null,0),(t()(),Vs(3,0,null,null,0,"div",[["class","cdk-virtual-scroll-spacer"]],[[4,"width",null],[4,"height",null]],null,null,null,null))],null,(function(t,e){var n=e.component;t(e,3,0,n._totalContentWidth,n._totalContentHeight)}))}var vy=qn({encapsulation:2,styles:[],data:{}});function by(t){return to(0,[(t()(),Vs(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ys(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.component.label||"empty")}))}function wy(t){return to(0,[(t()(),Vs(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Cy(t){return to(0,[(t()(),Vs(0,0,null,null,12,"li",[["pRipple",""],["role","option"]],[[1,"aria-label",0],[1,"aria-selected",0],[2,"p-ripple",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onOptionClick(n)&&i),i}),null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(2,278528,null,0,Jl,[Zl],{ngClass:[0,"ngClass"]},null),Zs(3,{"p-dropdown-item":0,"p-highlight":1,"p-disabled":2}),rr(512,null,oa,la,[en,Cn,ln]),nr(5,278528,null,0,ua,[oa],{ngStyle:[0,"ngStyle"]},null),Zs(6,{height:0}),nr(7,4341760,null,0,ny,[en,ts,[2,Nf]],null,null),(t()(),Ms(16777216,null,null,1,null,by)),nr(9,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,2,null,wy)),nr(11,540672,null,0,ca,[In],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Zs(12,{$implicit:0})],(function(t,e){var n=e.component,i=t(e,3,0,!0,n.selected,n.disabled);t(e,2,0,i);var r=t(e,6,0,n.itemSize+"px");t(e,5,0,r),t(e,9,0,!n.template);var s=t(e,12,0,n.option);t(e,11,0,s,n.template)}),(function(t,e){var n=e.component;t(e,0,0,n.label,n.selected,!0)}))}var Sy=qn({encapsulation:2,styles:[".p-dropdown{-ms-user-select:none;-webkit-user-select:none;cursor:pointer;display:inline-flex;position:relative;user-select:none}.p-dropdown-clear-icon{margin-top:-.5rem;position:absolute;top:50%}.p-dropdown-trigger{align-items:center;display:flex;flex-shrink:0;justify-content:center}.p-dropdown-label{cursor:pointer;display:block;flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:1%}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-panel{position:absolute}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;overflow:hidden;position:relative;white-space:nowrap}.p-dropdown-items{list-style-type:none;margin:0;padding:0}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{margin-top:-.5rem;position:absolute;top:50%}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}"],data:{animation:[{type:7,name:"overlayAnimation",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{opacity:0,transform:"scaleY(0.8)"},offset:null},{type:4,styles:null,timings:"{{showTransitionParams}}"}],options:null},{type:1,expr:":leave",animation:[{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"{{hideTransitionParams}}"}],options:null}],options:{}}]}});function Ey(t){return to(0,[(t()(),Vs(0,0,null,null,1,null,null,null,null,null,null,null)),(t()(),Ys(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.component.label||"empty")}))}function xy(t){return to(0,[(t()(),Vs(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Ty(t){return to(0,[(t()(),Vs(0,0,null,null,9,"span",[],null,null,null,null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(2,278528,null,0,Jl,[Zl],{ngClass:[0,"ngClass"]},null),Zs(3,{"p-dropdown-label p-inputtext":0,"p-dropdown-label-empty":1}),nr(4,4341760,null,0,ty,[en,ts],{tooltipPosition:[0,"tooltipPosition"],positionStyle:[1,"positionStyle"],tooltipStyleClass:[2,"tooltipStyleClass"],text:[3,"text"]},null),(t()(),Ms(16777216,null,null,1,null,Ey)),nr(6,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,2,null,xy)),nr(8,540672,null,0,ca,[In],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Zs(9,{$implicit:0})],(function(t,e){var n=e.component,i=t(e,3,0,!0,null==n.label||0===n.label.length);t(e,2,0,i),t(e,4,0,n.tooltipPosition,n.tooltipPositionStyle,n.tooltipStyleClass,n.tooltip),t(e,6,0,!n.selectedItemTemplate);var r=t(e,9,0,n.selectedOption);t(e,8,0,r,n.selectedItemTemplate)}),null)}function ky(t){return to(0,[(t()(),Vs(0,0,null,null,4,"span",[],null,null,null,null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(2,278528,null,0,Jl,[Zl],{ngClass:[0,"ngClass"]},null),Zs(3,{"p-dropdown-label p-inputtext p-placeholder":0,"p-dropdown-label-empty":1}),(t()(),Ys(4,null,["",""]))],(function(t,e){var n=e.component,i=t(e,3,0,!0,null==n.placeholder||0===n.placeholder.length);t(e,2,0,i)}),(function(t,e){t(e,4,0,e.component.placeholder||"empty")}))}function Iy(t){return to(0,[(t()(),Vs(0,0,[[5,0],["editableInput",1]],null,0,"input",[["aria-haspopup","listbox"],["class","p-dropdown-label p-inputtext"],["type","text"]],[[1,"maxlength",0],[8,"disabled",0],[1,"placeholder",0],[1,"aria-expanded",0]],[[null,"click"],[null,"input"],[null,"focus"],[null,"blur"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==r.onEditableInputClick()&&i),"input"===e&&(i=!1!==r.onEditableInputChange(n)&&i),"focus"===e&&(i=!1!==r.onEditableInputFocus(n)&&i),"blur"===e&&(i=!1!==r.onInputBlur(n)&&i),i}),null,null))],null,(function(t,e){var n=e.component;t(e,0,0,n.maxlength,n.disabled,n.placeholder,n.overlayVisible)}))}function Oy(t){return to(0,[(t()(),Vs(0,0,null,null,0,"i",[["class","p-dropdown-clear-icon pi pi-times"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.clear(n)&&i),i}),null,null))],null,null)}function Py(t){return to(0,[(t()(),Vs(0,0,null,null,3,"div",[["class","p-dropdown-header"]],null,null,null,null,null)),(t()(),Vs(1,0,null,null,2,"div",[["class","p-dropdown-filter-container"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==n.stopPropagation()&&i),i}),null,null)),(t()(),Vs(2,0,[[2,0],["filter",1]],null,0,"input",[["autocomplete","off"],["class","p-dropdown-filter p-inputtext p-component"],["type","text"]],[[8,"value",0],[1,"placeholder",0],[1,"aria-label",0]],[[null,"keydown.enter"],[null,"keydown"],[null,"input"]],(function(t,e,n){var i=!0,r=t.component;return"keydown.enter"===e&&(i=!1!==n.preventDefault()&&i),"keydown"===e&&(i=!1!==r.onKeydown(n,!1)&&i),"input"===e&&(i=!1!==r.onFilterInputChange(n)&&i),i}),null,null)),(t()(),Vs(3,0,null,null,0,"span",[["class","p-dropdown-filter-icon pi pi-search"]],null,null,null,null,null))],null,(function(t,e){var n=e.component;t(e,2,0,n.filterValue||"",n.filterPlaceholder,n.ariaFilterLabel)}))}function Ry(t){return to(0,[(t()(),Vs(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ys(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.component.getOptionGroupLabel(e.parent.context.$implicit)||"empty")}))}function Dy(t){return to(0,[(t()(),Vs(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Ay(t){return to(0,[(t()(),Vs(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Ny(t){return to(0,[(t()(),Vs(0,0,null,null,5,"li",[["class","p-dropdown-item-group"]],null,null,null,null,null)),(t()(),Ms(16777216,null,null,1,null,Ry)),nr(2,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,2,null,Dy)),nr(4,540672,null,0,ca,[In],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Zs(5,{$implicit:0}),(t()(),Ms(16777216,null,null,2,null,Ay)),nr(7,540672,null,0,ca,[In],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Zs(8,{$implicit:0,selectedOption:1}),(t()(),Ms(0,null,null,0))],(function(t,e){var n=e.component;t(e,2,0,!n.groupTemplate);var i=t(e,5,0,e.context.$implicit);t(e,4,0,i,n.groupTemplate);var r=t(e,8,0,n.getOptionGroupChildren(e.context.$implicit),n.selectedOption);t(e,7,0,r,Bi(e.parent.parent,15))}),null)}function Ly(t){return to(0,[(t()(),Vs(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),Ms(16777216,null,null,1,null,Ny)),nr(2,278528,null,0,ea,[In,Tn,wn],{ngForOf:[0,"ngForOf"]},null),(t()(),Ms(0,null,null,0))],(function(t,e){t(e,2,0,e.component.optionsToDisplay)}),null)}function Fy(t){return to(0,[(t()(),Vs(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function My(t){return to(0,[(t()(),Vs(0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),Ms(16777216,null,null,2,null,Fy)),nr(2,540672,null,0,ca,[In],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Zs(3,{$implicit:0,selectedOption:1}),(t()(),Ms(0,null,null,0))],(function(t,e){var n=e.component,i=t(e,3,0,n.optionsToDisplay,n.selectedOption);t(e,2,0,i,Bi(e.parent,15))}),null)}function Vy(t){return to(0,[(t()(),Vs(0,0,null,null,1,"p-dropdownItem",[],null,[[null,"onClick"]],(function(t,e,n){var i=!0;return"onClick"===e&&(i=!1!==t.component.onItemClick(n)&&i),i}),Cy,vy)),nr(1,49152,null,0,ry,[],{option:[0,"option"],selected:[1,"selected"],label:[2,"label"],disabled:[3,"disabled"],template:[4,"template"]},{onClick:"onClick"})],(function(t,e){var n=e.component;t(e,1,0,e.context.$implicit,e.parent.parent.context.selectedOption==e.context.$implicit,n.getOptionLabel(e.context.$implicit),n.isOptionDisabled(e.context.$implicit),n.itemTemplate)}),null)}function zy(t){return to(0,[(t()(),Vs(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),Ms(16777216,null,null,1,null,Vy)),nr(2,278528,null,0,ea,[In,Tn,wn],{ngForOf:[0,"ngForOf"]},null),(t()(),Ms(0,null,null,0))],(function(t,e){t(e,2,0,e.parent.context.$implicit)}),null)}function jy(t){return to(0,[(t()(),Vs(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),Vs(1,0,null,null,1,"p-dropdownItem",[],null,[[null,"onClick"]],(function(t,e,n){var i=!0;return"onClick"===e&&(i=!1!==t.component.onItemClick(n)&&i),i}),Cy,vy)),nr(2,49152,null,0,ry,[],{option:[0,"option"],selected:[1,"selected"],label:[2,"label"],disabled:[3,"disabled"],template:[4,"template"]},{onClick:"onClick"})],(function(t,e){var n=e.component;t(e,2,0,e.context.$implicit,e.parent.parent.parent.context.selectedOption==e.context.$implicit,n.getOptionLabel(e.context.$implicit),n.isOptionDisabled(e.context.$implicit),n.itemTemplate)}),null)}function Hy(t){return to(0,[(t()(),Vs(0,0,null,null,9,"cdk-virtual-scroll-viewport",[["class","cdk-virtual-scroll-viewport"]],[[2,"cdk-virtual-scroll-orientation-horizontal",null],[2,"cdk-virtual-scroll-orientation-vertical",null]],[[null,"scrolledIndexChange"]],(function(t,e,n){var i=!0;return"scrolledIndexChange"===e&&(i=!1!==t.component.scrollToSelectedVirtualScrollElement()&&i),i}),_y,yy)),rr(6144,null,Qm,null,[Km]),rr(512,null,oa,la,[en,Cn,ln]),nr(3,278528,null,0,ua,[oa],{ngStyle:[0,"ngStyle"]},null),Zs(4,{height:0}),nr(5,540672,null,0,qm,[],{itemSize:[0,"itemSize"]},null),rr(1024,null,Um,Wm,[qm]),nr(7,245760,[[4,4],["viewport",4]],0,Km,[en,Ee,ts,[2,Um],[2,dm],$m],null,{scrolledIndexChange:"scrolledIndexChange"}),(t()(),Ms(16777216,null,0,1,null,jy)),nr(9,409600,null,0,Ym,[In,Tn,wn,[1,Km],ts],{cdkVirtualForOf:[0,"cdkVirtualForOf"]},null)],(function(t,e){var n=e.component,i=t(e,4,0,n.scrollHeight);t(e,3,0,i),t(e,5,0,n.itemSize),t(e,7,0),t(e,9,0,e.parent.parent.context.$implicit)}),(function(t,e){t(e,0,0,"horizontal"===Bi(e,7).orientation,"horizontal"!==Bi(e,7).orientation)}))}function Uy(t){return to(0,[(t()(),Ms(16777216,null,null,1,null,Hy)),nr(1,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(0,null,null,0))],(function(t,e){var n=e.component;t(e,1,0,n.virtualScroll&&n.optionsToDisplay&&n.optionsToDisplay.length)}),null)}function By(t){return to(0,[(t()(),Ms(16777216,null,null,1,null,zy)),nr(1,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),Ms(0,[["virtualScrollList",2]],null,0,null,Uy))],(function(t,e){t(e,1,0,!e.component.virtualScroll,Bi(e,2))}),null)}function Wy(t){return to(0,[(t()(),Vs(0,0,null,null,1,"li",[["class","p-dropdown-empty-message"]],null,null,null,null,null)),(t()(),Ys(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.component.emptyFilterMessage)}))}function qy(t){return to(0,[(t()(),Vs(0,0,null,null,17,"div",[],[[24,"@overlayAnimation",0]],[[null,"@overlayAnimation.start"]],(function(t,e,n){var i=!0;return"@overlayAnimation.start"===e&&(i=!1!==t.component.onOverlayAnimationStart(n)&&i),i}),null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(2,278528,null,0,Jl,[Zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),rr(512,null,oa,la,[en,Cn,ln]),nr(4,278528,null,0,ua,[oa],{ngStyle:[0,"ngStyle"]},null),Zs(5,{showTransitionParams:0,hideTransitionParams:1}),Zs(6,{value:0,params:1}),(t()(),Ms(16777216,null,null,1,null,Py)),nr(8,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Vs(9,0,null,null,8,"div",[["class","p-dropdown-items-wrapper"]],[[4,"max-height",null]],null,null,null,null)),(t()(),Vs(10,0,null,null,7,"ul",[["class","p-dropdown-items"],["role","listbox"]],null,null,null,null,null)),(t()(),Ms(16777216,null,null,1,null,Ly)),nr(12,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,1,null,My)),nr(14,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(0,[["itemslist",2]],null,0,null,By)),(t()(),Ms(16777216,null,null,1,null,Wy)),nr(17,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.panelStyleClass,"p-dropdown-panel p-component"),t(e,4,0,n.panelStyle),t(e,8,0,n.filter),t(e,12,0,n.group),t(e,14,0,!n.group),t(e,17,0,n.filter&&(!n.optionsToDisplay||n.optionsToDisplay&&0===n.optionsToDisplay.length))}),(function(t,e){var n=e.component,i=t(e,6,0,"visible",t(e,5,0,n.showTransitionOptions,n.hideTransitionOptions));t(e,0,0,i),t(e,9,0,n.virtualScroll?"auto":n.scrollHeight||"auto")}))}function $y(t){return to(2,[Bs(402653184,1,{containerViewChild:0}),Bs(671088640,2,{filterViewChild:0}),Bs(402653184,3,{accessibleViewChild:0}),Bs(671088640,4,{viewPort:0}),Bs(671088640,5,{editableInputViewChild:0}),(t()(),Vs(5,0,[[1,0],["container",1]],null,21,"div",[],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onMouseclick(n)&&i),i}),null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(7,278528,null,0,Jl,[Zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Zs(8,{"p-dropdown p-component":0,"p-disabled":1,"p-dropdown-open":2,"p-focus":3,"p-dropdown-clearable":4}),rr(512,null,oa,la,[en,Cn,ln]),nr(10,278528,null,0,ua,[oa],{ngStyle:[0,"ngStyle"]},null),(t()(),Vs(11,0,null,null,1,"div",[["class","p-hidden-accessible"]],null,null,null,null,null)),(t()(),Vs(12,0,[[3,0],["in",1]],null,0,"input",[["aria-haspopup","listbox"],["readonly",""],["type","text"]],[[1,"id",0],[1,"aria-expanded",0],[1,"aria-labelledby",0],[8,"disabled",0],[1,"tabindex",0],[1,"autofocus",0]],[[null,"focus"],[null,"blur"],[null,"keydown"]],(function(t,e,n){var i=!0,r=t.component;return"focus"===e&&(i=!1!==r.onInputFocus(n)&&i),"blur"===e&&(i=!1!==r.onInputBlur(n)&&i),"keydown"===e&&(i=!1!==r.onKeydown(n,!0)&&i),i}),null,null)),(t()(),Ms(16777216,null,null,1,null,Ty)),nr(14,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,1,null,ky)),nr(16,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,1,null,Iy)),nr(18,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,1,null,Oy)),nr(20,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Vs(21,0,null,null,3,"div",[["aria-haspopup","listbox"],["class","p-dropdown-trigger"],["role","button"]],[[1,"aria-expanded",0]],null,null,null,null)),(t()(),Vs(22,0,null,null,2,"span",[["class","p-dropdown-trigger-icon"]],null,null,null,null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(24,278528,null,0,Jl,[Zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),Ms(16777216,null,null,1,null,qy)),nr(26,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component,i=n.styleClass,r=t(e,8,0,!0,n.disabled,n.overlayVisible,n.focused,n.showClear&&!n.disabled);t(e,7,0,i,r),t(e,10,0,n.style),t(e,14,0,!n.editable&&null!=n.label),t(e,16,0,!n.editable&&null==n.label),t(e,18,0,n.editable),t(e,20,0,null!=n.value&&n.showClear&&!n.disabled),t(e,24,0,"p-dropdown-trigger-icon",n.dropdownIcon),t(e,26,0,n.overlayVisible)}),(function(t,e){var n=e.component;t(e,12,0,n.inputId,n.overlayVisible,n.ariaLabelledBy,n.disabled,n.tabindex,n.autofocus),t(e,21,0,n.overlayVisible)}))}var Qy=qn({encapsulation:2,styles:[".p-paginator{align-items:center;display:flex;flex-wrap:wrap;justify-content:center}.p-paginator-left-content{margin-right:auto}.p-paginator-right-content{margin-left:auto}.p-paginator-current,.p-paginator-first,.p-paginator-last,.p-paginator-next,.p-paginator-page,.p-paginator-prev{-ms-user-select:none;-webkit-user-select:none;align-items:center;cursor:pointer;display:inline-flex;justify-content:center;line-height:1;overflow:hidden;position:relative;user-select:none}.p-paginator-element:focus{position:relative;z-index:1}"],data:{}});function Gy(t){return to(0,[(t()(),Vs(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Ky(t){return to(0,[(t()(),Vs(0,0,null,null,3,"div",[["class","p-paginator-left-content"]],null,null,null,null,null)),(t()(),Ms(16777216,null,null,2,null,Gy)),nr(2,540672,null,0,ca,[In],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Zs(3,{$implicit:0})],(function(t,e){var n=e.component,i=t(e,3,0,n.paginatorState);t(e,2,0,i,n.templateLeft)}),null)}function Zy(t){return to(0,[(t()(),Vs(0,0,null,null,1,"span",[["class","p-paginator-current"]],null,null,null,null,null)),(t()(),Ys(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.component.currentPageReport)}))}function Yy(t){return to(0,[(t()(),Vs(0,0,null,null,5,"button",[["class","p-paginator-first p-paginator-element p-link"],["pRipple",""],["type","button"]],[[8,"disabled",0],[2,"p-ripple",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.changePageToFirst(n)&&i),i}),null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(2,278528,null,0,Jl,[Zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Zs(3,{"p-disabled":0}),nr(4,4341760,null,0,ny,[en,ts,[2,Nf]],null,null),(t()(),Vs(5,0,null,null,0,"span",[["class","p-paginator-icon pi pi-angle-double-left"]],null,null,null,null,null))],(function(t,e){var n=t(e,3,0,e.component.isFirstPage());t(e,2,0,"p-paginator-first p-paginator-element p-link",n)}),(function(t,e){t(e,0,0,e.component.isFirstPage(),!0)}))}function Xy(t){return to(0,[(t()(),Vs(0,0,null,null,5,"button",[["class","p-paginator-page p-paginator-element p-link"],["pRipple",""],["type","button"]],[[2,"p-ripple",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onPageLinkClick(n,t.context.$implicit-1)&&i),i}),null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(2,278528,null,0,Jl,[Zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Zs(3,{"p-highlight":0}),nr(4,4341760,null,0,ny,[en,ts,[2,Nf]],null,null),(t()(),Ys(5,null,["",""]))],(function(t,e){var n=t(e,3,0,e.context.$implicit-1==e.component.getPage());t(e,2,0,"p-paginator-page p-paginator-element p-link",n)}),(function(t,e){t(e,0,0,!0),t(e,5,0,e.context.$implicit)}))}function Jy(t){return to(0,[(t()(),Vs(0,0,null,null,2,"span",[["class","p-paginator-pages"]],null,null,null,null,null)),(t()(),Ms(16777216,null,null,1,null,Xy)),nr(2,278528,null,0,ea,[In,Tn,wn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,2,0,e.component.pageLinks)}),null)}function t_(t){return to(0,[(t()(),Ys(0,null,["",""]))],null,(function(t,e){t(e,0,0,e.component.currentPageReport)}))}function e_(t){return to(0,[(t()(),Vs(0,0,null,null,8,"p-dropdown",[["styleClass","p-paginator-page-options"]],[[2,"p-inputwrapper-filled",null],[2,"p-inputwrapper-focus",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"onChange"]],(function(t,e,n){var i=!0;return"onChange"===e&&(i=!1!==t.component.onPageDropdownChange(n)&&i),i}),$y,Sy)),nr(1,13877248,null,1,sy,[en,ln,Ee,ts,Vf],{scrollHeight:[0,"scrollHeight"],styleClass:[1,"styleClass"],appendTo:[2,"appendTo"],options:[3,"options"]},{onChange:"onChange"}),Bs(603979776,1,{templates:1}),rr(1024,null,_g,(function(t){return[t]}),[sy]),nr(4,671744,null,0,om,[[8,null],[8,null],[8,null],[6,_g]],{model:[0,"model"]},null),rr(2048,null,Eg,null,[om]),nr(6,16384,null,0,Tg,[[4,Eg]],null,null),(t()(),Ms(0,null,null,1,null,t_)),nr(8,16384,[[1,4]],0,Uf,[Tn],{name:[0,"name"]},null)],(function(t,e){var n=e.component;t(e,1,0,n.dropdownScrollHeight,"p-paginator-page-options",n.dropdownAppendTo,n.pageItems),t(e,4,0,n.getPage()),t(e,8,0,"selectedItem")}),(function(t,e){t(e,0,0,Bi(e,1).filled,Bi(e,1).focused||Bi(e,1).overlayVisible,Bi(e,6).ngClassUntouched,Bi(e,6).ngClassTouched,Bi(e,6).ngClassPristine,Bi(e,6).ngClassDirty,Bi(e,6).ngClassValid,Bi(e,6).ngClassInvalid,Bi(e,6).ngClassPending)}))}function n_(t){return to(0,[(t()(),Vs(0,0,null,null,5,"button",[["class","p-paginator-last p-paginator-element p-link"],["pRipple",""],["type","button"]],[[8,"disabled",0],[2,"p-ripple",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.changePageToLast(n)&&i),i}),null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(2,278528,null,0,Jl,[Zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Zs(3,{"p-disabled":0}),nr(4,4341760,null,0,ny,[en,ts,[2,Nf]],null,null),(t()(),Vs(5,0,null,null,0,"span",[["class","p-paginator-icon pi pi-angle-double-right"]],null,null,null,null,null))],(function(t,e){var n=t(e,3,0,e.component.isLastPage());t(e,2,0,"p-paginator-last p-paginator-element p-link",n)}),(function(t,e){t(e,0,0,e.component.isLastPage(),!0)}))}function i_(t){return to(0,[(t()(),Vs(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function r_(t){return to(0,[(t()(),Ms(16777216,null,null,2,null,i_)),nr(1,540672,null,0,ca,[In],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Zs(2,{$implicit:0}),(t()(),Ms(0,null,null,0))],(function(t,e){var n=e.component,i=t(e,2,0,e.context.$implicit);t(e,1,0,i,n.dropdownItemTemplate)}),null)}function s_(t){return to(0,[(t()(),Vs(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),Ms(0,null,null,1,null,r_)),nr(2,16384,[[2,4]],0,Uf,[Tn],{name:[0,"name"]},null)],(function(t,e){t(e,2,0,"item")}),null)}function o_(t){return to(0,[(t()(),Vs(0,0,null,null,8,"p-dropdown",[["styleClass","p-paginator-rpp-options"]],[[2,"p-inputwrapper-filled",null],[2,"p-inputwrapper-focus",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(t,e,n){var i=!0,r=t.component;return"ngModelChange"===e&&(i=!1!==(r.rows=n)&&i),"onChange"===e&&(i=!1!==r.onRppChange(n)&&i),i}),$y,Sy)),nr(1,13877248,null,1,sy,[en,ln,Ee,ts,Vf],{scrollHeight:[0,"scrollHeight"],styleClass:[1,"styleClass"],appendTo:[2,"appendTo"],options:[3,"options"]},{onChange:"onChange"}),Bs(603979776,2,{templates:1}),rr(1024,null,_g,(function(t){return[t]}),[sy]),nr(4,671744,null,0,om,[[8,null],[8,null],[8,null],[6,_g]],{model:[0,"model"]},{update:"ngModelChange"}),rr(2048,null,Eg,null,[om]),nr(6,16384,null,0,Tg,[[4,Eg]],null,null),(t()(),Ms(16777216,null,null,1,null,s_)),nr(8,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,1,0,n.dropdownScrollHeight,"p-paginator-rpp-options",n.dropdownAppendTo,n.rowsPerPageItems),t(e,4,0,n.rows),t(e,8,0,n.dropdownItemTemplate)}),(function(t,e){t(e,0,0,Bi(e,1).filled,Bi(e,1).focused||Bi(e,1).overlayVisible,Bi(e,6).ngClassUntouched,Bi(e,6).ngClassTouched,Bi(e,6).ngClassPristine,Bi(e,6).ngClassDirty,Bi(e,6).ngClassValid,Bi(e,6).ngClassInvalid,Bi(e,6).ngClassPending)}))}function l_(t){return to(0,[(t()(),Vs(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function a_(t){return to(0,[(t()(),Vs(0,0,null,null,3,"div",[["class","p-paginator-right-content"]],null,null,null,null,null)),(t()(),Ms(16777216,null,null,2,null,l_)),nr(2,540672,null,0,ca,[In],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Zs(3,{$implicit:0})],(function(t,e){var n=e.component,i=t(e,3,0,n.paginatorState);t(e,2,0,i,n.templateRight)}),null)}function u_(t){return to(0,[(t()(),Vs(0,0,null,null,32,"div",[],null,null,null,null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(2,278528,null,0,Jl,[Zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),rr(512,null,oa,la,[en,Cn,ln]),nr(4,278528,null,0,ua,[oa],{ngStyle:[0,"ngStyle"]},null),(t()(),Ms(16777216,null,null,1,null,Ky)),nr(6,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,1,null,Zy)),nr(8,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,1,null,Yy)),nr(10,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Vs(11,0,null,null,5,"button",[["class","p-paginator-prev p-paginator-element p-link"],["pRipple",""],["type","button"]],[[8,"disabled",0],[2,"p-ripple",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.changePageToPrev(n)&&i),i}),null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(13,278528,null,0,Jl,[Zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Zs(14,{"p-disabled":0}),nr(15,4341760,null,0,ny,[en,ts,[2,Nf]],null,null),(t()(),Vs(16,0,null,null,0,"span",[["class","p-paginator-icon pi pi-angle-left"]],null,null,null,null,null)),(t()(),Ms(16777216,null,null,1,null,Jy)),nr(18,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,1,null,e_)),nr(20,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Vs(21,0,null,null,5,"button",[["class","p-paginator-next p-paginator-element p-link"],["pRipple",""],["type","button"]],[[8,"disabled",0],[2,"p-ripple",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.changePageToNext(n)&&i),i}),null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(23,278528,null,0,Jl,[Zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Zs(24,{"p-disabled":0}),nr(25,4341760,null,0,ny,[en,ts,[2,Nf]],null,null),(t()(),Vs(26,0,null,null,0,"span",[["class","p-paginator-icon pi pi-angle-right"]],null,null,null,null,null)),(t()(),Ms(16777216,null,null,1,null,n_)),nr(28,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,1,null,o_)),nr(30,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,1,null,a_)),nr(32,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.styleClass,"p-paginator p-component"),t(e,4,0,n.style),t(e,6,0,n.templateLeft),t(e,8,0,n.showCurrentPageReport),t(e,10,0,n.showFirstLastIcon);var i=t(e,14,0,n.isFirstPage());t(e,13,0,"p-paginator-prev p-paginator-element p-link",i),t(e,18,0,n.showPageLinks),t(e,20,0,n.showJumpToPageDropdown);var r=t(e,24,0,n.isLastPage());t(e,23,0,"p-paginator-next p-paginator-element p-link",r),t(e,28,0,n.showFirstLastIcon),t(e,30,0,n.rowsPerPageOptions),t(e,32,0,n.templateRight)}),(function(t,e){var n=e.component;t(e,11,0,n.isFirstPage(),!0),t(e,21,0,n.isLastPage(),!0)}))}function c_(t){return to(2,[(t()(),Ms(16777216,null,null,1,null,u_)),nr(1,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,1,0,!!n.alwaysShow||n.pageLinks&&n.pageLinks.length>1)}),null)}var h_=qn({encapsulation:2,styles:[".p-datatable{position:relative}.p-datatable table{border-collapse:collapse;table-layout:fixed;width:100%}.p-datatable .p-sortable-column{-ms-user-select:none;-webkit-user-select:none;cursor:pointer;user-select:none}.p-datatable .p-sortable-column .p-column-title,.p-datatable .p-sortable-column .p-sortable-column-badge,.p-datatable .p-sortable-column .p-sortable-column-icon{vertical-align:middle}.p-datatable .p-sortable-column .p-sortable-column-badge{align-items:center;display:inline-flex;justify-content:center}.p-datatable-auto-layout>.p-datatable-wrapper{overflow-x:auto}.p-datatable-auto-layout>.p-datatable-wrapper>table{table-layout:auto}.p-datatable-hoverable-rows .p-selectable-row{cursor:pointer}.p-datatable-scrollable-wrapper{position:relative}.p-datatable-scrollable-footer,.p-datatable-scrollable-header{overflow:hidden}.p-datatable-scrollable-body{overflow:auto;position:relative}.p-datatable-scrollable-body>table>.p-datatable-tbody>tr:first-child>td{border-top:0}.p-datatable-virtual-table{position:absolute}.p-datatable-frozen-view .p-datatable-scrollable-body{overflow:hidden}.p-datatable-frozen-view>.p-datatable-scrollable-body>table>.p-datatable-tbody>tr>td:last-child{border-right:0}.p-datatable-unfrozen-view{position:absolute;top:0}.p-datatable-flex-scrollable,.p-datatable-flex-scrollable .p-datatable-scrollable-view,.p-datatable-flex-scrollable .p-datatable-scrollable-wrapper{display:flex;flex:1;flex-direction:column;height:100%}.p-datatable-flex-scrollable .p-datatable-scrollable-body,.p-datatable-flex-scrollable .p-datatable-virtual-scrollable-body{flex:1}.p-datatable-resizable>.p-datatable-wrapper{overflow-x:auto}.p-datatable-resizable .p-datatable-tbody>tr>td,.p-datatable-resizable .p-datatable-tfoot>tr>td,.p-datatable-resizable .p-datatable-thead>tr>th{overflow:hidden;white-space:nowrap}.p-datatable-resizable .p-resizable-column{background-clip:padding-box;position:relative}.p-datatable-resizable-fit .p-resizable-column:last-child .p-column-resizer{display:none}.p-datatable .p-column-resizer{border:1px solid transparent;cursor:col-resize;display:block;height:100%;margin:0;padding:0;position:absolute!important;right:0;top:0;width:.5rem}.p-datatable .p-column-resizer-helper{display:none;position:absolute;width:1px;z-index:10}.p-datatable .p-row-editor-cancel,.p-datatable .p-row-editor-init,.p-datatable .p-row-editor-save,.p-datatable .p-row-toggler{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;position:relative}.p-datatable-reorder-indicator-down,.p-datatable-reorder-indicator-up{display:none;position:absolute}.p-datatable-reorderablerow-handle,[pReorderableColumn]{cursor:move}.p-datatable .p-datatable-loading-overlay{align-items:center;display:flex;justify-content:center;position:absolute;z-index:2}.p-column-filter-row{align-items:center;display:flex;width:100%}.p-column-filter-menu{display:inline-flex}.p-column-filter-row p-columnfilterformelement{flex:1 1 auto;width:1%}.p-column-filter-clear-button,.p-column-filter-menu-button{align-items:center;cursor:pointer;display:inline-flex;justify-content:center;overflow:hidden;position:relative;text-decoration:none}.p-column-filter-overlay{position:absolute}.p-column-filter-row-items{list-style:none;margin:0;padding:0}.p-column-filter-row-item{cursor:pointer}.p-column-filter-add-button,.p-column-filter-remove-button{justify-content:center}.p-column-filter-add-button .p-button-label,.p-column-filter-remove-button .p-button-label{flex-grow:0}.p-column-filter-buttonbar{align-items:center;display:flex;justify-content:space-between}.p-column-filter-buttonbar .p-button{width:auto}.p-datatable.p-datatable-responsive .p-datatable-tbody>tr>td .p-column-title{display:none}cdk-virtual-scroll-viewport{outline:0 none}@media screen and (max-width:40em){.p-datatable.p-datatable-responsive .p-datatable-tfoot>tr>td,.p-datatable.p-datatable-responsive .p-datatable-thead>tr>th{display:none!important}.p-datatable.p-datatable-responsive .p-datatable-tbody>tr>td{border:0;clear:left;display:block;float:left;text-align:left;width:100%}.p-datatable.p-datatable-responsive .p-datatable-tbody>tr>td .p-column-title{display:inline-block;font-weight:700;margin:-.4em 1em -.4em -.4rem;min-width:30%;padding:.4rem}}"],data:{}});function d_(t){return to(0,[(t()(),Vs(0,0,null,null,1,"div",[["class","p-datatable-loading-overlay p-component-overlay"]],null,null,null,null,null)),(t()(),Vs(1,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null))],null,(function(t,e){t(e,1,0,"p-datatable-loading-icon pi-spin "+e.component.loadingIcon)}))}function p_(t){return to(0,[(t()(),Vs(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function f_(t){return to(0,[(t()(),Vs(0,0,null,null,2,"div",[["class","p-datatable-header"]],null,null,null,null,null)),(t()(),Ms(16777216,null,null,1,null,p_)),nr(2,540672,null,0,ca,[In],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],(function(t,e){t(e,2,0,e.component.captionTemplate)}),null)}function g_(t){return to(0,[(t()(),Vs(0,0,null,null,1,"p-paginator",[["styleClass","p-paginator-top"]],null,[[null,"onPageChange"]],(function(t,e,n){var i=!0;return"onPageChange"===e&&(i=!1!==t.component.onPageChange(n)&&i),i}),c_,Qy)),nr(1,638976,null,0,ly,[Ee],{pageLinkSize:[0,"pageLinkSize"],styleClass:[1,"styleClass"],alwaysShow:[2,"alwaysShow"],templateLeft:[3,"templateLeft"],templateRight:[4,"templateRight"],dropdownAppendTo:[5,"dropdownAppendTo"],dropdownScrollHeight:[6,"dropdownScrollHeight"],currentPageReportTemplate:[7,"currentPageReportTemplate"],showCurrentPageReport:[8,"showCurrentPageReport"],showFirstLastIcon:[9,"showFirstLastIcon"],totalRecords:[10,"totalRecords"],rows:[11,"rows"],rowsPerPageOptions:[12,"rowsPerPageOptions"],showJumpToPageDropdown:[13,"showJumpToPageDropdown"],showPageLinks:[14,"showPageLinks"],dropdownItemTemplate:[15,"dropdownItemTemplate"],first:[16,"first"]},{onPageChange:"onPageChange"})],(function(t,e){var n=e.component;t(e,1,1,[n.pageLinks,"p-paginator-top",n.alwaysShowPaginator,n.paginatorLeftTemplate,n.paginatorRightTemplate,n.paginatorDropdownAppendTo,n.paginatorDropdownScrollHeight,n.currentPageReportTemplate,n.showCurrentPageReport,n.showFirstLastIcon,n.totalRecords,n.rows,n.rowsPerPageOptions,n.showJumpToPageDropdown,n.showPageLinks,n.paginatorDropdownItemTemplate,n.first])}),null)}function m_(t){return to(0,[(t()(),Vs(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function y_(t){return to(0,[(t()(),Vs(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function __(t){return to(0,[(t()(),Vs(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function v_(t){return to(0,[(t()(),Vs(0,0,null,null,3,"tfoot",[["class","p-datatable-tfoot"]],null,null,null,null,null)),(t()(),Ms(16777216,null,null,2,null,__)),nr(2,540672,null,0,ca,[In],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Zs(3,{$implicit:0})],(function(t,e){var n=e.component,i=t(e,3,0,n.columns);t(e,2,0,i,n.footerTemplate)}),null)}function b_(t){return to(0,[(t()(),Vs(0,0,null,null,16,"div",[["class","p-datatable-wrapper"]],null,null,null,null,null)),(t()(),Vs(1,0,[[5,0],["table",1]],null,15,"table",[["role","grid"]],null,null,null,null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(3,278528,null,0,Jl,[Zl],{ngClass:[0,"ngClass"]},null),rr(512,null,oa,la,[en,Cn,ln]),nr(5,278528,null,0,ua,[oa],{ngStyle:[0,"ngStyle"]},null),(t()(),Ms(16777216,null,null,2,null,m_)),nr(7,540672,null,0,ca,[In],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Zs(8,{$implicit:0}),(t()(),Vs(9,0,null,null,3,"thead",[["class","p-datatable-thead"]],null,null,null,null,null)),(t()(),Ms(16777216,null,null,2,null,y_)),nr(11,540672,null,0,ca,[In],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Zs(12,{$implicit:0}),(t()(),Vs(13,0,null,null,1,"tbody",[["class","p-datatable-tbody"]],null,null,null,Y_,P_)),nr(14,180224,null,0,dg,[hg,cg,Ee],{columns:[0,"columns"],template:[1,"template"]},null),(t()(),Ms(16777216,null,null,1,null,v_)),nr(16,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,3,0,n.tableStyleClass),t(e,5,0,n.tableStyle);var i=t(e,8,0,n.columns);t(e,7,0,i,n.colGroupTemplate);var r=t(e,12,0,n.columns);t(e,11,0,r,n.headerTemplate),t(e,14,0,n.columns,n.bodyTemplate),t(e,16,0,n.footerTemplate)}),null)}function w_(t){return to(0,[(t()(),Vs(0,0,null,null,4,"div",[["class","p-datatable-scrollable-view p-datatable-frozen-view"]],null,null,null,hv,X_)),rr(512,null,oa,la,[en,Cn,ln]),nr(2,278528,null,0,ua,[oa],{ngStyle:[0,"ngStyle"]},null),Zs(3,{width:0}),nr(4,4374528,[[7,4],["scrollableFrozenView",4]],0,pg,[hg,en,ts],{columns:[0,"columns"],frozen:[1,"frozen"],scrollHeight:[2,"scrollHeight"]},null)],(function(t,e){var n=e.component,i=t(e,3,0,n.frozenWidth);t(e,2,0,i),t(e,4,0,n.frozenColumns,!0,n.scrollHeight)}),null)}function C_(t){return to(0,[(t()(),Vs(0,0,null,null,7,"div",[["class","p-datatable-scrollable-wrapper"]],null,null,null,null,null)),(t()(),Ms(16777216,null,null,1,null,w_)),nr(2,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Vs(3,0,null,null,4,"div",[["class","p-datatable-scrollable-view"]],null,null,null,hv,X_)),rr(512,null,oa,la,[en,Cn,ln]),nr(5,278528,null,0,ua,[oa],{ngStyle:[0,"ngStyle"]},null),Zs(6,{left:0,width:1}),nr(7,4374528,[[6,4],["scrollableView",4]],0,pg,[hg,en,ts],{columns:[0,"columns"],frozen:[1,"frozen"],scrollHeight:[2,"scrollHeight"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.frozenColumns||n.frozenBodyTemplate);var i=t(e,6,0,n.frozenWidth,"calc(100% - "+n.frozenWidth+")");t(e,5,0,i),t(e,7,0,n.columns,!1,n.scrollHeight)}),null)}function S_(t){return to(0,[(t()(),Vs(0,0,null,null,1,"p-paginator",[["styleClass","p-paginator-bottom"]],null,[[null,"onPageChange"]],(function(t,e,n){var i=!0;return"onPageChange"===e&&(i=!1!==t.component.onPageChange(n)&&i),i}),c_,Qy)),nr(1,638976,null,0,ly,[Ee],{pageLinkSize:[0,"pageLinkSize"],styleClass:[1,"styleClass"],alwaysShow:[2,"alwaysShow"],templateLeft:[3,"templateLeft"],templateRight:[4,"templateRight"],dropdownAppendTo:[5,"dropdownAppendTo"],dropdownScrollHeight:[6,"dropdownScrollHeight"],currentPageReportTemplate:[7,"currentPageReportTemplate"],showCurrentPageReport:[8,"showCurrentPageReport"],showFirstLastIcon:[9,"showFirstLastIcon"],totalRecords:[10,"totalRecords"],rows:[11,"rows"],rowsPerPageOptions:[12,"rowsPerPageOptions"],showJumpToPageDropdown:[13,"showJumpToPageDropdown"],showPageLinks:[14,"showPageLinks"],dropdownItemTemplate:[15,"dropdownItemTemplate"],first:[16,"first"]},{onPageChange:"onPageChange"})],(function(t,e){var n=e.component;t(e,1,1,[n.pageLinks,"p-paginator-bottom",n.alwaysShowPaginator,n.paginatorLeftTemplate,n.paginatorRightTemplate,n.paginatorDropdownAppendTo,n.paginatorDropdownScrollHeight,n.currentPageReportTemplate,n.showCurrentPageReport,n.showFirstLastIcon,n.totalRecords,n.rows,n.rowsPerPageOptions,n.showJumpToPageDropdown,n.showPageLinks,n.paginatorDropdownItemTemplate,n.first])}),null)}function E_(t){return to(0,[(t()(),Vs(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function x_(t){return to(0,[(t()(),Vs(0,0,null,null,2,"div",[["class","p-datatable-footer"]],null,null,null,null,null)),(t()(),Ms(16777216,null,null,1,null,E_)),nr(2,540672,null,0,ca,[In],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],(function(t,e){t(e,2,0,e.component.summaryTemplate)}),null)}function T_(t){return to(0,[(t()(),Vs(0,0,[[2,0],["resizeHelper",1]],null,0,"div",[["class","p-column-resizer-helper"],["style","display:none"]],null,null,null,null,null))],null,null)}function k_(t){return to(0,[(t()(),Vs(0,0,[[3,0],["reorderIndicatorUp",1]],null,0,"span",[["class","pi pi-arrow-down p-datatable-reorder-indicator-up"],["style","display:none"]],null,null,null,null,null))],null,null)}function I_(t){return to(0,[(t()(),Vs(0,0,[[4,0],["reorderIndicatorDown",1]],null,0,"span",[["class","pi pi-arrow-up p-datatable-reorder-indicator-down"],["style","display:none"]],null,null,null,null,null))],null,null)}function O_(t){return to(0,[Bs(402653184,1,{containerViewChild:0}),Bs(671088640,2,{resizeHelperViewChild:0}),Bs(671088640,3,{reorderIndicatorUpViewChild:0}),Bs(671088640,4,{reorderIndicatorDownViewChild:0}),Bs(671088640,5,{tableViewChild:0}),Bs(671088640,6,{scrollableViewChild:0}),Bs(671088640,7,{scrollableFrozenViewChild:0}),(t()(),Vs(7,0,[[1,0],["container",1]],null,25,"div",[["data-scrollselectors",".p-datatable-scrollable-body, .p-datatable-unfrozen-view .p-datatable-scrollable-body"]],null,null,null,null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(9,278528,null,0,Jl,[Zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Zs(10,{"p-datatable p-component":0,"p-datatable-hoverable-rows":1,"p-datatable-auto-layout":2,"p-datatable-resizable":3,"p-datatable-resizable-fit":4,"p-datatable-scrollable":5,"p-datatable-flex-scrollable":6,"p-datatable-responsive":7}),rr(512,null,oa,la,[en,Cn,ln]),nr(12,278528,null,0,ua,[oa],{ngStyle:[0,"ngStyle"]},null),(t()(),Ms(16777216,null,null,1,null,d_)),nr(14,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,1,null,f_)),nr(16,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,1,null,g_)),nr(18,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,1,null,b_)),nr(20,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,1,null,C_)),nr(22,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,1,null,S_)),nr(24,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,1,null,x_)),nr(26,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,1,null,T_)),nr(28,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,1,null,k_)),nr(30,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,1,null,I_)),nr(32,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component,i=n.styleClass,r=t(e,10,0,!0,n.rowHover||n.selectionMode,n.autoLayout,n.resizableColumns,n.resizableColumns&&"fit"===n.columnResizeMode,n.scrollable,n.scrollable&&"flex"===n.scrollHeight,n.responsive);t(e,9,0,i,r),t(e,12,0,n.style),t(e,14,0,n.loading&&n.showLoader),t(e,16,0,n.captionTemplate),t(e,18,0,n.paginator&&("top"===n.paginatorPosition||"both"==n.paginatorPosition)),t(e,20,0,!n.scrollable),t(e,22,0,n.scrollable),t(e,24,0,n.paginator&&("bottom"===n.paginatorPosition||"both"==n.paginatorPosition)),t(e,26,0,n.summaryTemplate),t(e,28,0,n.resizableColumns),t(e,30,0,n.reorderableColumns),t(e,32,0,n.reorderableColumns)}),null)}var P_=qn({encapsulation:2,styles:[],data:{}});function R_(t){return to(0,[(t()(),Vs(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function D_(t){return to(0,[(t()(),Ms(16777216,null,null,2,null,R_)),nr(1,540672,null,0,ca,[In],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Zs(2,{$implicit:0,rowIndex:1,columns:2,editing:3}),(t()(),Ms(0,null,null,0))],(function(t,e){var n=e.component,i=t(e,2,0,e.context.$implicit,n.dt.paginator?n.dt.first+e.context.index:e.context.index,n.columns,"row"===n.dt.editMode&&n.dt.isRowEditing(e.context.$implicit));t(e,1,0,i,n.template)}),null)}function A_(t){return to(0,[(t()(),Vs(0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),Ms(16777216,null,null,2,null,D_)),nr(2,278528,null,0,ea,[In,Tn,wn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),ir(0,ga,[]),(t()(),Ms(0,null,null,0))],(function(t,e){var n=e.component;t(e,2,0,n.dt.paginator&&!n.dt.lazy?Wn(e,2,0,Bi(e,3).transform(n.dt.filteredValue||n.dt.value,n.dt.first,n.dt.first+n.dt.rows)):n.dt.filteredValue||n.dt.value,n.dt.rowTrackBy)}),null)}function N_(t){return to(0,[(t()(),Vs(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function L_(t){return to(0,[(t()(),Ms(16777216,null,null,2,null,N_)),nr(1,540672,null,0,ca,[In],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Zs(2,{$implicit:0,rowIndex:1,columns:2,editing:3}),(t()(),Ms(0,null,null,0))],(function(t,e){var n=e.component,i=t(e,2,0,e.context.$implicit,n.dt.paginator?n.dt.first+e.context.index:e.context.index,n.columns,"row"===n.dt.editMode&&n.dt.isRowEditing(e.context.$implicit));t(e,1,0,i,e.context.$implicit?n.template:n.dt.loadingBodyTemplate)}),null)}function F_(t){return to(0,[(t()(),Vs(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),Ms(16777216,null,null,1,null,L_)),nr(2,409600,null,0,Ym,[In,Tn,wn,[1,Km],ts],{cdkVirtualForOf:[0,"cdkVirtualForOf"],cdkVirtualForTrackBy:[1,"cdkVirtualForTrackBy"],cdkVirtualForTemplateCacheSize:[2,"cdkVirtualForTemplateCacheSize"]},null),(t()(),Ms(0,null,null,0))],(function(t,e){var n=e.component;t(e,2,0,n.dt.filteredValue||n.dt.value,n.dt.rowTrackBy,0)}),null)}function M_(t){return to(0,[(t()(),Vs(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function V_(t){return to(0,[(t()(),Vs(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function z_(t){return to(0,[(t()(),Vs(0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),Ms(16777216,null,null,2,null,V_)),nr(2,540672,null,0,ca,[In],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Zs(3,{$implicit:0,rowIndex:1,columns:2}),(t()(),Ms(0,null,null,0))],(function(t,e){var n=e.component,i=t(e,3,0,e.parent.context.$implicit,n.dt.paginator?n.dt.first+e.parent.context.index:e.parent.context.index,n.columns);t(e,2,0,i,n.dt.expandedRowTemplate)}),null)}function j_(t){return to(0,[(t()(),Ms(16777216,null,null,2,null,M_)),nr(1,540672,null,0,ca,[In],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Zs(2,{$implicit:0,rowIndex:1,columns:2,expanded:3,editing:4}),(t()(),Ms(16777216,null,null,1,null,z_)),nr(4,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(0,null,null,0))],(function(t,e){var n=e.component,i=t(e,2,0,e.context.$implicit,n.dt.paginator?n.dt.first+e.context.index:e.context.index,n.columns,n.dt.isRowExpanded(e.context.$implicit),"row"===n.dt.editMode&&n.dt.isRowEditing(e.context.$implicit));t(e,1,0,i,n.template),t(e,4,0,n.dt.isRowExpanded(e.context.$implicit))}),null)}function H_(t){return to(0,[(t()(),Vs(0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),Ms(16777216,null,null,2,null,j_)),nr(2,278528,null,0,ea,[In,Tn,wn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),ir(0,ga,[]),(t()(),Ms(0,null,null,0))],(function(t,e){var n=e.component;t(e,2,0,n.dt.paginator&&!n.dt.lazy?Wn(e,2,0,Bi(e,3).transform(n.dt.filteredValue||n.dt.value,n.dt.first,n.dt.first+n.dt.rows)):n.dt.filteredValue||n.dt.value,n.dt.rowTrackBy)}),null)}function U_(t){return to(0,[(t()(),Vs(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function B_(t){return to(0,[(t()(),Vs(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function W_(t){return to(0,[(t()(),Vs(0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),Ms(16777216,null,null,2,null,B_)),nr(2,540672,null,0,ca,[In],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Zs(3,{$implicit:0,rowIndex:1,columns:2}),(t()(),Ms(0,null,null,0))],(function(t,e){var n=e.component,i=t(e,3,0,e.parent.context.$implicit,n.dt.paginator?n.dt.first+e.parent.context.index:e.parent.context.index,n.columns);t(e,2,0,i,n.dt.frozenExpandedRowTemplate)}),null)}function q_(t){return to(0,[(t()(),Ms(16777216,null,null,2,null,U_)),nr(1,540672,null,0,ca,[In],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Zs(2,{$implicit:0,rowIndex:1,columns:2,expanded:3,editing:4}),(t()(),Ms(16777216,null,null,1,null,W_)),nr(4,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(0,null,null,0))],(function(t,e){var n=e.component,i=t(e,2,0,e.context.$implicit,n.dt.paginator?n.dt.first+e.context.index:e.context.index,n.columns,n.dt.isRowExpanded(e.context.$implicit),"row"===n.dt.editMode&&n.dt.isRowEditing(e.context.$implicit));t(e,1,0,i,n.template),t(e,4,0,n.dt.isRowExpanded(e.context.$implicit))}),null)}function $_(t){return to(0,[(t()(),Vs(0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),Ms(16777216,null,null,2,null,q_)),nr(2,278528,null,0,ea,[In,Tn,wn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),ir(0,ga,[]),(t()(),Ms(0,null,null,0))],(function(t,e){var n=e.component;t(e,2,0,n.dt.paginator&&!n.dt.lazy?Wn(e,2,0,Bi(e,3).transform(n.dt.filteredValue||n.dt.value,n.dt.first,n.dt.first+n.dt.rows)):n.dt.filteredValue||n.dt.value,n.dt.rowTrackBy)}),null)}function Q_(t){return to(0,[(t()(),Vs(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function G_(t){return to(0,[(t()(),Vs(0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),Ms(16777216,null,null,2,null,Q_)),nr(2,540672,null,0,ca,[In],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Zs(3,{$implicit:0,frozen:1}),(t()(),Ms(0,null,null,0))],(function(t,e){var n=e.component,i=t(e,3,0,n.columns,n.frozen);t(e,2,0,i,n.dt.loadingBodyTemplate)}),null)}function K_(t){return to(0,[(t()(),Vs(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Z_(t){return to(0,[(t()(),Vs(0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),Ms(16777216,null,null,2,null,K_)),nr(2,540672,null,0,ca,[In],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Zs(3,{$implicit:0,frozen:1}),(t()(),Ms(0,null,null,0))],(function(t,e){var n=e.component,i=t(e,3,0,n.columns,n.frozen);t(e,2,0,i,n.dt.emptyMessageTemplate)}),null)}function Y_(t){return to(0,[(t()(),Ms(16777216,null,null,1,null,A_)),nr(1,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,1,null,F_)),nr(3,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,1,null,H_)),nr(5,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,1,null,$_)),nr(7,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,1,null,G_)),nr(9,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,1,null,Z_)),nr(11,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,1,0,!n.dt.expandedRowTemplate&&!n.dt.virtualScroll),t(e,3,0,!n.dt.expandedRowTemplate&&n.dt.virtualScroll),t(e,5,0,n.dt.expandedRowTemplate&&!(n.frozen&&n.dt.frozenExpandedRowTemplate)),t(e,7,0,n.dt.frozenExpandedRowTemplate&&n.frozen),t(e,9,0,n.dt.loading),t(e,11,0,n.dt.isEmpty()&&!n.dt.loading)}),null)}var X_=qn({encapsulation:2,styles:[],data:{}});function J_(t){return to(0,[(t()(),Vs(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function tv(t){return to(0,[(t()(),Vs(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function ev(t){return to(0,[(t()(),Vs(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function nv(t){return to(0,[(t()(),Ms(16777216,null,null,2,null,ev)),nr(1,540672,null,0,ca,[In],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Zs(2,{$implicit:0,rowIndex:1,columns:2}),(t()(),Ms(0,null,null,0))],(function(t,e){var n=e.component,i=t(e,2,0,e.context.$implicit,e.context.index,n.columns);t(e,1,0,i,n.dt.frozenRowsTemplate)}),null)}function iv(t){return to(0,[(t()(),Vs(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function rv(t){return to(0,[(t()(),Vs(0,0,[[7,0],["scrollableAligner",1]],null,0,"div",[["style","background-color:transparent"]],null,null,null,null,null))],null,null)}function sv(t){return to(0,[(t()(),Vs(0,0,null,null,14,null,null,null,null,null,null,null)),(t()(),Vs(1,0,[[3,0],["scrollBody",1]],null,13,"div",[["class","p-datatable-scrollable-body"]],null,null,null,null,null)),rr(512,null,oa,la,[en,Cn,ln]),nr(3,278528,null,0,ua,[oa],{ngStyle:[0,"ngStyle"]},null),Zs(4,{"max-height":0,"overflow-y":1}),(t()(),Vs(5,0,[[4,0],["scrollTable",1]],null,7,"table",[],[[8,"className",0]],null,null,null,null)),rr(512,null,oa,la,[en,Cn,ln]),nr(7,278528,null,0,ua,[oa],{ngStyle:[0,"ngStyle"]},null),(t()(),Ms(16777216,null,null,2,null,iv)),nr(9,540672,null,0,ca,[In],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Zs(10,{$implicit:0}),(t()(),Vs(11,0,null,null,1,"tbody",[["class","p-datatable-tbody"]],null,null,null,Y_,P_)),nr(12,180224,null,0,dg,[hg,cg,Ee],{columns:[0,"columns"],template:[1,"template"],frozen:[2,"frozen"]},null),(t()(),Ms(16777216,null,null,1,null,rv)),nr(14,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component,i=t(e,4,0,"flex"!==n.dt.scrollHeight?n.scrollHeight:void 0,!n.frozen&&n.dt.scrollHeight?"scroll":void 0);t(e,3,0,i),t(e,7,0,n.dt.tableStyle);var r=t(e,10,0,n.columns);t(e,9,0,r,n.frozen&&n.dt.frozenColGroupTemplate||n.dt.colGroupTemplate),t(e,12,0,n.columns,n.frozen&&n.dt.frozenBodyTemplate||n.dt.bodyTemplate,n.frozen),t(e,14,0,n.frozen)}),(function(t,e){t(e,5,0,e.component.dt.tableStyleClass)}))}function ov(t){return to(0,[(t()(),Vs(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function lv(t){return to(0,[(t()(),Vs(0,0,[[7,0],["scrollableAligner",1]],null,0,"div",[["style","background-color:transparent"]],null,null,null,null,null))],null,null)}function av(t){return to(0,[(t()(),Vs(0,0,null,null,14,"cdk-virtual-scroll-viewport",[["class","p-datatable-virtual-scrollable-body cdk-virtual-scroll-viewport"],["tabindex","0"]],[[4,"height",null],[2,"cdk-virtual-scroll-orientation-horizontal",null],[2,"cdk-virtual-scroll-orientation-vertical",null]],[[null,"scrolledIndexChange"]],(function(t,e,n){var i=!0;return"scrolledIndexChange"===e&&(i=!1!==t.component.onScrollIndexChange(n)&&i),i}),_y,yy)),rr(6144,null,Qm,null,[Km]),nr(2,540672,null,0,qm,[],{itemSize:[0,"itemSize"],minBufferPx:[1,"minBufferPx"],maxBufferPx:[2,"maxBufferPx"]},null),rr(1024,null,Um,Wm,[qm]),nr(4,245760,[[8,4]],0,Km,[en,Ee,ts,[2,Um],[2,dm],$m],null,{scrolledIndexChange:"scrolledIndexChange"}),(t()(),Vs(5,0,[[4,0],["scrollTable",1]],0,7,"table",[],[[8,"className",0]],null,null,null,null)),rr(512,null,oa,la,[en,Cn,ln]),nr(7,278528,null,0,ua,[oa],{ngStyle:[0,"ngStyle"]},null),(t()(),Ms(16777216,null,null,2,null,ov)),nr(9,540672,null,0,ca,[In],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Zs(10,{$implicit:0}),(t()(),Vs(11,0,null,null,1,"tbody",[["class","p-datatable-tbody"]],null,null,null,Y_,P_)),nr(12,180224,null,0,dg,[hg,cg,Ee],{columns:[0,"columns"],template:[1,"template"],frozen:[2,"frozen"]},null),(t()(),Ms(16777216,null,0,1,null,lv)),nr(14,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.dt.virtualRowHeight,n.dt.minBufferPx,n.dt.maxBufferPx),t(e,4,0),t(e,7,0,n.dt.tableStyle);var i=t(e,10,0,n.columns);t(e,9,0,i,n.frozen&&n.dt.frozenColGroupTemplate||n.dt.colGroupTemplate),t(e,12,0,n.columns,n.frozen&&n.dt.frozenBodyTemplate||n.dt.bodyTemplate,n.frozen),t(e,14,0,n.frozen)}),(function(t,e){var n=e.component;t(e,0,0,"flex"!==n.dt.scrollHeight?n.scrollHeight:void 0,"horizontal"===Bi(e,4).orientation,"horizontal"!==Bi(e,4).orientation),t(e,5,0,n.dt.tableStyleClass)}))}function uv(t){return to(0,[(t()(),Vs(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function cv(t){return to(0,[(t()(),Vs(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function hv(t){return to(0,[Bs(402653184,1,{scrollHeaderViewChild:0}),Bs(402653184,2,{scrollHeaderBoxViewChild:0}),Bs(671088640,3,{scrollBodyViewChild:0}),Bs(671088640,4,{scrollTableViewChild:0}),Bs(402653184,5,{scrollFooterViewChild:0}),Bs(402653184,6,{scrollFooterBoxViewChild:0}),Bs(671088640,7,{scrollableAlignerViewChild:0}),Bs(671088640,8,{virtualScrollBody:0}),(t()(),Vs(8,0,[[1,0],["scrollHeader",1]],null,16,"div",[["class","p-datatable-scrollable-header"]],null,null,null,null,null)),(t()(),Vs(9,0,[[2,0],["scrollHeaderBox",1]],null,15,"div",[["class","p-datatable-scrollable-header-box"]],null,null,null,null,null)),(t()(),Vs(10,0,null,null,14,"table",[["class","p-datatable-scrollable-header-table"]],null,null,null,null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(12,278528,null,0,Jl,[Zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),rr(512,null,oa,la,[en,Cn,ln]),nr(14,278528,null,0,ua,[oa],{ngStyle:[0,"ngStyle"]},null),(t()(),Ms(16777216,null,null,2,null,J_)),nr(16,540672,null,0,ca,[In],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Zs(17,{$implicit:0}),(t()(),Vs(18,0,null,null,3,"thead",[["class","p-datatable-thead"]],null,null,null,null,null)),(t()(),Ms(16777216,null,null,2,null,tv)),nr(20,540672,null,0,ca,[In],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Zs(21,{$implicit:0}),(t()(),Vs(22,0,null,null,2,"tbody",[["class","p-datatable-tbody"]],null,null,null,null,null)),(t()(),Ms(16777216,null,null,1,null,nv)),nr(24,278528,null,0,ea,[In,Tn,wn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(t()(),Ms(16777216,null,null,1,null,sv)),nr(26,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),Ms(0,[["virtualScrollTemplate",2]],null,0,null,av)),(t()(),Vs(28,0,[[5,0],["scrollFooter",1]],null,13,"div",[["class","p-datatable-scrollable-footer"]],null,null,null,null,null)),(t()(),Vs(29,0,[[6,0],["scrollFooterBox",1]],null,12,"div",[["class","p-datatable-scrollable-footer-box"]],null,null,null,null,null)),(t()(),Vs(30,0,null,null,11,"table",[["class","p-datatable-scrollable-footer-table"]],null,null,null,null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(32,278528,null,0,Jl,[Zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),rr(512,null,oa,la,[en,Cn,ln]),nr(34,278528,null,0,ua,[oa],{ngStyle:[0,"ngStyle"]},null),(t()(),Ms(16777216,null,null,2,null,uv)),nr(36,540672,null,0,ca,[In],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Zs(37,{$implicit:0}),(t()(),Vs(38,0,null,null,3,"tfoot",[["class","p-datatable-tfoot"]],null,null,null,null,null)),(t()(),Ms(16777216,null,null,2,null,cv)),nr(40,540672,null,0,ca,[In],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Zs(41,{$implicit:0})],(function(t,e){var n=e.component;t(e,12,0,"p-datatable-scrollable-header-table",n.dt.tableStyleClass),t(e,14,0,n.dt.tableStyle);var i=t(e,17,0,n.columns);t(e,16,0,i,n.frozen&&n.dt.frozenColGroupTemplate||n.dt.colGroupTemplate);var r=t(e,21,0,n.columns);t(e,20,0,r,n.frozen&&n.dt.frozenHeaderTemplate||n.dt.headerTemplate),t(e,24,0,n.dt.frozenValue,n.dt.rowTrackBy),t(e,26,0,!n.dt.virtualScroll,Bi(e,27)),t(e,32,0,"p-datatable-scrollable-footer-table",n.dt.tableStyleClass),t(e,34,0,n.dt.tableStyle);var s=t(e,37,0,n.columns);t(e,36,0,s,n.frozen&&n.dt.frozenColGroupTemplate||n.dt.colGroupTemplate);var o=t(e,41,0,n.columns);t(e,40,0,o,n.frozen&&n.dt.frozenFooterTemplate||n.dt.footerTemplate)}),null)}var dv=qn({encapsulation:2,styles:[],data:{}});function pv(t){return to(0,[(t()(),Vs(0,0,null,null,1,"span",[["class","p-sortable-column-badge"]],null,null,null,null,null)),(t()(),Ys(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.component.getMultiSortMetaIndex()+1)}))}function fv(t){return to(2,[(t()(),Vs(0,0,null,null,3,"i",[["class","p-sortable-column-icon pi pi-fw"]],null,null,null,null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(2,278528,null,0,Jl,[Zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Zs(3,{"pi-sort-amount-up-alt":0,"pi-sort-amount-down":1,"pi-sort-alt":2}),(t()(),Ms(16777216,null,null,1,null,pv)),nr(5,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component,i=t(e,3,0,1===n.sortOrder,-1===n.sortOrder,0===n.sortOrder);t(e,2,0,"p-sortable-column-icon pi pi-fw",i),t(e,5,0,n.isMultiSorted())}),null)}var gv=qn({encapsulation:2,styles:[],data:{}});function mv(t){return to(0,[(t()(),Vs(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function yv(t){return to(0,[(t()(),Vs(0,0,null,null,3,"span",[],[[1,"aria-hidden",0]],null,null,null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(2,278528,null,0,Jl,[Zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Zs(3,{"p-button-icon":0,"p-button-icon-left":1,"p-button-icon-right":2,"p-button-icon-top":3,"p-button-icon-bottom":4})],(function(t,e){var n=e.component,i=n.icon,r=t(e,3,0,!0,"left"===n.iconPos&&n.label,"right"===n.iconPos&&n.label,"top"===n.iconPos&&n.label,"bottom"===n.iconPos&&n.label);t(e,2,0,i,r)}),(function(t,e){t(e,0,0,!0)}))}function _v(t){return to(0,[(t()(),Vs(0,0,null,null,3,"span",[],null,null,null,null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(2,278528,null,0,Jl,[Zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),Ys(3,null,["",""]))],(function(t,e){var n=e.component;t(e,2,0,n.badgeClass,n.badgeStyleClass())}),(function(t,e){t(e,3,0,e.component.badge)}))}function vv(t){return to(2,[(t()(),Vs(0,0,null,null,15,"button",[["pRipple",""]],[[1,"type",0],[8,"disabled",0],[2,"p-ripple",null]],[[null,"click"],[null,"focus"],[null,"blur"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==r.onClick.emit(n)&&i),"focus"===e&&(i=!1!==r.onFocus.emit(n)&&i),"blur"===e&&(i=!1!==r.onBlur.emit(n)&&i),i}),null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(2,278528,null,0,Jl,[Zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Zs(3,{"p-button p-component":0,"p-button-icon-only":1,"p-button-vertical":2}),rr(512,null,oa,la,[en,Cn,ln]),nr(5,278528,null,0,ua,[oa],{ngStyle:[0,"ngStyle"]},null),nr(6,4341760,null,0,ny,[en,ts,[2,Nf]],null,null),Gs(null,0),(t()(),Ms(16777216,null,null,1,null,mv)),nr(9,540672,null,0,ca,[In],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(t()(),Ms(16777216,null,null,1,null,yv)),nr(11,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Vs(12,0,null,null,1,"span",[["class","p-button-label"]],[[1,"aria-hidden",0]],null,null,null,null)),(t()(),Ys(13,null,["",""])),(t()(),Ms(16777216,null,null,1,null,_v)),nr(15,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component,i=n.styleClass,r=t(e,3,0,!0,n.icon&&!n.label,("top"===n.iconPos||"bottom"===n.iconPos)&&n.label);t(e,2,0,i,r),t(e,5,0,n.style),t(e,9,0,n.contentTemplate),t(e,11,0,n.icon),t(e,15,0,n.badge)}),(function(t,e){var n=e.component;t(e,0,0,n.type,n.disabled,!0),t(e,12,0,n.icon&&!n.label),t(e,13,0,n.label||"\xa0")}))}class bv{constructor(){this.email="@gmail.com",this.message="Bonjour, veuillez retrouver ci-joint mon bon de commande : ",this.emailDestinataire="prost.sav@gmail.com"}}class wv{constructor(t,e,n,i){this.http=t,this.db2=e,this.route=n,this.confirmationService=i,this.changerEcran=new xr,this.contact=new bv}ngOnInit(){this.endpoint="sendEmail.php",this.route.queryParams.subscribe(t=>{this.chargerEmail(t.id)})}suppression(t){const e=this.panier.findIndex(e=>e.id===t);this.panier.splice(e,1)}emitEventChangementEcran(){this.changerEcran.emit(!0)}sendMessageFromPanier(t){this.confirmationService.confirm({icon:"pi pi-info-circle",acceptLabel:"Je valide",rejectLabel:"Annuler",message:"Voulez-vous transmettre ce bon de commande ? ",accept:()=>{const t="<br>";let e=t;e+=this.contact.message+t,this.panier.forEach(n=>{e+=n.qteStockArticle+" ["+n.designation+" ]"+t}),e+="--------------------INFORMATION DE CONTACT-----------------------------"+t,e+=this.contact.nom+t,e+="<"+this.contact.tel+">  <"+this.contact.email+">"+t,e+="-----------------------------------------------------------------------"+t,this.contact.tel&&this.contact.email&&this.http.post(this.endpoint,{email:this.contact.email,name:this.contact.nom,emailDestinataire:this.contact.emailDestinataire,message:e}).subscribe(t=>{Sa.generateAlerte(this.confirmationService,"Votre bon de commande a \xe9t\xe9 transmis, on vous appellera d\xe9s que possible."),this.contact=new bv,this.panier=[]},t=>{Sa.generateAlerte(this.confirmationService,"Impossible de transmettre le bon de commande... Assurez-vous d'\xeatre conn\xe9ct\xe9 \xe0 internet puis r\xe9essayez ...")})}})}chargerEmail(t){this.db2.database.ref("catalogue/"+t+"/email").once("value").then(t=>{this.contact.emailDestinataire=t.val()},t=>{this.contact.emailDestinataire="prost.sav@gmail.com"})}}class Cv{}class Sv{}class Ev{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),i=n.toLowerCase(),r=t.slice(e+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(r):this.headers.set(i,[r])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const i=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ev?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Ev;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ev?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...n),this.headers.set(e,i);break;case"d":const r=t.value;if(r){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===r.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class xv{encodeKey(t){return Tv(t)}encodeValue(t){return Tv(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Tv(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class kv{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new xv,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const i=t.indexOf("="),[r,s]=-1==i?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,i)),e.decodeValue(t.slice(i+1))],o=n.get(r)||[];o.push(s),n.set(r,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).join("&")}clone(t){const e=new kv({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function Iv(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Ov(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Pv(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Rv{constructor(t,e,n,i){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,r=i):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new Ev),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new kv,this.urlWithParams=e}serializeBody(){return null===this.body?null:Iv(this.body)||Ov(this.body)||Pv(this.body)||"string"==typeof this.body?this.body:this.body instanceof kv?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Pv(this.body)?null:Ov(this.body)?this.body.type||null:Iv(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof kv?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,i=t.responseType||this.responseType,r=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,a=t.params||this.params;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),l)),t.setParams&&(a=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),a)),new Rv(e,n,r,{params:a,headers:l,reportProgress:o,responseType:i,withCredentials:s})}}const Dv=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class Av{constructor(t,e=200,n="OK"){this.headers=t.headers||new Ev,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Nv extends Av{constructor(t={}){super(t),this.type=Dv.ResponseHeader}clone(t={}){return new Nv({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Lv extends Av{constructor(t={}){super(t),this.type=Dv.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Lv({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Fv extends Av{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Mv(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}class Vv{constructor(t){this.handler=t}request(t,e,n={}){let i;if(t instanceof Rv)i=t;else{let r=void 0;r=n.headers instanceof Ev?n.headers:new Ev(n.headers);let s=void 0;n.params&&(s=n.params instanceof kv?n.params:new kv({fromObject:n.params})),i=new Rv(t,e,void 0!==n.body?n.body:null,{headers:r,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const r=Oa(i).pipe(yu(t=>this.handler.handle(t)));if(t instanceof Rv||"events"===n.observe)return r;const s=r.pipe(Va(t=>t instanceof Lv));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return s.pipe(U(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(U(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(U(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(U(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new kv).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Mv(n,e))}post(t,e,n={}){return this.request("POST",t,Mv(n,e))}put(t,e,n={}){return this.request("PUT",t,Mv(n,e))}}class zv{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const jv=new Tt("HTTP_INTERCEPTORS");class Hv{intercept(t,e){return e.handle(t)}}const Uv=/^\)\]\}',?\n/;class Bv{}class Wv{constructor(){}build(){return new XMLHttpRequest}}class qv{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new w(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const i=t.serializeBody();let r=null;const s=()=>{if(null!==r)return r;const e=1223===n.status?204:n.status,i=n.statusText||"OK",s=new Ev(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return r=new Nv({headers:s,status:e,statusText:i,url:o}),r},o=()=>{let{headers:i,status:r,statusText:o,url:l}=s(),a=null;204!==r&&(a=void 0===n.response?n.responseText:n.response),0===r&&(r=a?200:0);let u=r>=200&&r<300;if("json"===t.responseType&&"string"==typeof a){const t=a;a=a.replace(Uv,"");try{a=""!==a?JSON.parse(a):null}catch(c){a=t,u&&(u=!1,a={error:c,text:a})}}u?(e.next(new Lv({body:a,headers:i,status:r,statusText:o,url:l||void 0})),e.complete()):e.error(new Fv({error:a,headers:i,status:r,statusText:o,url:l||void 0}))},l=t=>{const{url:i}=s(),r=new Fv({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:i||void 0});e.error(r)};let a=!1;const u=i=>{a||(e.next(s()),a=!0);let r={type:Dv.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(r.total=i.total),"text"===t.responseType&&n.responseText&&(r.partialText=n.responseText),e.next(r)},c=t=>{let n={type:Dv.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",l),t.reportProgress&&(n.addEventListener("progress",u),null!==i&&n.upload&&n.upload.addEventListener("progress",c)),n.send(i),e.next({type:Dv.Sent}),()=>{n.removeEventListener("error",l),n.removeEventListener("load",o),t.reportProgress&&(n.removeEventListener("progress",u),null!==i&&n.upload&&n.upload.removeEventListener("progress",c)),n.abort()}})}}const $v=new Tt("XSRF_COOKIE_NAME"),Qv=new Tt("XSRF_HEADER_NAME");class Gv{}class Kv{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Kl(t,this.cookieName),this.lastCookieString=t),this.lastToken}}class Zv{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)}}class Yv{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(jv,[]);this.chain=t.reduceRight((t,e)=>new zv(t,e),this.backend)}return this.chain.handle(t)}}class Xv{static disable(){return{ngModule:Xv,providers:[{provide:Zv,useClass:Hv}]}}static withOptions(t={}){return{ngModule:Xv,providers:[t.cookieName?{provide:$v,useValue:t.cookieName}:[],t.headerName?{provide:Qv,useValue:t.headerName}:[]]}}}class Jv{}var tb=qn({encapsulation:0,styles:[[".btn-catalog[_ngcontent-%COMP%]{line-height:1;color:#333;font-size:.9125rem!important;font-weight:500;text-align:center;text-transform:uppercase;box-shadow:none;border:none;background:#fd5300;cursor:pointer}.border-info[_ngcontent-%COMP%]{position:relative;padding:15px!important;border:1px solid #dbdbdb!important}"]],data:{}});function eb(t){return to(0,[(t()(),Vs(0,0,null,null,9,"tr",[],null,null,null,null,null)),(t()(),Vs(1,0,null,null,0,"th",[["class","td-max-width-25"]],null,null,null,null,null)),(t()(),Vs(2,0,null,null,4,"th",[["class","padding-none-table text-left td-min-width-125"]],[[2,"p-sortable-column",null],[2,"p-highlight",null],[1,"tabindex",0],[1,"role",0],[1,"aria-sort",0]],[[null,"click"],[null,"keydown.enter"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==Bi(t,3).onClick(n)&&i),"keydown.enter"===e&&(i=!1!==Bi(t,3).onEnterKey(n)&&i),i}),null,null)),nr(3,212992,null,0,fg,[hg],{field:[0,"field"]},null),(t()(),Ys(-1,null,[" D\xe9signation "])),(t()(),Vs(5,0,null,null,1,"p-sortIcon",[],null,null,null,fv,dv)),nr(6,245760,null,0,gg,[hg,Ee],{field:[0,"field"]},null),(t()(),Vs(7,0,null,null,1,"th",[["class","padding-none-table text-center"]],null,null,null,null,null)),(t()(),Ys(-1,null,[" Quantit\xe9 "])),(t()(),Vs(9,0,null,null,0,"th",[["class","padding-none-table"]],null,null,null,null,null))],(function(t,e){t(e,3,0,"designation"),t(e,6,0,"designation")}),(function(t,e){t(e,2,0,Bi(e,3).isEnabled(),Bi(e,3).sorted,Bi(e,3).isEnabled()?"0":null,"columnheader",Bi(e,3).sortOrder)}))}function nb(t){return to(0,[(t()(),Vs(0,0,null,null,16,"tr",[],null,null,null,null,null)),(t()(),Vs(1,0,null,null,2,"td",[["class","padding-none-table td-max-width-25"]],null,null,null,null,null)),(t()(),Vs(2,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),Ys(3,null,[" ",". "])),(t()(),Vs(4,0,null,null,2,"td",[["class","padding-none-table text-left"]],null,null,null,null,null)),(t()(),Vs(5,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),Ys(6,null,[" "," "])),(t()(),Vs(7,0,null,null,6,"td",[["class","padding-none-table text-center"]],null,null,null,null,null)),(t()(),Vs(8,0,null,null,5,"input",[["class","text-center"],["name","qte"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0;return"input"===e&&(i=!1!==Bi(t,9)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==Bi(t,9).onTouched()&&i),"compositionstart"===e&&(i=!1!==Bi(t,9)._compositionStart()&&i),"compositionend"===e&&(i=!1!==Bi(t,9)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(t.context.$implicit.qteStockArticle=n)&&i),i}),null,null)),nr(9,16384,null,0,bg,[ln,en,[2,vg]],null,null),rr(1024,null,_g,(function(t){return[t]}),[bg]),nr(11,671744,null,0,om,[[8,null],[8,null],[8,null],[6,_g]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),rr(2048,null,Eg,null,[om]),nr(13,16384,null,0,Tg,[[4,Eg]],null,null),(t()(),Vs(14,0,null,null,2,"td",[["class","padding-none-table text-center"]],null,null,null,null,null)),(t()(),Vs(15,0,null,null,1,"button",[["class","btn no-pd-mr"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.suppression(t.context.$implicit.id)&&i),i}),null,null)),(t()(),Vs(16,0,null,null,0,"i",[["class","fas fa-times-circle delete-color fa-2x"]],null,null,null,null,null))],(function(t,e){t(e,11,0,"qte",e.context.$implicit.qteStockArticle)}),(function(t,e){t(e,3,0,e.context.rowIndex+1),t(e,6,0,e.context.$implicit.designation),t(e,8,0,Bi(e,13).ngClassUntouched,Bi(e,13).ngClassTouched,Bi(e,13).ngClassPristine,Bi(e,13).ngClassDirty,Bi(e,13).ngClassValid,Bi(e,13).ngClassInvalid,Bi(e,13).ngClassPending)}))}function ib(t){return to(0,[(t()(),Vs(0,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),Ys(1,null,[" Destinataire : <",">"]))],null,(function(t,e){t(e,1,0,e.component.contact.emailDestinataire)}))}function rb(t){return to(0,[(t()(),Vs(0,0,null,null,60,null,null,null,null,null,null,null)),(t()(),Vs(1,0,null,null,59,"div",[["class","col-mg-12 row padding-none margin-none"]],null,null,null,null,null)),(t()(),Vs(2,0,null,null,12,"div",[["class","col-md-8"]],null,null,null,null,null)),(t()(),Vs(3,0,null,null,11,"div",[["class","card"]],null,null,null,null,null)),(t()(),Vs(4,0,null,null,10,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),Vs(5,0,null,null,1,"h4",[["class","card-title"]],null,null,null,null,null)),(t()(),Ys(-1,null,["Bon de commande "])),(t()(),Vs(7,0,null,null,7,"p-table",[],null,null,null,O_,h_)),rr(512,null,cg,cg,[]),nr(9,6012928,null,1,hg,[en,ts,cg,Ee,Vf],{autoLayout:[0,"autoLayout"],value:[1,"value"]},null),Bs(603979776,1,{templates:1}),(t()(),Ms(0,null,null,1,null,eb)),nr(12,16384,[[1,4]],0,Uf,[Tn],{name:[0,"name"]},null),(t()(),Ms(0,null,null,1,null,nb)),nr(14,16384,[[1,4]],0,Uf,[Tn],{name:[0,"name"]},null),(t()(),Vs(15,0,null,null,45,"div",[["class","col-md-4"]],null,null,null,null,null)),(t()(),Vs(16,0,null,null,44,"div",[],null,null,null,null,null)),(t()(),Vs(17,0,null,null,43,"div",[["class","card"]],null,null,null,null,null)),(t()(),Vs(18,0,null,null,42,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),Vs(19,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(t()(),Ys(20,null,[" Transmission du bon de commande : [ "," article(s) ] "])),(t()(),Vs(21,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Ms(16777216,null,null,1,null,ib)),nr(23,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Vs(24,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Vs(25,0,null,null,35,"form",[["Style","text-align: center;"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0;return"submit"===e&&(i=!1!==Bi(t,27).onSubmit(n)&&i),"reset"===e&&(i=!1!==Bi(t,27).onReset()&&i),i}),null,null)),nr(26,16384,null,0,lm,[],null,null),nr(27,4210688,null,0,tm,[[8,null],[8,null]],null,null),rr(2048,null,Cg,null,[tm]),nr(29,16384,null,0,kg,[[4,Cg]],null,null),(t()(),Vs(30,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Vs(31,0,null,null,5,"input",[["class","form-control"],["name","name"],["placeholder","Nom de contact [OBLIGATOIRE]"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,r=t.component;return"input"===e&&(i=!1!==Bi(t,32)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==Bi(t,32).onTouched()&&i),"compositionstart"===e&&(i=!1!==Bi(t,32)._compositionStart()&&i),"compositionend"===e&&(i=!1!==Bi(t,32)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(r.contact.nom=n)&&i),i}),null,null)),nr(32,16384,null,0,bg,[ln,en,[2,vg]],null,null),rr(1024,null,_g,(function(t){return[t]}),[bg]),nr(34,671744,null,0,om,[[2,Cg],[8,null],[8,null],[6,_g]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),rr(2048,null,Eg,null,[om]),nr(36,16384,null,0,Tg,[[4,Eg]],null,null),(t()(),Vs(37,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Vs(38,0,null,null,5,"input",[["class","form-control"],["name","email"],["placeholder","Adresse mail"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,r=t.component;return"input"===e&&(i=!1!==Bi(t,39)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==Bi(t,39).onTouched()&&i),"compositionstart"===e&&(i=!1!==Bi(t,39)._compositionStart()&&i),"compositionend"===e&&(i=!1!==Bi(t,39)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(r.contact.email=n)&&i),i}),null,null)),nr(39,16384,null,0,bg,[ln,en,[2,vg]],null,null),rr(1024,null,_g,(function(t){return[t]}),[bg]),nr(41,671744,null,0,om,[[2,Cg],[8,null],[8,null],[6,_g]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),rr(2048,null,Eg,null,[om]),nr(43,16384,null,0,Tg,[[4,Eg]],null,null),(t()(),Vs(44,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Vs(45,0,null,null,5,"input",[["class","form-control"],["name","tel"],["placeholder","Mobile [OBLIGATOIRE]"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,r=t.component;return"input"===e&&(i=!1!==Bi(t,46)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==Bi(t,46).onTouched()&&i),"compositionstart"===e&&(i=!1!==Bi(t,46)._compositionStart()&&i),"compositionend"===e&&(i=!1!==Bi(t,46)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(r.contact.tel=n)&&i),i}),null,null)),nr(46,16384,null,0,bg,[ln,en,[2,vg]],null,null),rr(1024,null,_g,(function(t){return[t]}),[bg]),nr(48,671744,null,0,om,[[2,Cg],[8,null],[8,null],[6,_g]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),rr(2048,null,Eg,null,[om]),nr(50,16384,null,0,Tg,[[4,Eg]],null,null),(t()(),Vs(51,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Vs(52,0,null,null,5,"textarea",[["class","form-control"],["name","message"],["placeholder","Message"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,r=t.component;return"input"===e&&(i=!1!==Bi(t,53)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==Bi(t,53).onTouched()&&i),"compositionstart"===e&&(i=!1!==Bi(t,53)._compositionStart()&&i),"compositionend"===e&&(i=!1!==Bi(t,53)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(r.contact.message=n)&&i),i}),null,null)),nr(53,16384,null,0,bg,[ln,en,[2,vg]],null,null),rr(1024,null,_g,(function(t){return[t]}),[bg]),nr(55,671744,null,0,om,[[2,Cg],[8,null],[8,null],[6,_g]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),rr(2048,null,Eg,null,[om]),nr(57,16384,null,0,Tg,[[4,Eg]],null,null),(t()(),Vs(58,0,null,null,2,"p-button",[["class","p-button-secondary btn-margin"],["icon","pi pi-check"],["label","TRANSMETTRE LE BON DE COMMANDE"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.sendMessageFromPanier("Bon de commande")&&i),i}),vv,gv)),nr(59,1097728,null,1,hy,[],{icon:[0,"icon"],label:[1,"label"],disabled:[2,"disabled"]},null),Bs(603979776,2,{templates:1})],(function(t,e){var n=e.component;t(e,9,0,!0,n.panier),t(e,12,0,"header"),t(e,14,0,"body"),t(e,23,0,n.contact),t(e,34,0,"name",n.contact.nom),t(e,41,0,"email",n.contact.email),t(e,48,0,"tel",n.contact.tel),t(e,55,0,"message",n.contact.message),t(e,59,0,"pi pi-check","TRANSMETTRE LE BON DE COMMANDE",!n.contact.tel||!n.contact.nom||0===n.panier.length||!n.contact.emailDestinataire)}),(function(t,e){var n=e.component;t(e,20,0,n.panier?n.panier.length:0),t(e,25,0,Bi(e,29).ngClassUntouched,Bi(e,29).ngClassTouched,Bi(e,29).ngClassPristine,Bi(e,29).ngClassDirty,Bi(e,29).ngClassValid,Bi(e,29).ngClassInvalid,Bi(e,29).ngClassPending),t(e,31,0,Bi(e,36).ngClassUntouched,Bi(e,36).ngClassTouched,Bi(e,36).ngClassPristine,Bi(e,36).ngClassDirty,Bi(e,36).ngClassValid,Bi(e,36).ngClassInvalid,Bi(e,36).ngClassPending),t(e,38,0,Bi(e,43).ngClassUntouched,Bi(e,43).ngClassTouched,Bi(e,43).ngClassPristine,Bi(e,43).ngClassDirty,Bi(e,43).ngClassValid,Bi(e,43).ngClassInvalid,Bi(e,43).ngClassPending),t(e,45,0,Bi(e,50).ngClassUntouched,Bi(e,50).ngClassTouched,Bi(e,50).ngClassPristine,Bi(e,50).ngClassDirty,Bi(e,50).ngClassValid,Bi(e,50).ngClassInvalid,Bi(e,50).ngClassPending),t(e,52,0,Bi(e,57).ngClassUntouched,Bi(e,57).ngClassTouched,Bi(e,57).ngClassPristine,Bi(e,57).ngClassDirty,Bi(e,57).ngClassValid,Bi(e,57).ngClassInvalid,Bi(e,57).ngClassPending)}))}function sb(t){return to(0,[(t()(),Vs(0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),Vs(1,0,null,null,2,"div",[["class","col-mg-12 row padding-none margin-none text-center"]],null,null,null,null,null)),(t()(),Vs(2,0,null,null,1,"strong",[["style","margin: auto"]],null,null,null,null,null)),(t()(),Ys(-1,null,[" Votre bon de commande est vide. "]))],null,null)}function ob(t){return to(0,[(t()(),Vs(0,0,null,null,3,"div",[["class","col-md-12 margin-top-bottom "]],null,null,null,null,null)),(t()(),Vs(1,0,null,null,2,"div",[["class","col-md-3 border-info bg-white text-left btn-catalog"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.emitEventChangementEcran()&&i),i}),null,null)),(t()(),Vs(2,0,null,null,0,"i",[["class","fa fa-arrow-left"]],null,null,null,null,null)),(t()(),Ys(-1,null,[" Revenir au catalogue "])),(t()(),Ms(16777216,null,null,1,null,rb)),nr(5,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,1,null,sb)),nr(7,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Vs(8,0,null,null,0,"br",[],null,null,null,null,null))],(function(t,e){var n=e.component;t(e,5,0,n.panier.length>0),t(e,7,0,0===n.panier.length)}),null)}class lb{constructor(t){this.zone=t,this.onClose=new xr}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(t){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),t.preventDefault()}ngOnDestroy(){this.clearTimeout()}}class ab{constructor(t,e){this.messageService=t,this.cd=e,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new xr}ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(t=>{if(t)if(t instanceof Array){const e=t.filter(t=>this.canAdd(t));this.add(e)}else this.canAdd(t)&&this.add([t])}),this.clearSubscription=this.messageService.clearObserver.subscribe(t=>{t?this.key===t&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}add(t){this.messages=this.messages?[...this.messages,...t]:[...t],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...t]:[...t]),this.cd.markForCheck()}canAdd(t){let e=this.key===t.key;return e&&this.preventOpenDuplicates&&(e=!this.containsMessage(this.messages,t)),e&&this.preventDuplicates&&(e=!this.containsMessage(this.messagesArchieve,t)),e}containsMessage(t,e){return!!t&&null!=t.find(t=>t.summary===e.summary&&t.detail==e.detail&&t.severity===e.severity)}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"message":default:this.template=t.template}})}onMessageClose(t){this.messages.splice(t.index,1),this.onClose.emit({message:t.message}),this.cd.detectChanges()}onAnimationStart(t){"void"===t.fromState&&this.autoZIndex&&(this.containerViewChild.nativeElement.style.zIndex=String(this.baseZIndex+ ++ag.zindex))}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.clearSubscription&&this.clearSubscription.unsubscribe()}}class ub{}var cb=qn({encapsulation:2,styles:[],data:{animation:[{type:7,name:"messageState",definitions:[{type:0,name:"visible",styles:{type:6,styles:{transform:"translateY(0)",opacity:1},offset:null},options:void 0},{type:1,expr:"void => *",animation:[{type:6,styles:{transform:"{{showTransformParams}}",opacity:0},offset:null},{type:4,styles:null,timings:"{{showTransitionParams}}"}],options:null},{type:1,expr:"* => void",animation:[{type:4,styles:{type:6,styles:{height:0,opacity:0,transform:"{{hideTransformParams}}"},offset:null},timings:"{{hideTransitionParams}}"}],options:null}],options:{}}]}});function hb(t){return to(0,[(t()(),Vs(0,0,null,null,9,null,null,null,null,null,null,null)),(t()(),Vs(1,0,null,null,3,"span",[],null,null,null,null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(3,278528,null,0,Jl,[Zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Zs(4,{"pi-info-circle":0,"pi-exclamation-triangle":1,"pi-times-circle":2,"pi-check":3}),(t()(),Vs(5,0,null,null,4,"div",[["class","p-toast-message-text"]],null,null,null,null,null)),(t()(),Vs(6,0,null,null,1,"div",[["class","p-toast-summary"]],null,null,null,null,null)),(t()(),Ys(7,null,["",""])),(t()(),Vs(8,0,null,null,1,"div",[["class","p-toast-detail"]],null,null,null,null,null)),(t()(),Ys(9,null,["",""]))],(function(t,e){var n=e.component,i="p-toast-message-icon pi"+(n.message.icon?" "+n.message.icon:""),r=t(e,4,0,"info"==n.message.severity,"warn"==n.message.severity,"error"==n.message.severity,"success"==n.message.severity);t(e,3,0,i,r)}),(function(t,e){var n=e.component;t(e,7,0,n.message.summary),t(e,9,0,n.message.detail)}))}function db(t){return to(0,[(t()(),Vs(0,0,null,null,2,"button",[["class","p-toast-icon-close p-link"],["pRipple",""],["type","button"]],[[2,"p-ripple",null]],[[null,"click"],[null,"keydown.enter"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==r.onCloseIconClick(n)&&i),"keydown.enter"===e&&(i=!1!==r.onCloseIconClick(n)&&i),i}),null,null)),nr(1,4341760,null,0,ny,[en,ts,[2,Nf]],null,null),(t()(),Vs(2,0,null,null,0,"span",[["class","p-toast-icon-close-icon pi pi-times"]],null,null,null,null,null))],null,(function(t,e){t(e,0,0,!0)}))}function pb(t){return to(0,[(t()(),Vs(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function fb(t){return to(2,[Bs(402653184,1,{containerViewChild:0}),(t()(),Vs(1,0,[[1,0],["container",1]],null,12,"div",[["class","p-toast-message"]],[[1,"id",0],[24,"@messageState",0]],[[null,"mouseenter"],[null,"mouseleave"]],(function(t,e,n){var i=!0,r=t.component;return"mouseenter"===e&&(i=!1!==r.onMouseEnter()&&i),"mouseleave"===e&&(i=!1!==r.onMouseLeave()&&i),i}),null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(3,278528,null,0,Jl,[Zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Zs(4,{showTransformParams:0,hideTransformParams:1,showTransitionParams:2,hideTransitionParams:3}),Zs(5,{value:0,params:1}),(t()(),Vs(6,0,null,null,7,"div",[["aria-atomic","true"],["aria-live","assertive"],["class","p-toast-message-content"],["role","alert"]],null,null,null,null,null)),(t()(),Ms(16777216,null,null,1,null,hb)),nr(8,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,1,null,db)),nr(10,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,2,null,pb)),nr(12,540672,null,0,ca,[In],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Zs(13,{$implicit:0})],(function(t,e){var n=e.component;t(e,3,0,"p-toast-message","p-toast-message-"+n.message.severity),t(e,8,0,!n.template),t(e,10,0,!1!==n.message.closable);var i=t(e,13,0,n.message);t(e,12,0,i,n.template)}),(function(t,e){var n=e.component,i=n.message.id,r=t(e,5,0,"visible",t(e,4,0,n.showTransformOptions,n.hideTransformOptions,n.showTransitionOptions,n.hideTransitionOptions));t(e,1,0,i,r)}))}var gb=qn({encapsulation:2,styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{align-items:flex-start;display:flex}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{right:20px;top:20px}.p-toast-top-left{left:20px;top:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{left:50%;margin-left:-10em;top:20px}.p-toast-bottom-center{bottom:20px;left:50%;margin-left:-10em}.p-toast-center{left:50%;min-width:20vw;top:50%;transform:translate(-50%,-50%)}.p-toast-icon-close{align-items:center;display:flex;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}"],data:{animation:[{type:7,name:"toastAnimation",definitions:[{type:1,expr:":enter, :leave",animation:[{type:11,selector:"@*",animation:{type:9,options:null},options:null}],options:null}],options:{}}]}});function mb(t){return to(0,[(t()(),Vs(0,0,null,null,1,"p-toastItem",[],[[24,"@toastAnimation",0]],[[null,"onClose"],[null,"@toastAnimation.start"]],(function(t,e,n){var i=!0,r=t.component;return"onClose"===e&&(i=!1!==r.onMessageClose(n)&&i),"@toastAnimation.start"===e&&(i=!1!==r.onAnimationStart(n)&&i),i}),fb,cb)),nr(1,4374528,null,0,lb,[ts],{message:[0,"message"],index:[1,"index"],template:[2,"template"],showTransformOptions:[3,"showTransformOptions"],hideTransformOptions:[4,"hideTransformOptions"],showTransitionOptions:[5,"showTransitionOptions"],hideTransitionOptions:[6,"hideTransitionOptions"]},{onClose:"onClose"})],(function(t,e){var n=e.component;t(e,1,0,e.context.$implicit,e.context.index,n.template,n.showTransformOptions,n.hideTransformOptions,n.showTransitionOptions,n.hideTransitionOptions)}),(function(t,e){t(e,0,0,void 0)}))}function yb(t){return to(2,[Bs(402653184,1,{containerViewChild:0}),(t()(),Vs(1,0,[[1,0],["container",1]],null,6,"div",[],null,null,null,null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(3,278528,null,0,Jl,[Zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),rr(512,null,oa,la,[en,Cn,ln]),nr(5,278528,null,0,ua,[oa],{ngStyle:[0,"ngStyle"]},null),(t()(),Ms(16777216,null,null,1,null,mb)),nr(7,278528,null,0,ea,[In,Tn,wn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,3,0,n.styleClass,"p-toast p-component p-toast-"+n.position),t(e,5,0,n.style),t(e,7,0,n.messages)}),null)}class _b{}function vb(t,e=null){return{type:2,steps:t,options:e}}function bb(t){return{type:6,styles:t,offset:null}}function wb(t){Promise.resolve(null).then(t)}class Cb{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){wb(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Sb{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,i=0;const r=this.players.length;0==r?wb(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==r&&this._onFinish()}),t.onDestroy(()=>{++n==r&&this._onDestroy()}),t.onStart(()=>{++i==r&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Eb{constructor(t,e,n,i,r,s){this.el=t,this.renderer=e,this.confirmationService=n,this.zone=i,this.cd=r,this.config=s,this.acceptIcon="pi pi-check",this.acceptVisible=!0,this.rejectIcon="pi pi-times",this.rejectVisible=!0,this.closeOnEscape=!0,this.blockScroll=!0,this.closable=!0,this.autoZIndex=!0,this.baseZIndex=0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.focusTrap=!0,this.defaultFocus="accept",this.onHide=new xr,this._position="center",this.transformOptions="scale(0.7)",this.id="pr_id_"+ ++Df,this.subscription=this.confirmationService.requireConfirmation$.subscribe(t=>{t?t.key===this.key&&(this.confirmation=t,this.confirmationOptions={message:this.confirmation.message||this.message,icon:this.confirmation.icon||this.icon,header:this.confirmation.header||this.header,rejectVisible:null==this.confirmation.rejectVisible?this.rejectVisible:this.confirmation.rejectVisible,acceptVisible:null==this.confirmation.acceptVisible?this.acceptVisible:this.confirmation.acceptVisible,acceptLabel:this.confirmation.acceptLabel||this.acceptLabel,rejectLabel:this.confirmation.rejectLabel||this.rejectLabel,acceptIcon:this.confirmation.acceptIcon||this.acceptIcon,rejectIcon:this.confirmation.rejectIcon||this.rejectIcon,acceptButtonStyleClass:this.confirmation.acceptButtonStyleClass||this.acceptButtonStyleClass,rejectButtonStyleClass:this.confirmation.rejectButtonStyleClass||this.rejectButtonStyleClass,defaultFocus:this.confirmation.defaultFocus||this.defaultFocus,blockScroll:!1===this.confirmation.blockScroll||!0===this.confirmation.blockScroll?this.confirmation.blockScroll:this.blockScroll,closeOnEscape:!1===this.confirmation.closeOnEscape||!0===this.confirmation.closeOnEscape?this.confirmation.closeOnEscape:this.closeOnEscape,dismissableMask:!1===this.confirmation.dismissableMask||!0===this.confirmation.dismissableMask?this.confirmation.dismissableMask:this.dismissableMask},this.confirmation.accept&&(this.confirmation.acceptEvent=new xr,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new xr,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0):this.hide()})}get visible(){return this._visible}set visible(t){this._visible=t,this._visible&&!this.maskVisible&&(this.maskVisible=!0),this.cd.markForCheck()}get position(){return this._position}set position(t){switch(this._position=t,t){case"top-left":case"bottom-left":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"top-right":case"bottom-right":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"footer":this.footerTemplate=t.template}})}ngOnInit(){this.breakpoints&&this.createStyle()}option(t){const e=this.confirmationOptions||this;if(e.hasOwnProperty(t))return e[t]}onAnimationStart(t){switch(t.toState){case"visible":this.container=t.element,this.wrapper=this.container.parentElement,this.contentContainer=ag.findSingle(this.container,".p-dialog-content"),this.container.setAttribute(this.id,"");const e=this.getElementToFocus();e&&e.focus(),this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.enableModality()}}onAnimationEnd(t){switch(t.toState){case"void":this.onOverlayHide()}}getElementToFocus(){switch(this.option("defaultFocus")){case"accept":return ag.findSingle(this.container,".p-confirm-dialog-accept");case"reject":return ag.findSingle(this.container,".p-confirm-dialog-reject");case"close":return ag.findSingle(this.container,".p-dialog-header-close");case"none":return null;default:return ag.findSingle(this.container,".p-confirm-dialog-accept")}}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):ag.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.wrapper&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}enableModality(){this.option("blockScroll")&&ag.addClass(document.body,"p-overflow-hidden"),this.option("dismissableMask")&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",t=>{this.wrapper&&this.wrapper.isSameNode(t.target)&&this.close(t)}))}disableModality(){this.maskVisible=!1,this.option("blockScroll")&&ag.removeClass(document.body,"p-overflow-hidden"),this.dismissableMask&&this.unbindMaskClickListener(),this.container&&!this.cd.destroyed&&this.cd.detectChanges()}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let t="";for(let e in this.breakpoints)t+=`\n                    @media screen and (max-width: ${e}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[e]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=t}}close(t){this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(Ff.CANCEL),this.hide(Ff.CANCEL),t.preventDefault()}hide(t){this.onHide.emit(t),this.visible=!1,this.confirmation=null,this.confirmationOptions=null}moveOnTop(){this.autoZIndex&&(this.container.style.zIndex=String(this.baseZIndex+ ++ag.zindex),this.wrapper.style.zIndex=String(this.baseZIndex+(ag.zindex-1)))}getMaskClass(){let t={"p-dialog-mask p-component-overlay":!0,"p-dialog-mask-scrollblocker":this.blockScroll};return t[this.getPositionClass().toString()]=!0,t}getPositionClass(){const t=["left","right","top","top-left","top-right","bottom","bottom-left","bottom-right"].find(t=>t===this.position);return t?"p-dialog-"+t:""}bindGlobalListeners(){(this.option("closeOnEscape")&&this.closable||this.focusTrap&&!this.documentEscapeListener)&&(this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",t=>{if(27==t.which&&this.option("closeOnEscape")&&this.closable&&parseInt(this.container.style.zIndex)===ag.zindex+this.baseZIndex&&this.visible&&this.close(t),9===t.which&&this.focusTrap){t.preventDefault();let e=ag.getFocusableElements(this.container);if(e&&e.length>0)if(e[0].ownerDocument.activeElement){let n=e.indexOf(e[0].ownerDocument.activeElement);t.shiftKey?-1==n||0===n?e[e.length-1].focus():e[n-1].focus():-1==n||n===e.length-1?e[0].focus():e[n+1].focus()}else e[0].focus()}}))}unbindGlobalListeners(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}onOverlayHide(){this.disableModality(),this.unbindGlobalListeners(),this.container=null}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.restoreAppend(),this.onOverlayHide(),this.subscription.unsubscribe(),this.destroyStyle()}accept(){this.confirmation&&this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide(Ff.ACCEPT)}reject(){this.confirmation&&this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(Ff.REJECT),this.hide(Ff.REJECT)}get acceptButtonLabel(){return this.option("acceptLabel")||this.config.getTranslation(Lf.ACCEPT)}get rejectButtonLabel(){return this.option("rejectLabel")||this.config.getTranslation(Lf.REJECT)}}class xb{}var Tb=qn({encapsulation:2,styles:[".p-dialog-mask{align-items:center;background-color:transparent;display:flex;height:100%;justify-content:center;left:0;pointer-events:none;position:fixed;top:0;transition-property:background-color;width:100%}.p-dialog,.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;max-height:90%;position:relative;transform:scale(1)}.p-dialog-content{overflow-y:auto}.p-dialog-header{align-items:center;display:flex;flex-shrink:0;justify-content:space-between}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{align-items:center;display:flex}.p-dialog .p-dialog-header-icon{align-items:center;display:flex;justify-content:center;overflow:hidden;position:relative}.p-dialog-mask.p-dialog-mask-leave{background-color:transparent}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-top .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{height:100%;left:0!important;max-height:100%;top:0!important;transform:none;transition:none;width:100vw!important}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top,.p-dialog-top-left{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start}.p-dialog-top-right{align-items:flex-start;justify-content:flex-end}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{align-items:flex-end;justify-content:flex-start}.p-dialog-bottom-right{align-items:flex-end;justify-content:flex-end}.p-dialog .p-resizable-handle{bottom:1px;cursor:se-resize;display:block;font-size:.1px;height:12px;position:absolute;right:1px;width:12px}.p-confirm-dialog .p-dialog-content{align-items:center;display:flex}"],data:{animation:[{type:7,name:"animation",definitions:[{type:1,expr:"void => visible",animation:[{type:10,animation:{type:8,animation:[{type:6,styles:{transform:"{{transform}}",opacity:0},offset:null},{type:4,styles:{type:6,styles:{transform:"none",opacity:1},offset:null},timings:"{{transition}}"}],options:null},options:null}],options:null},{type:1,expr:"visible => void",animation:[{type:10,animation:{type:8,animation:[{type:4,styles:{type:6,styles:{transform:"{{transform}}",opacity:0},offset:null},timings:"{{transition}}"}],options:null},options:null}],options:null}],options:{}}]}});function kb(t){return to(0,[(t()(),Vs(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Ib(t){return to(0,[(t()(),Vs(0,0,null,null,2,"div",[["class","p-dialog-header"]],null,null,null,null,null)),(t()(),Ms(16777216,null,null,1,null,kb)),nr(2,540672,null,0,ca,[In],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],(function(t,e){t(e,2,0,e.component.headerTemplate)}),null)}function Ob(t){return to(0,[(t()(),Vs(0,0,null,null,1,"span",[["class","p-dialog-title"]],null,null,null,null,null)),(t()(),Ys(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.component.option("header"))}))}function Pb(t){return to(0,[(t()(),Vs(0,0,null,null,4,"button",[["type","button"]],null,[[null,"click"],[null,"keydown.enter"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==r.close(n)&&i),"keydown.enter"===e&&(i=!1!==r.close(n)&&i),i}),null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(2,278528,null,0,Jl,[Zl],{ngClass:[0,"ngClass"]},null),Zs(3,{"p-dialog-header-icon p-dialog-header-close p-link":0}),(t()(),Vs(4,0,null,null,0,"span",[["class","pi pi-times"]],null,null,null,null,null))],(function(t,e){var n=t(e,3,0,!0);t(e,2,0,n)}),null)}function Rb(t){return to(0,[(t()(),Vs(0,0,null,null,5,"div",[["class","p-dialog-header"]],null,null,null,null,null)),(t()(),Ms(16777216,null,null,1,null,Ob)),nr(2,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Vs(3,0,null,null,2,"div",[["class","p-dialog-header-icons"]],null,null,null,null,null)),(t()(),Ms(16777216,null,null,1,null,Pb)),nr(5,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.option("header")),t(e,5,0,n.closable)}),null)}function Db(t){return to(0,[(t()(),Vs(0,0,null,null,2,"i",[],null,null,null,null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(2,278528,null,0,Jl,[Zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null)],(function(t,e){t(e,2,0,e.component.option("icon"),"p-confirm-dialog-icon")}),null)}function Ab(t){return to(0,[(t()(),Vs(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Nb(t){return to(0,[(t()(),Vs(0,0,null,null,3,"div",[["class","p-dialog-footer"]],null,null,null,null,null)),Gs(null,0),(t()(),Ms(16777216,null,null,1,null,Ab)),nr(3,540672,null,0,ca,[In],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],(function(t,e){t(e,3,0,e.component.footerTemplate)}),null)}function Lb(t){return to(0,[(t()(),Vs(0,0,null,null,3,"button",[["pButton",""],["type","button"]],[[1,"aria-label",0]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.reject()&&i),i}),null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(2,278528,null,0,Jl,[Zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),nr(3,4341760,null,0,cy,[en],{label:[0,"label"],icon:[1,"icon"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.option("rejectButtonStyleClass"),"p-confirm-dialog-reject"),t(e,3,0,n.rejectButtonLabel,n.option("rejectIcon"))}),(function(t,e){t(e,0,0,e.component.rejectAriaLabel)}))}function Fb(t){return to(0,[(t()(),Vs(0,0,null,null,3,"button",[["pButton",""],["type","button"]],[[1,"aria-label",0]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.accept()&&i),i}),null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(2,278528,null,0,Jl,[Zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),nr(3,4341760,null,0,cy,[en],{label:[0,"label"],icon:[1,"icon"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.option("acceptButtonStyleClass"),"p-confirm-dialog-accept"),t(e,3,0,n.acceptButtonLabel,n.option("acceptIcon"))}),(function(t,e){t(e,0,0,e.component.acceptAriaLabel)}))}function Mb(t){return to(0,[(t()(),Vs(0,0,null,null,4,"div",[["class","p-dialog-footer"]],null,null,null,null,null)),(t()(),Ms(16777216,null,null,1,null,Lb)),nr(2,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,1,null,Fb)),nr(4,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.option("rejectVisible")),t(e,4,0,n.option("acceptVisible"))}),null)}function Vb(t){return to(0,[(t()(),Vs(0,0,null,null,19,"div",[],[[24,"@animation",0]],[[null,"mousedown"],[null,"@animation.start"],[null,"@animation.done"]],(function(t,e,n){var i=!0,r=t.component;return"mousedown"===e&&(i=!1!==r.moveOnTop()&&i),"@animation.start"===e&&(i=!1!==r.onAnimationStart(n)&&i),"@animation.done"===e&&(i=!1!==r.onAnimationEnd(n)&&i),i}),null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(2,278528,null,0,Jl,[Zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Zs(3,{"p-dialog p-confirm-dialog p-component":0,"p-dialog-rtl":1}),rr(512,null,oa,la,[en,Cn,ln]),nr(5,278528,null,0,ua,[oa],{ngStyle:[0,"ngStyle"]},null),Zs(6,{transform:0,transition:1}),Zs(7,{value:0,params:1}),(t()(),Ms(16777216,null,null,1,null,Ib)),nr(9,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,1,null,Rb)),nr(11,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Vs(12,0,[[1,0],["content",1]],null,3,"div",[["class","p-dialog-content"]],null,null,null,null,null)),(t()(),Ms(16777216,null,null,1,null,Db)),nr(14,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Vs(15,0,null,null,0,"span",[["class","p-confirm-dialog-message"]],[[8,"innerHTML",1]],null,null,null,null)),(t()(),Ms(16777216,null,null,1,null,Nb)),nr(17,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,1,null,Mb)),nr(19,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component,i=n.styleClass,r=t(e,3,0,!0,n.rtl);t(e,2,0,i,r),t(e,5,0,n.style),t(e,9,0,n.headerTemplate),t(e,11,0,!n.headerTemplate),t(e,14,0,n.option("icon")),t(e,17,0,n.footer||n.footerTemplate),t(e,19,0,!n.footer&&!n.footerTemplate)}),(function(t,e){var n=e.component,i=t(e,7,0,"visible",t(e,6,0,n.transformOptions,n.transitionOptions));t(e,0,0,i),t(e,15,0,n.option("message"))}))}function zb(t){return to(0,[(t()(),Vs(0,0,null,null,4,"div",[],null,null,null,null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(2,278528,null,0,Jl,[Zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),Ms(16777216,null,null,1,null,Vb)),nr(4,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.maskStyleClass,n.getMaskClass()),t(e,4,0,n.visible)}),null)}function jb(t){return to(2,[Bs(671088640,1,{contentViewChild:0}),(t()(),Ms(16777216,null,null,1,null,zb)),nr(2,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,2,0,e.component.maskVisible)}),null)}var Hb=qn({encapsulation:2,styles:[],data:{}});function Ub(t){return to(0,[Gs(null,0)],null,null)}class Bb{constructor(t,e,n){this.el=t,this.renderer=e,this.cd=n,this.autoZIndex=!0,this.baseZIndex=0,this.leafClick=new xr,this.menuHoverActive=!1}get parentActive(){return this._parentActive}set parentActive(t){this.root||(this._parentActive=t,t||(this.activeItem=null))}onItemClick(t,e){e.disabled?t.preventDefault():(e.url||e.routerLink||t.preventDefault(),e.command&&e.command({originalEvent:t,item:e}),e.items&&(this.activeItem&&e===this.activeItem?(this.activeItem=null,this.unbindDocumentClickListener()):(this.activeItem=e,this.root&&this.bindDocumentClickListener())),e.items||this.onLeafClick())}onItemMouseEnter(t,e){e.disabled||this.mobileActive?t.preventDefault():this.root?(this.activeItem||this.autoDisplay)&&(this.activeItem=e,this.bindDocumentClickListener()):(this.activeItem=e,this.bindDocumentClickListener())}onLeafClick(){this.activeItem=null,this.root&&this.unbindDocumentClickListener(),this.leafClick.emit()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=t=>{this.el&&!this.el.nativeElement.contains(t.target)&&(this.activeItem=null,this.cd.markForCheck(),this.unbindDocumentClickListener())},document.addEventListener("click",this.documentClickListener))}unbindDocumentClickListener(){this.documentClickListener&&(document.removeEventListener("click",this.documentClickListener),this.documentClickListener=null)}ngOnDestroy(){this.unbindDocumentClickListener()}}class Wb{constructor(t,e,n){this.el=t,this.renderer=e,this.cd=n,this.autoZIndex=!0,this.baseZIndex=0}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"start":this.startTemplate=t.template;break;case"end":this.endTemplate=t.template}})}toggle(t){this.mobileActive=!this.mobileActive,ag.findSingle(this.el.nativeElement,".p-menubar-root-list").style.zIndex=String(ag.generateZIndex()),this.bindOutsideClickListener(),t.preventDefault()}bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=t=>{!this.mobileActive||this.rootmenu.el.nativeElement===t.target||this.rootmenu.el.nativeElement.contains(t.target)||this.menubutton.nativeElement===t.target||this.menubutton.nativeElement.contains(t.target)||(this.mobileActive=!1,this.cd.markForCheck())},document.addEventListener("click",this.outsideClickListener))}onLeafClick(){this.mobileActive=!1,this.unbindOutsideClickListener()}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}ngOnDestroy(){this.unbindOutsideClickListener()}}class qb{}var $b=qn({encapsulation:2,styles:[],data:{}});function Qb(t){return to(0,[(t()(),Vs(0,0,null,null,3,"li",[["class","p-menu-separator"],["role","separator"]],null,null,null,null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(2,278528,null,0,Jl,[Zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Zs(3,{"p-hidden":0})],(function(t,e){var n=t(e,3,0,!1===e.parent.context.$implicit.visible);t(e,2,0,"p-menu-separator",n)}),null)}function Gb(t){return to(0,[(t()(),Vs(0,0,null,null,2,"span",[["class","p-menuitem-icon"]],null,null,null,null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(2,278528,null,0,Jl,[Zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null)],(function(t,e){t(e,2,0,"p-menuitem-icon",e.parent.parent.parent.context.$implicit.icon)}),null)}function Kb(t){return to(0,[(t()(),Vs(0,0,null,null,1,"span",[["class","p-menuitem-text"]],null,null,null,null,null)),(t()(),Ys(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.parent.parent.parent.context.$implicit.label)}))}function Zb(t){return to(0,[(t()(),Vs(0,0,null,null,0,"span",[["class","p-menuitem-text"]],[[8,"innerHTML",1]],null,null,null,null))],null,(function(t,e){t(e,0,0,e.parent.parent.parent.context.$implicit.label)}))}function Yb(t){return to(0,[(t()(),Vs(0,0,null,null,3,"span",[["class","p-submenu-icon pi"]],null,null,null,null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(2,278528,null,0,Jl,[Zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Zs(3,{"pi-angle-down":0,"pi-angle-right":1})],(function(t,e){var n=e.component,i=t(e,3,0,n.root,!n.root);t(e,2,0,"p-submenu-icon pi",i)}),null)}function Xb(t){return to(0,[(t()(),Vs(0,0,null,null,11,"a",[["pRipple",""],["role","menuitem"]],[[1,"href",4],[1,"data-automationid",0],[1,"target",0],[1,"title",0],[1,"id",0],[1,"tabindex",0],[1,"aria-haspopup",0],[1,"aria-expanded",0],[2,"p-ripple",null]],[[null,"click"],[null,"mouseenter"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==r.onItemClick(n,t.parent.parent.context.$implicit)&&i),"mouseenter"===e&&(i=!1!==r.onItemMouseEnter(n,t.parent.parent.context.$implicit)&&i),i}),null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(2,278528,null,0,Jl,[Zl],{ngClass:[0,"ngClass"]},null),Zs(3,{"p-menuitem-link":0,"p-disabled":1}),nr(4,4341760,null,0,ny,[en,ts,[2,Nf]],null,null),(t()(),Ms(16777216,null,null,1,null,Gb)),nr(6,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,1,null,Kb)),nr(8,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),Ms(0,[["htmlLabel",2]],null,0,null,Zb)),(t()(),Ms(16777216,null,null,1,null,Yb)),nr(11,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=t(e,3,0,!0,e.parent.parent.context.$implicit.disabled);t(e,2,0,n),t(e,6,0,e.parent.parent.context.$implicit.icon),t(e,8,0,!1!==e.parent.parent.context.$implicit.escape,Bi(e,9)),t(e,11,0,e.parent.parent.context.$implicit.items)}),(function(t,e){var n=e.component;t(e,0,0,e.parent.parent.context.$implicit.url,e.parent.parent.context.$implicit.automationId,e.parent.parent.context.$implicit.target,e.parent.parent.context.$implicit.title,e.parent.parent.context.$implicit.id,e.parent.parent.context.$implicit.disabled?null:"0",null!=n.item.items,n.item===n.activeItem,!0)}))}function Jb(t){return to(0,[(t()(),Vs(0,0,null,null,2,"span",[["class","p-menuitem-icon"]],null,null,null,null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(2,278528,null,0,Jl,[Zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null)],(function(t,e){t(e,2,0,"p-menuitem-icon",e.parent.parent.parent.context.$implicit.icon)}),null)}function tw(t){return to(0,[(t()(),Vs(0,0,null,null,1,"span",[["class","p-menuitem-text"]],null,null,null,null,null)),(t()(),Ys(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.parent.parent.parent.context.$implicit.label)}))}function ew(t){return to(0,[(t()(),Vs(0,0,null,null,0,"span",[["class","p-menuitem-text"]],[[8,"innerHTML",1]],null,null,null,null))],null,(function(t,e){t(e,0,0,e.parent.parent.parent.context.$implicit.label)}))}function nw(t){return to(0,[(t()(),Vs(0,0,null,null,3,"span",[["class","p-submenu-icon pi"]],null,null,null,null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(2,278528,null,0,Jl,[Zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Zs(3,{"pi-angle-down":0,"pi-angle-right":1})],(function(t,e){var n=e.component,i=t(e,3,0,n.root,!n.root);t(e,2,0,"p-submenu-icon pi",i)}),null)}function iw(t){return to(0,[(t()(),Vs(0,0,null,null,16,"a",[["pRipple",""],["role","menuitem"]],[[1,"data-automationid",0],[1,"target",0],[1,"title",0],[1,"id",0],[1,"tabindex",0],[1,"target",0],[8,"href",4],[2,"p-ripple",null]],[[null,"click"],[null,"mouseenter"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==Bi(t,4).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===e&&(i=!1!==r.onItemClick(n,t.parent.parent.context.$implicit)&&i),"mouseenter"===e&&(i=!1!==r.onItemMouseEnter(n,t.parent.parent.context.$implicit)&&i),i}),null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(2,278528,null,0,Jl,[Zl],{ngClass:[0,"ngClass"]},null),Zs(3,{"p-menuitem-link":0,"p-disabled":1}),nr(4,671744,[[2,4]],0,Bd,[Hd,Rh,pl],{queryParams:[0,"queryParams"],fragment:[1,"fragment"],queryParamsHandling:[2,"queryParamsHandling"],preserveFragment:[3,"preserveFragment"],skipLocationChange:[4,"skipLocationChange"],replaceUrl:[5,"replaceUrl"],state:[6,"state"],routerLink:[7,"routerLink"]},null),nr(5,1720320,null,2,qd,[Hd,en,ln,[2,Ud],[2,Bd]],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),Bs(603979776,1,{links:1}),Bs(603979776,2,{linksWithHrefs:1}),Zs(8,{exact:0}),nr(9,4341760,null,0,ny,[en,ts,[2,Nf]],null,null),(t()(),Ms(16777216,null,null,1,null,Jb)),nr(11,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,1,null,tw)),nr(13,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),Ms(0,[["htmlRouteLabel",2]],null,0,null,ew)),(t()(),Ms(16777216,null,null,1,null,nw)),nr(16,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=t(e,3,0,!0,e.parent.parent.context.$implicit.disabled);t(e,2,0,n),t(e,4,0,e.parent.parent.context.$implicit.queryParams,e.parent.parent.context.$implicit.fragment,e.parent.parent.context.$implicit.queryParamsHandling,e.parent.parent.context.$implicit.preserveFragment,e.parent.parent.context.$implicit.skipLocationChange,e.parent.parent.context.$implicit.replaceUrl,e.parent.parent.context.$implicit.state,e.parent.parent.context.$implicit.routerLink);var i=e.parent.parent.context.$implicit.routerLinkActiveOptions||t(e,8,0,!1);t(e,5,0,i,"p-menuitem-link-active"),t(e,11,0,e.parent.parent.context.$implicit.icon),t(e,13,0,!1!==e.parent.parent.context.$implicit.escape,Bi(e,14)),t(e,16,0,e.parent.parent.context.$implicit.items)}),(function(t,e){t(e,0,0,e.parent.parent.context.$implicit.automationId,e.parent.parent.context.$implicit.target,e.parent.parent.context.$implicit.title,e.parent.parent.context.$implicit.id,e.parent.parent.context.$implicit.disabled?null:"0",Bi(e,4).target,Bi(e,4).href,!0)}))}function rw(t){return to(0,[(t()(),Vs(0,0,null,null,1,"p-menubarSub",[],null,[[null,"leafClick"]],(function(t,e,n){var i=!0;return"leafClick"===e&&(i=!1!==t.component.onLeafClick()&&i),i}),lw,$b)),nr(1,180224,null,0,Bb,[en,ln,Ee],{item:[0,"item"],mobileActive:[1,"mobileActive"],autoDisplay:[2,"autoDisplay"],parentActive:[3,"parentActive"]},{leafClick:"leafClick"})],(function(t,e){var n=e.component;t(e,1,0,e.parent.parent.context.$implicit,n.mobileActive,n.autoDisplay,e.parent.parent.context.$implicit===n.activeItem)}),null)}function sw(t){return to(0,[(t()(),Vs(0,0,[["listItem",1]],null,11,"li",[["role","none"]],null,null,null,null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(2,278528,null,0,Jl,[Zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Zs(3,{"p-menuitem":0,"p-menuitem-active":1,"p-hidden":2}),rr(512,null,oa,la,[en,Cn,ln]),nr(5,278528,null,0,ua,[oa],{ngStyle:[0,"ngStyle"]},null),(t()(),Ms(16777216,null,null,1,null,Xb)),nr(7,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,1,null,iw)),nr(9,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,1,null,rw)),nr(11,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.parent.context.$implicit.styleClass,i=t(e,3,0,!0,e.parent.context.$implicit===e.component.activeItem,!1===e.parent.context.$implicit.visible);t(e,2,0,n,i),t(e,5,0,e.parent.context.$implicit.style),t(e,7,0,!e.parent.context.$implicit.routerLink),t(e,9,0,e.parent.context.$implicit.routerLink),t(e,11,0,e.parent.context.$implicit.items)}),null)}function ow(t){return to(0,[(t()(),Ms(16777216,null,null,1,null,Qb)),nr(1,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,1,null,sw)),nr(3,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(0,null,null,0))],(function(t,e){t(e,1,0,e.context.$implicit.separator),t(e,3,0,!e.context.$implicit.separator)}),null)}function lw(t){return to(0,[(t()(),Vs(0,0,null,null,5,"ul",[],[[1,"role",0]],null,null,null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(2,278528,null,0,Jl,[Zl],{ngClass:[0,"ngClass"]},null),Zs(3,{"p-submenu-list":0,"p-menubar-root-list":1}),(t()(),Ms(16777216,null,null,1,null,ow)),nr(5,278528,null,0,ea,[In,Tn,wn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component,i=t(e,3,0,!n.root,n.root);t(e,2,0,i),t(e,5,0,n.root?n.item:n.item.items)}),(function(t,e){t(e,0,0,e.component.root?"menubar":"menu")}))}var aw=qn({encapsulation:2,styles:[".p-menubar{align-items:center;display:flex}.p-menubar ul{list-style:none;margin:0;padding:0}.p-menubar .p-menuitem-link{align-items:center;cursor:pointer;display:flex;overflow:hidden;position:relative;text-decoration:none}.p-menubar .p-menuitem-text{line-height:1}.p-menubar .p-menuitem{position:relative}.p-menubar-root-list{align-items:center;display:flex}.p-menubar-root-list>li ul{display:none;z-index:1}.p-menubar-root-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block}.p-menubar .p-submenu-list{display:none;position:absolute;z-index:1}.p-menubar .p-submenu-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block;left:100%;top:0}.p-menubar .p-submenu-list .p-menuitem-link .p-submenu-icon{margin-left:auto}.p-menubar .p-menubar-custom,.p-menubar .p-menubar-end{-ms-grid-row-align:center;align-self:center;margin-left:auto}.p-menubar-button{align-items:center;cursor:pointer;display:none;justify-content:center}"],data:{}});function uw(t){return to(0,[(t()(),Vs(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function cw(t){return to(0,[(t()(),Vs(0,0,null,null,2,"div",[["class","p-menubar-start"]],null,null,null,null,null)),(t()(),Ms(16777216,null,null,1,null,uw)),nr(2,540672,null,0,ca,[In],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],(function(t,e){t(e,2,0,e.component.startTemplate)}),null)}function hw(t){return to(0,[(t()(),Vs(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function dw(t){return to(0,[(t()(),Vs(0,0,null,null,2,"div",[["class","p-menubar-end"]],null,null,null,null,null)),(t()(),Ms(16777216,null,null,1,null,hw)),nr(2,540672,null,0,ca,[In],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],(function(t,e){t(e,2,0,e.component.endTemplate)}),null)}function pw(t){return to(0,[(t()(),Vs(0,0,null,null,1,"div",[["class","p-menubar-end"]],null,null,null,null,null)),Gs(null,0)],null,null)}function fw(t){return to(2,[Bs(402653184,1,{menubutton:0}),Bs(402653184,2,{rootmenu:0}),(t()(),Vs(2,0,null,null,14,"div",[],null,null,null,null,null)),rr(512,null,Zl,Yl,[wn,Cn,en,ln]),nr(4,278528,null,0,Jl,[Zl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Zs(5,{"p-menubar p-component":0,"p-menubar-mobile-active":1}),rr(512,null,oa,la,[en,Cn,ln]),nr(7,278528,null,0,ua,[oa],{ngStyle:[0,"ngStyle"]},null),(t()(),Ms(16777216,null,null,1,null,cw)),nr(9,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Vs(10,0,[[1,0],["menubutton",1]],null,1,"a",[["class","p-menubar-button"],["tabindex","0"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.toggle(n)&&i),i}),null,null)),(t()(),Vs(11,0,null,null,0,"i",[["class","pi pi-bars"]],null,null,null,null,null)),(t()(),Vs(12,0,null,null,1,"p-menubarSub",[["root","root"]],null,[[null,"leafClick"]],(function(t,e,n){var i=!0;return"leafClick"===e&&(i=!1!==t.component.onLeafClick()&&i),i}),lw,$b)),nr(13,180224,[[2,4],["rootmenu",4]],0,Bb,[en,ln,Ee],{item:[0,"item"],root:[1,"root"],autoZIndex:[2,"autoZIndex"],baseZIndex:[3,"baseZIndex"],mobileActive:[4,"mobileActive"],autoDisplay:[5,"autoDisplay"]},{leafClick:"leafClick"}),(t()(),Ms(16777216,null,null,1,null,dw)),nr(15,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),Ms(0,[["legacy",2]],null,0,null,pw))],(function(t,e){var n=e.component,i=n.styleClass,r=t(e,5,0,!0,n.mobileActive);t(e,4,0,i,r),t(e,7,0,n.style),t(e,9,0,n.startTemplate),t(e,13,0,n.model,"root",n.autoZIndex,n.baseZIndex,n.mobileActive,n.autoDisplay),t(e,15,0,n.endTemplate,Bi(e,16))}),null)}class gw{constructor(t,e){this.db2=t,this.route=e,this.lancerRecherche=new xr,this.changerEcran=new xr,this.items=[],this.raisonSociale="ENTREPRISE INTROUVABLE"}ngOnInit(){this.route.queryParams.subscribe(t=>{this.chargerRaisonSociale(t.id)})}chargerRaisonSociale(t){this.db2.database.ref("catalogue/"+t+"/raisonsociale").once("value").then(t=>{this.raisonSociale=t.val()},t=>{this.raisonSociale="ENTREPRISE INTROUVABLE"})}emitEvent(){this.lancerRecherche.emit(!0)}emitEventChangementEcran(){this.changerEcran.emit(!0)}}var mw=qn({encapsulation:0,styles:[[".recherche-style[_ngcontent-%COMP%]{height:45px!important;width:60vw!important}.menu-sticky[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:0;z-index:20000}"]],data:{}});function yw(t){return to(0,[(t()(),Vs(0,0,null,null,0,"i",[["class","fab fa-phoenix-framework fa-2x"]],null,null,null,null,null)),(t()(),Vs(1,0,null,null,0,"img",[["height","50"],["src","./assets/img/head.png"]],null,null,null,null,null)),(t()(),Vs(2,0,null,null,3,"strong",[["class","title-margin"],["style","border: 1px solid #D8D8D8; padding: 10px;"]],null,null,null,null,null)),(t()(),Vs(3,0,null,null,0,"i",[["class","fas fa-building"]],null,null,null,null,null)),(t()(),Ys(4,null,[" "," "])),(t()(),Vs(5,0,null,null,0,"i",[["class","far fa-arrow-alt-circle-right"]],null,null,null,null,null))],null,(function(t,e){t(e,4,0,e.component.raisonSociale)}))}function _w(t){return to(0,[(t()(),Vs(0,0,null,null,9,"div",[["class","input-group"]],null,null,null,null,null)),(t()(),Vs(1,0,null,null,5,"input",[["class","form-control recherche-style"],["pInputText",""],["placeholder","Recherche rapide "],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,r=t.component;return"input"===e&&(i=!1!==Bi(t,2)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==Bi(t,2).onTouched()&&i),"compositionstart"===e&&(i=!1!==Bi(t,2)._compositionStart()&&i),"compositionend"===e&&(i=!1!==Bi(t,2)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(r.saisieRecherche.inputSearchText=n)&&i),"ngModelChange"===e&&(i=!1!==r.emitEvent()&&i),i}),null,null)),nr(2,16384,null,0,bg,[ln,en,[2,vg]],null,null),rr(1024,null,_g,(function(t){return[t]}),[bg]),nr(4,671744,null,0,om,[[8,null],[8,null],[8,null],[6,_g]],{model:[0,"model"]},{update:"ngModelChange"}),rr(2048,null,Eg,null,[om]),nr(6,16384,null,0,Tg,[[4,Eg]],null,null),(t()(),Vs(7,0,null,null,2,"a",[["class","btn-margin"],["style","margin:auto"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.emitEventChangementEcran()&&i),i}),null,null)),(t()(),Vs(8,0,null,null,0,"i",[["class","fa fa-shopping-basket fa-2x"]],null,null,null,null,null)),(t()(),Ys(9,null,["(",") "]))],(function(t,e){t(e,4,0,e.component.saisieRecherche.inputSearchText)}),(function(t,e){var n=e.component;t(e,1,0,Bi(e,6).ngClassUntouched,Bi(e,6).ngClassTouched,Bi(e,6).ngClassPristine,Bi(e,6).ngClassDirty,Bi(e,6).ngClassValid,Bi(e,6).ngClassInvalid,Bi(e,6).ngClassPending),t(e,9,0,n.panier?n.panier.length:"0")}))}function vw(t){return to(0,[(t()(),Vs(0,0,null,null,7,"div",[["class","col-12 padding-none menu-sticky"]],null,null,null,null,null)),(t()(),Vs(1,0,null,null,6,"p-menubar",[],null,null,null,fw,aw)),nr(2,1228800,null,1,Wb,[en,ln,Ee],{model:[0,"model"]},null),Bs(603979776,1,{templates:1}),(t()(),Ms(0,null,0,1,null,yw)),nr(5,16384,[[1,4]],0,Uf,[Tn],{name:[0,"name"]},null),(t()(),Ms(0,null,0,1,null,_w)),nr(7,16384,[[1,4]],0,Uf,[Tn],{name:[0,"name"]},null)],(function(t,e){t(e,2,0,e.component.items),t(e,5,0,"start"),t(e,7,0,"end")}),null)}class bw{constructor(){}ngOnInit(){}goToLink(t){const e=document.createElement("a");e.target="_blank",e.href=t,e.setAttribute("visibility","hidden"),e.click()}}var ww=qn({encapsulation:0,styles:[[".padding-6[_ngcontent-%COMP%]{padding:3px!important}"]],data:{}});function Cw(t){return to(0,[(t()(),Vs(0,0,null,null,21,"footer",[["class","footer"]],null,null,null,null,null)),(t()(),Vs(1,0,null,null,20,"div",[["class","container text-center"],["style","line-height: 30px!important;"]],null,null,null,null,null)),(t()(),Vs(2,0,null,null,2,"a",[["class","btn bg-gray-dark btn-margin padding-6"],["pTooltip","Prost store"],["tooltipPosition","top"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.goToLink("https://www.facebook.com/proststore")&&i),i}),null,null)),nr(3,4341760,null,0,ty,[en,ts],{tooltipPosition:[0,"tooltipPosition"],text:[1,"text"]},null),(t()(),Vs(4,0,null,null,0,"i",[["aria-hidden","true"],["class","fas font-size-22 fa-facebook-square"]],null,null,null,null,null)),(t()(),Vs(5,0,null,null,2,"a",[["class","btn bg-gray-dark btn-margin padding-6"],["href","#"],["pTooltip","prost.sav@gmail.com"],["tooltipPosition","top"]],null,null,null,null,null)),nr(6,4341760,null,0,ty,[en,ts],{tooltipPosition:[0,"tooltipPosition"],text:[1,"text"]},null),(t()(),Vs(7,0,null,null,0,"i",[["aria-hidden","true"],["class","fas font-size-22 fa-google-plus-square"]],null,null,null,null,null)),(t()(),Vs(8,0,null,null,2,"a",[["class","btn bg-gray-dark btn-margin padding-6"],["pTooltip","prost_developpement"],["tooltipPosition","top"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.goToLink("https://www.instagram.com/prost_developpement")&&i),i}),null,null)),nr(9,4341760,null,0,ty,[en,ts],{tooltipPosition:[0,"tooltipPosition"],text:[1,"text"]},null),(t()(),Vs(10,0,null,null,0,"i",[["aria-hidden","true"],["class","fas font-size-22 fa-instagram"]],null,null,null,null,null)),(t()(),Vs(11,0,null,null,2,"a",[["class","btn bg-gray-dark btn-margin padding-6"],["pTooltip","-"],["tooltipPosition","top"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.goToLink("https://www.youtube.com/channel/UCQF7bvqm2nlHSuW_OxGjVYQ")&&i),i}),null,null)),nr(12,4341760,null,0,ty,[en,ts],{tooltipPosition:[0,"tooltipPosition"],text:[1,"text"]},null),(t()(),Vs(13,0,null,null,0,"i",[["aria-hidden","true"],["class","fas font-size-22 fa-youtube"]],null,null,null,null,null)),(t()(),Vs(14,0,null,null,2,"a",[["class","btn bg-gray-dark btn-margin padding-6"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.goToLink("http://www.prost-developpement.com")&&i),i}),null,null)),(t()(),Vs(15,0,null,null,1,"i",[["aria-hidden","true"],["class","fa font-size-22 fa-globe"],["pTooltip","www.prost-developpement.com"],["tooltipPosition","top"]],null,null,null,null,null)),nr(16,4341760,null,0,ty,[en,ts],{tooltipPosition:[0,"tooltipPosition"],text:[1,"text"]},null),(t()(),Vs(17,0,null,null,4,"div",[["class","col-lg-12 text-center"]],null,null,null,null,null)),(t()(),Vs(18,0,null,null,3,"samp",[],null,null,null,null,null)),(t()(),Ys(-1,null,[" \xa9 2021 PROST SYSTEMS - "])),(t()(),Vs(20,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ys(-1,null,[" Rejoignez-nous "]))],(function(t,e){t(e,3,0,"top","Prost store"),t(e,6,0,"top","prost.sav@gmail.com"),t(e,9,0,"top","prost_developpement"),t(e,12,0,"top","-"),t(e,16,0,"top","www.prost-developpement.com")}),null)}var Sw=qn({encapsulation:0,styles:[[""]],data:{}});function Ew(t){return to(0,[(t()(),Vs(0,0,null,null,1,"app-catalog",[],null,[[null,"showPanier"]],(function(t,e,n){var i=!0;return"showPanier"===e&&(i=!1!==t.component.changeEcranPanier()&&i),i}),lg,Wf)),nr(1,114688,[[1,4]],0,Ea,[Pf,Hd,Rh,Mf,zf],{panier:[0,"panier"],saisieRecherche:[1,"saisieRecherche"]},{showPanier:"showPanier"})],(function(t,e){var n=e.component;t(e,1,0,n.panier,n.saisieRecherche)}),null)}function xw(t){return to(0,[(t()(),Vs(0,0,null,null,1,"app-panier",[],null,[[null,"changerEcran"]],(function(t,e,n){var i=!0;return"changerEcran"===e&&(i=!1!==t.component.changeEcranPanier()&&i),i}),ob,tb)),nr(1,114688,null,0,wv,[Vv,Pf,Rh,Mf],{panier:[0,"panier"]},{changerEcran:"changerEcran"})],(function(t,e){t(e,1,0,e.component.panier)}),null)}function Tw(t){return to(0,[Bs(671088640,1,{catalog:0}),(t()(),Vs(1,0,null,null,3,"p-toast",[],null,null,null,yb,gb)),nr(2,1294336,null,1,ab,[zf,Ee],{style:[0,"style"]},null),Bs(603979776,2,{templates:1}),Zs(4,{marginTop:0}),(t()(),Vs(5,0,null,null,9,"p-confirmDialog",[["icon","pi pi-exclamation-triangle"]],null,null,null,jb,Tb)),nr(6,1294336,[["cd",4]],2,Eb,[en,ln,Mf,ts,Ee,Nf],{icon:[0,"icon"]},null),Bs(335544320,3,{footer:0}),Bs(603979776,4,{templates:1}),(t()(),Vs(9,0,null,0,5,"p-footer",[],null,null,null,Ub,Hb)),nr(10,49152,[[3,4]],0,Hf,[],null,null),(t()(),Vs(11,0,null,0,1,"button",[["icon","pi pi-check"],["label","Je confirme"],["pButton",""],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==Bi(t,6).accept()&&i),i}),null,null)),nr(12,4341760,null,0,cy,[en],{label:[0,"label"],icon:[1,"icon"]},null),(t()(),Vs(13,0,null,0,1,"button",[["icon","pi pi-times"],["label","Annuler"],["pButton",""],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==Bi(t,6).reject()&&i),i}),null,null)),nr(14,4341760,null,0,cy,[en],{label:[0,"label"],icon:[1,"icon"]},null),(t()(),Vs(15,0,null,null,3,"p-confirmDialog",[["acceptLabel","ok, j'ai compris"],["icon","pi pi-exclamation-triangle"]],null,null,null,jb,Tb)),nr(16,1294336,null,2,Eb,[en,ln,Mf,ts,Ee,Nf],{icon:[0,"icon"],acceptLabel:[1,"acceptLabel"],rejectVisible:[2,"rejectVisible"],key:[3,"key"]},null),Bs(335544320,5,{footer:0}),Bs(603979776,6,{templates:1}),(t()(),Vs(19,0,null,null,1,"app-header",[],null,[[null,"lancerRecherche"],[null,"changerEcran"]],(function(t,e,n){var i=!0,r=t.component;return"lancerRecherche"===e&&(i=!1!==r.lancerFiltre(n)&&i),"changerEcran"===e&&(i=!1!==r.changeEcranPanier()&&i),i}),vw,mw)),nr(20,114688,null,0,gw,[Pf,Rh],{saisieRecherche:[0,"saisieRecherche"],panier:[1,"panier"]},{lancerRecherche:"lancerRecherche",changerEcran:"changerEcran"}),(t()(),Ms(16777216,null,null,1,null,Ew)),nr(22,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Ms(16777216,null,null,1,null,xw)),nr(24,16384,null,0,ia,[In,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Vs(25,0,null,null,1,"app-footer",[],null,null,null,Cw,ww)),nr(26,114688,null,0,bw,[],null,null)],(function(t,e){var n=e.component,i=t(e,4,0,"60px");t(e,2,0,i),t(e,6,0,"pi pi-exclamation-triangle"),t(e,12,0,"Je confirme","pi pi-check"),t(e,14,0,"Annuler","pi pi-times"),t(e,16,0,"pi pi-exclamation-triangle","ok, j'ai compris",!1,"ok"),t(e,20,0,n.saisieRecherche,n.panier),t(e,22,0,!n.isPanierSelectionner),t(e,24,0,n.isPanierSelectionner),t(e,26,0)}),null)}function kw(t){return to(0,[(t()(),Vs(0,0,null,null,1,"app-root",[],null,null,null,Tw,Sw)),nr(1,114688,null,0,xa,[Nf,Rh],null,null)],(function(t,e){t(e,1,0)}),null)}var Iw=Di("app-root",xa,kw,{},{},[]);function Ow(){return"undefined"!=typeof process}function Pw(t){switch(t.length){case 0:return new Cb;case 1:return t[0];default:return new Sb(t)}}function Rw(t,e,n,i,r={},s={}){const o=[],l=[];let a=-1,u=null;if(i.forEach(t=>{const n=t.offset,i=n==a,c=i&&u||{};Object.keys(t).forEach(n=>{let i=n,l=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,o),l){case"!":l=r[n];break;case"*":l=s[n];break;default:l=e.normalizeStyleValue(n,i,l,o)}c[i]=l}),i||l.push(c),u=c,a=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return l}function Dw(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&Aw(n,"start",t)));break;case"done":t.onDone(()=>i(n&&Aw(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&Aw(n,"destroy",t)))}}function Aw(t,e,n){const i=n.totalTime,r=Nw(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),s=t._data;return null!=s&&(r._data=s),r}function Nw(t,e,n,i,r="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function Lw(t,e,n){let i;return t instanceof Map?(i=t.get(e),i||t.set(e,i=n)):(i=t[e],i||(i=t[e]=n)),i}function Fw(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Mw=(t,e)=>!1,Vw=(t,e)=>!1,zw=(t,e,n)=>[];const jw=Ow();(jw||"undefined"!=typeof Element)&&(Mw=(t,e)=>t.contains(e),Vw=(()=>{if(jw||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Vw}})(),zw=(t,e,n)=>{let i=[];if(n)i.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&i.push(n)}return i});let Hw=null,Uw=!1;function Bw(t){Hw||(Hw=("undefined"!=typeof document?document.body:null)||{},Uw=!!Hw.style&&"WebkitAppearance"in Hw.style);let e=!0;return Hw.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Hw.style,!e&&Uw)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Hw.style),e}const Ww=Vw,qw=Mw,$w=zw;function Qw(t){const e={};return Object.keys(t).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]}),e}class Gw{validateStyleProperty(t){return Bw(t)}matchesElement(t,e){return Ww(t,e)}containsElement(t,e){return qw(t,e)}query(t,e,n){return $w(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,i,r,s=[],o){return new Cb(n,i)}}let Kw=(()=>{class t{}return t.NOOP=new Gw,t})();function Zw(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Yw(parseFloat(e[1]),e[2])}function Yw(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Xw(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let i,r=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};i=Yw(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(r=Yw(parseFloat(o),n[4]));const l=n[5];l&&(s=l)}else i=t;if(!n){let n=!1,s=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:i,delay:r,easing:s}}(t,e,n)}function Jw(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function tC(t,e,n={}){if(e)for(let i in t)n[i]=t[i];else Jw(t,n);return n}function eC(t,e,n){return n?e+":"+n+";":""}function nC(t){let e="";for(let n=0;n<t.style.length;n++){const i=t.style.item(n);e+=eC(0,i,t.style.getPropertyValue(i))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=eC(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function iC(t,e,n){t.style&&(Object.keys(e).forEach(i=>{const r=hC(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[r]),t.style[r]=e[i]}),Ow()&&nC(t))}function rC(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=hC(e);t.style[n]=""}),Ow()&&nC(t))}function sC(t){return Array.isArray(t)?1==t.length?t[0]:vb(t):t}const oC=new RegExp("{{\\s*(.+?)\\s*}}","g");function lC(t){let e=[];if("string"==typeof t){const n=t.toString();let i;for(;i=oC.exec(n);)e.push(i[1]);oC.lastIndex=0}return e}function aC(t,e,n){const i=t.toString(),r=i.replace(oC,(t,i)=>{let r=e[i];return e.hasOwnProperty(i)||(n.push("Please provide a value for the animation param "+i),r=""),r.toString()});return r==i?t:r}function uC(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const cC=/-+([a-z0-9])/g;function hC(t){return t.replace(cC,(...t)=>t[1].toUpperCase())}function dC(t,e){return 0===t||0===e}function pC(t,e,n){const i=Object.keys(n);if(i.length&&e.length){let s=e[0],o=[];if(i.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var r=1;r<e.length;r++){let n=e[r];o.forEach((function(e){n[e]=gC(t,e)}))}}return e}function fC(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function gC(t,e){return window.getComputedStyle(t)[e]}function mC(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const r=i[1],s=i[2],o=i[3];e.push(vC(r,o)),"<"!=s[0]||"*"==r&&"*"==o||e.push(vC(o,r))}(t,n,e)):n.push(t),n}const yC=new Set(["true","1"]),_C=new Set(["false","0"]);function vC(t,e){const n=yC.has(t)||_C.has(t),i=yC.has(e)||_C.has(e);return(r,s)=>{let o="*"==t||t==r,l="*"==e||e==s;return!o&&n&&"boolean"==typeof r&&(o=r?yC.has(t):_C.has(t)),!l&&i&&"boolean"==typeof s&&(l=s?yC.has(e):_C.has(e)),o&&l}}const bC=new RegExp("s*:selfs*,?","g");function wC(t,e,n){return new CC(t).build(e,n)}class CC{constructor(t){this._driver=t}build(t,e){const n=new SC(e);return this._resetContextStyleTimingState(n),fC(this,sC(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,i=e.depCount=0;const r=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,i=n.name;i.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,r.push(this.visitState(n,e))}),n.name=i}else if(1==t.type){const r=this.visitTransition(t,e);n+=r.queryCount,i+=r.depCount,s.push(r)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:s,queryCount:n,depCount:i,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){const r=new Set,s=i||{};if(n.styles.forEach(t=>{if(EC(t)){const e=t;Object.keys(e).forEach(t=>{lC(e[t]).forEach(t=>{s.hasOwnProperty(t)||r.add(t)})})}}),r.size){const n=uC(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=fC(this,sC(t.animation),e);return{type:1,matchers:mC(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:xC(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>fC(this,t,e)),options:xC(t.options)}}visitGroup(t,e){const n=e.currentTime;let i=0;const r=t.steps.map(t=>{e.currentTime=n;const r=fC(this,t,e);return i=Math.max(i,e.currentTime),r});return e.currentTime=i,{type:3,steps:r,options:xC(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return TC(Xw(t,e).duration,0,"");const i=t;if(i.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=TC(0,0,"");return t.dynamic=!0,t.strValue=i,t}return n=n||Xw(i,e),TC(n.duration,n.delay,n.easing)}(t.timings,e.errors);let i;e.currentAnimateTimings=n;let r=t.styles?t.styles:bb({});if(5==r.type)i=this.visitKeyframes(r,e);else{let r=t.styles,s=!1;if(!r){s=!0;const t={};n.easing&&(t.easing=n.easing),r=bb(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(r,e);o.isEmptyStep=s,i=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let i=!1,r=null;return n.forEach(t=>{if(EC(t)){const e=t,n=e.easing;if(n&&(r=n,delete e.easing),!i)for(let t in e)if(e[t].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let i=e.currentTime,r=e.currentTime;n&&r>0&&(r-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let l=!0;o&&(r!=i&&r>=o.startTime&&i<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${i}ms"`),l=!1),r=o.startTime),l&&(s[n]={startTime:r,endTime:i}),e.options&&function(t,e,n){const i=e.params||{},r=lC(t);r.length&&r.forEach(t=>{i.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const r=[];let s=!1,o=!1,l=0;const a=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let a=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(EC(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(EC(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=a&&(i++,u=n.offset=a),o=o||u<0||u>1,s=s||u<l,l=u,r.push(u),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let c=0;i>0&&i<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(c=1/(u-1));const h=u-1,d=e.currentTime,p=e.currentAnimateTimings,f=p.duration;return a.forEach((t,i)=>{const s=c>0?i==h?1:c*i:r[i],o=s*f;e.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:fC(this,sC(t.animation),e),options:xC(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:xC(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:xC(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[r,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(bC,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+r:r,Lw(e.collectedStyles,e.currentQuerySelector,{});const o=fC(this,sC(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:xC(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Xw(t.timings,e.errors,!0);return{type:12,animation:fC(this,sC(t.animation),e),timings:n,options:null}}}class SC{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function EC(t){return!Array.isArray(t)&&"object"==typeof t}function xC(t){var e;return t?(t=Jw(t)).params&&(t.params=(e=t.params)?Jw(e):null):t={},t}function TC(t,e,n){return{duration:t,delay:e,easing:n}}function kC(t,e,n,i,r,s,o=null,l=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:l}}class IC{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const OC=new RegExp(":enter","g"),PC=new RegExp(":leave","g");function RC(t,e,n,i,r,s={},o={},l,a,u=[]){return(new DC).buildKeyframes(t,e,n,i,r,s,o,l,a,u)}class DC{buildKeyframes(t,e,n,i,r,s,o,l,a,u=[]){a=a||new IC;const c=new NC(t,e,a,i,r,u,[]);c.options=l,c.currentTimeline.setStyles([s],null,c.errors,l),fC(this,n,c);const h=c.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,c.errors,l)}return h.length?h.map(t=>t.buildKeyframes()):[kC(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const i=e.createSubContext(t.options),r=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,i,i.options);r!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let i=e.currentTimeline.currentTime;const r=null!=n.duration?Zw(n.duration):null,s=null!=n.delay?Zw(n.delay):null;return 0!==r&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,r,s);i=Math.max(i,n.duration+n.delay)}),i}visitReference(t,e){e.updateOptions(t.options,!0),fC(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let i=e;const r=t.options;if(r&&(r.params||r.delay)&&(i=e.createSubContext(r),i.transformIntoNewTimeline(),null!=r.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=AC);const t=Zw(r.delay);i.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>fC(this,t,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let i=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?Zw(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);r&&o.delayNextStep(r),fC(this,s,o),i=Math.max(i,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Xw(e.params?aC(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const r=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,i=e.currentTimeline.duration,r=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*r),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(i+r),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,i=t.options||{},r=i.delay?Zw(i.delay):0;r&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=AC);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=o.length;let l=null;o.forEach((n,i)=>{e.currentQueryIndex=i;const o=e.createSubContext(t.options,n);r&&o.delayNextStep(r),n===e.element&&(l=o.currentTimeline),fC(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,i=e.currentTimeline,r=t.timings,s=Math.abs(r.duration),o=s*(e.currentQueryTotal-1);let l=s*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":l=o-l;break;case"full":l=n.currentStaggerTime}const a=e.currentTimeline;l&&a.delayNextStep(l);const u=a.currentTime;fC(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-u+(i.startTime-n.currentTimeline.startTime)}}const AC={};class NC{constructor(t,e,n,i,r,s,o,l){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=r,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=AC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new LC(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let i=this.options;null!=n.duration&&(i.duration=Zw(n.duration)),null!=n.delay&&(i.delay=Zw(n.delay));const r=n.params;if(r){let t=i.params;t||(t=this.options.params={}),Object.keys(r).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=aC(r[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const i=e||this.element,r=new NC(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=AC,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new FC(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(r),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,i,r,s){let o=[];if(i&&o.push(this.element),t.length>0){t=(t=t.replace(OC,"."+this._enterClassName)).replace(PC,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return r||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class LC{constructor(t,e,n,i){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new LC(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&(this._previousKeyframe.easing=e);const r=i&&i.params||{},s=function(t,e){const n={};let i;return t.forEach(t=>{"*"===t?(i=i||Object.keys(e),i.forEach(t=>{n[t]="*"})):tC(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=aC(s[t],r,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],i=t._styleSummary[e];(!n||i.time>n.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((r,s)=>{const o=tC(r,!0);Object.keys(o).forEach(n=>{const i=o[n];"!"==i?t.add(n):"*"==i&&e.add(n)}),n||(o.offset=s/this.duration),i.push(o)});const r=t.size?uC(t.values()):[],s=e.size?uC(e.values()):[];if(n){const t=i[0],e=Jw(t);t.offset=0,e.offset=1,i=[t,e]}return kC(this.element,i,r,s,this.duration,this.startTime,this.easing,!1)}}class FC extends LC{constructor(t,e,n,i,r,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=r,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],s=n+e,o=e/s,l=tC(t[0],!1);l.offset=0,r.push(l);const a=tC(t[0],!1);a.offset=MC(o),r.push(a);const u=t.length-1;for(let i=1;i<=u;i++){let o=tC(t[i],!1);o.offset=MC((e+o.offset*n)/s),r.push(o)}n=s,e=0,i="",t=r}return kC(this.element,t,this.preStyleProps,this.postStyleProps,n,e,i,!0)}}function MC(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class VC{}class zC extends VC{normalizePropertyName(t,e){return hC(t)}normalizeStyleValue(t,e,n,i){let r="";const s=n.toString().trim();if(jC[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&i.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+r}}const jC=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function HC(t,e,n,i,r,s,o,l,a,u,c,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:s,toState:i,toStyles:o,timelines:l,queriedElements:a,preStyleProps:u,postStyleProps:c,totalTime:h,errors:d}}const UC={};class BC{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,i){return function(t,e,n,i,r){return t.some(t=>t(e,n,i,r))}(this.ast.matchers,t,e,n,i)}buildStyles(t,e,n){const i=this._stateStyles["*"],r=this._stateStyles[t],s=i?i.buildStyles(e,n):{};return r?r.buildStyles(e,n):s}build(t,e,n,i,r,s,o,l,a,u){const c=[],h=this.ast.options&&this.ast.options.params||UC,d=this.buildStyles(n,o&&o.params||UC,c),p=l&&l.params||UC,f=this.buildStyles(i,p,c),g=new Set,m=new Map,y=new Map,_="void"===i,v={params:Object.assign({},h,p)},b=u?[]:RC(t,e,this.ast.animation,r,s,d,f,v,a,c);let w=0;if(b.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),c.length)return HC(e,this._triggerName,n,i,_,d,f,[],[],m,y,w,c);b.forEach(t=>{const n=t.element,i=Lw(m,n,{});t.preStyleProps.forEach(t=>i[t]=!0);const r=Lw(y,n,{});t.postStyleProps.forEach(t=>r[t]=!0),n!==e&&g.add(n)});const C=uC(g.values());return HC(e,this._triggerName,n,i,_,d,f,b,C,m,y,w)}}class WC{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},i=Jw(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(i[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const r=t;Object.keys(r).forEach(t=>{let s=r[t];s.length>1&&(s=aC(s,i,e)),n[t]=s})}}),n}}class qC{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new WC(t.style,t.options&&t.options.params||{})}),$C(this.states,"true","1"),$C(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new BC(t,e,this.states))}),this.fallbackTransition=new BC(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,i){return this.transitionFactories.find(r=>r.match(t,e,n,i))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function $C(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const QC=new IC;class GC{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],i=wC(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=i}_buildPlayer(t,e,n){const i=t.element,r=Rw(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const i=[],r=this._animations[t];let s;const o=new Map;if(r?(s=RC(this._driver,e,r,"ng-enter","ng-leave",{},{},n,QC,i),s.forEach(t=>{const e=Lw(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),s=[]),i.length)throw new Error("Unable to create the animation due to the following errors: "+i.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const l=Pw(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=l,l.onDestroy(()=>this.destroy(t)),this.players.push(l),l}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,i){const r=Nw(e,"","","");return Dw(this._getPlayer(t),n,r,i),()=>{}}command(t,e,n,i){if("register"==n)return void this.register(t,i[0]);if("create"==n)return void this.create(t,e,i[0]||{});const r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const KC=[],ZC={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},YC={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class XC{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(i=n?t.value:t)?i:null,n){const e=Jw(t);delete e.value,this.options=e}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const JC=new XC("void");class tS{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,lS(e,this._hostClassName)}listen(t,e,n,i){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(r=n)&&"done"!=r)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var r;const s=Lw(this._elementListeners,t,[]),o={name:e,phase:n,callback:i};s.push(o);const l=Lw(this._engine.statesByElement,t,{});return l.hasOwnProperty(e)||(lS(t,"ng-trigger"),lS(t,"ng-trigger-"+e),l[e]=JC),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete l[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,i=!0){const r=this._getTrigger(e),s=new nS(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(lS(t,"ng-trigger"),lS(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let l=o[e];const a=new XC(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&a.absorbOptions(l.options),o[e]=a,l||(l=JC),"void"!==a.value&&l.value===a.value){if(!function(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const i=n[r];if(!e.hasOwnProperty(i)||t[i]!==e[i])return!1}return!0}(l.params,a.params)){const e=[],n=r.matchStyles(l.value,l.params,e),i=r.matchStyles(a.value,a.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{rC(t,n),iC(t,i)})}return}const u=Lw(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let c=r.matchTransition(l.value,a.value,t,a.params),h=!1;if(!c){if(!i)return;c=r.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:c,fromState:l,toState:a,player:s,isFallbackTransition:h}),h||(lS(t,"ng-animate-queued"),s.onStart(()=>{aS(t,"ng-animate-queued")})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),u.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e,n=!1){this._engine.driver.query(t,".ng-trigger",!0).forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)})}triggerLeaveAnimation(t,e,n,i){const r=this._engine.statesByElement.get(t);if(r){const s=[];if(Object.keys(r).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",i);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Pw(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const i=e.name;if(n.has(i))return;n.add(i);const r=this._triggers[i].fallbackTransition,s=this._engine.statesByElement.get(t)[i]||JC,o=new XC("void"),l=new nS(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:r,fromState:s,toState:o,player:l,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e,!0),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)i=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){i=!0;break}}}this.prepareLeaveAnimationListeners(t),i?n.markElementAsRemoved(this.id,t,!1,e):(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}insertNode(t,e){lS(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const r=n.element,s=this._elementListeners.get(r);s&&s.forEach(e=>{if(e.name==n.triggerName){const i=Nw(r,n.triggerName,n.fromState.value,n.toState.value);i._data=t,Dw(n.player,e.phase,i,e.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,i=e.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class eS{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new tS(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=n[t[i]].namespaceId;if(r){const t=this._fetchNamespace(r);t&&e.add(t)}}}return e}trigger(t,e,n,i){if(iS(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,n,i),!0}return!1}insertNode(t,e,n,i){if(!iS(e))return;const r=e.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const i=this._fetchNamespace(t);i&&i.insertNode(e,n)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),lS(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),aS(t,"ng-animate-disabled"))}removeNode(t,e,n,i){if(iS(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,n,i){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,i,r){return iS(e)?this._fetchNamespace(t).listen(e,n,i,r):()=>{}}_buildInstruction(t,e,n,i,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Pw(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=ZC,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)lS(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Pw(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new IC,i=[],r=new Map,s=[],o=new Map,l=new Map,a=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)u.add(e[n])});const c=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=oS(h,this.collectedEnterElements),p=new Map;let f=0;d.forEach((t,e)=>{const n="ng-enter"+f++;p.set(e,n),t.forEach(t=>lS(t,n))});const g=[],m=new Set,y=new Set;for(let P=0;P<this.collectedLeaveElements.length;P++){const t=this.collectedLeaveElements[P],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):y.add(t))}const _=new Map,v=oS(h,Array.from(m));v.forEach((t,e)=>{const n="ng-leave"+f++;_.set(e,n),t.forEach(t=>lS(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=p.get(e);t.forEach(t=>aS(t,n))}),v.forEach((t,e)=>{const n=_.get(e);t.forEach(t=>aS(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const b=[],w=[];for(let P=this._namespaceList.length-1;P>=0;P--)this._namespaceList[P].drainQueuedTransitions(e).forEach(t=>{const e=t.player,r=t.element;if(b.push(e),this.collectedEnterElements.length){const t=r.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const u=!c||!this.driver.containsElement(c,r),h=_.get(r),d=p.get(r),f=this._buildInstruction(t,n,d,h,u);if(f.errors&&f.errors.length)w.push(f);else{if(u)return e.onStart(()=>rC(r,f.fromStyles)),e.onDestroy(()=>iC(r,f.toStyles)),void i.push(e);if(t.isFallbackTransition)return e.onStart(()=>rC(r,f.fromStyles)),e.onDestroy(()=>iC(r,f.toStyles)),void i.push(e);f.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(r,f.timelines),s.push({instruction:f,player:e,element:r}),f.queriedElements.forEach(t=>Lw(o,t,[]).push(e)),f.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=l.get(e);t||l.set(e,t=new Set),n.forEach(e=>t.add(e))}}),f.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let i=a.get(e);i||a.set(e,i=new Set),n.forEach(t=>i.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),b.forEach(t=>t.destroy()),this.reportError(t)}const C=new Map,S=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,C))}),i.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Lw(C,e,[]).push(t),t.destroy()})});const E=g.filter(t=>cS(t,l,a)),x=new Map;sS(x,this.driver,y,a,"*").forEach(t=>{cS(t,l,a)&&E.push(t)});const T=new Map;d.forEach((t,e)=>{sS(T,this.driver,new Set(t),l,"!")}),E.forEach(t=>{const e=x.get(t),n=T.get(t);x.set(t,Object.assign({},e,n))});const k=[],I=[],O={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(u.has(e))return s.onDestroy(()=>iC(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void i.push(s);let t=O;if(S.size>1){let n=e;const i=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}i.push(n)}i.forEach(e=>S.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,C,r,T,x);if(s.setRealPlayer(n),t===O)k.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=Pw(e)),i.push(s)}}else rC(e,o.fromStyles),s.onDestroy(()=>iC(e,o.toStyles)),I.push(s),u.has(e)&&i.push(s)}),I.forEach(t=>{const e=r.get(t.element);if(e&&e.length){const n=Pw(e);t.setRealPlayer(n)}}),i.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let P=0;P<g.length;P++){const t=g[P],e=t.__ng_removed;if(aS(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let i=this.driver.query(t,".ng-animating",!0);for(let t=0;t<i.length;t++){let e=o.get(i[t]);e&&e.length&&n.push(...e)}}const i=n.filter(t=>!t.destroyed);i.length?uS(this,t,i):this.processLeaveNode(t)}return g.length=0,k.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),k}elementContainsData(t,e){let n=!1;const i=e.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,i,r){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!r||"void"==r;e.forEach(e=>{e.queued||(t||e.triggerName==i)&&s.push(e)})}}return(n||i)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||i&&i!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const i=e.element,r=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,l=t!==i,a=Lw(n,t,[]);this._getPreviousPlayers(t,l,r,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),a.push(t)})}rC(i,e.fromStyles)}_buildAnimation(t,e,n,i,r,s){const o=e.triggerName,l=e.element,a=[],u=new Set,c=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new Cb(e.duration,e.delay);const p=h!==l,f=function(t){const e=[];return function t(e,n){for(let i=0;i<e.length;i++){const r=e[i];r instanceof Sb?t(r.players,n):n.push(r)}}(t,e),e}((n.get(h)||KC).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=r.get(h),m=s.get(h),y=Rw(0,this._normalizer,0,e.keyframes,g,m),_=this._buildPlayer(e,y,f);if(e.subTimeline&&i&&c.add(h),p){const e=new nS(t,o,h);e.setRealPlayer(_),a.push(e)}return _});a.forEach(t=>{Lw(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let i;if(t instanceof Map){if(i=t.get(e),i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&t.delete(e)}}else if(i=t[e],i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&delete t[e]}return i}(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>lS(t,"ng-animating"));const d=Pw(h);return d.onDestroy(()=>{u.forEach(t=>aS(t,"ng-animating")),iC(l,e.toStyles)}),c.forEach(t=>{Lw(i,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Cb(t.duration,t.delay)}}class nS{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Cb,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Dw(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Lw(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function iS(t){return t&&1===t.nodeType}function rS(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function sS(t,e,n,i,r){const s=[];n.forEach(t=>s.push(rS(t)));const o=[];i.forEach((n,i)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(i,t,r);n&&0!=n.length||(i.__ng_removed=YC,o.push(i))}),t.set(i,s)});let l=0;return n.forEach(t=>rS(t,s[l++])),o}function oS(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const i=new Set(e),r=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let s=r.get(e);if(s)return s;const o=e.parentNode;return s=n.has(o)?o:i.has(o)?1:t(o),r.set(e,s),s}(t);1!==e&&n.get(e).push(t)}),n}function lS(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function aS(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function uS(t,e,n){Pw(n).onDone(()=>t.processLeaveNode(e))}function cS(t,e,n){const i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(t=>r.add(t)):e.set(t,i),n.delete(t),!0}class hS{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new eS(t,e,n),this._timelineEngine=new GC(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,i,r){const s=t+"-"+i;let o=this._triggerCache[s];if(!o){const t=[],e=wC(this._driver,r,t);if(t.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new qC(t,e)}(i,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,i,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}onRemove(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,i){if("@"==n.charAt(0)){const[t,r]=Fw(n);this._timelineEngine.command(t,e,r,i)}else this._transitionEngine.trigger(t,e,n,i)}listen(t,e,n,i,r){if("@"==n.charAt(0)){const[t,i]=Fw(n);return this._timelineEngine.listen(t,e,i,r)}return this._transitionEngine.listen(t,e,n,i,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function dS(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=fS(e[0]),e.length>1&&(i=fS(e[e.length-1]))):e&&(n=fS(e)),n||i?new pS(t,n,i):null}let pS=(()=>{class t{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let r=t.initialStylesByElement.get(e);r||t.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&iC(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(iC(this._element,this._initialStyles),this._endStyles&&(iC(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(rC(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(rC(this._element,this._endStyles),this._endStyles=null),iC(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function fS(t){let e=null;const n=Object.keys(t);for(let i=0;i<n.length;i++){const r=n[i];gS(r)&&(e=e||{},e[r]=t[r])}return e}function gS(t){return"display"===t||"position"===t}class mS{constructor(t,e,n,i,r,s,o){this._element=t,this._name=e,this._duration=n,this._delay=i,this._easing=r,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=CS(t,"").trim();n.length&&(function(t,e){let n=0;for(let i=0;i<t.length;i++)","===t.charAt(i)&&n++}(n),e=`${n}, ${e}`),wS(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),bS(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){yS(this._element,this._name,"paused")}resume(){yS(this._element,this._name,"running")}setPosition(t){const e=_S(this._element,this._name);this._position=t*this._duration,wS(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),bS(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=CS(t,"").split(","),i=vS(n,e);i>=0&&(n.splice(i,1),wS(t,"",n.join(",")))}(this._element,this._name))}}function yS(t,e,n){wS(t,"PlayState",n,_S(t,e))}function _S(t,e){const n=CS(t,"");return n.indexOf(",")>0?vS(n.split(","),e):vS([n],e)}function vS(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function bS(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function wS(t,e,n,i){const r="animation"+e;if(null!=i){const e=t.style[r];if(e.length){const t=e.split(",");t[i]=n,n=t.join(",")}}t.style[r]=n}function CS(t,e){return t.style["animation"+e]}class SS{constructor(t,e,n,i,r,s,o,l){this.element=t,this.keyframes=e,this.animationName=n,this._duration=i,this._delay=r,this._finalStyles=o,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=i+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new mS(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:gC(this.element,n))})}this.currentSnapshot=t}}class ES extends Cb{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Qw(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class xS{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return Bw(t)}matchesElement(t,e){return Ww(t,e)}containsElement(t,e){return qw(t,e)}query(t,e,n){return $w(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Qw(t));let i=`@keyframes ${e} {\n`,r="";n.forEach(t=>{r=" ";const e=parseFloat(t.offset);i+=`${r}${100*e}% {\n`,r+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+=`${r}animation-timing-function: ${n};\n`));default:return void(i+=`${r}${e}: ${n};\n`)}}),i+=r+"}\n"}),i+="}\n";const s=document.createElement("style");return s.innerHTML=i,s}animate(t,e,n,i,r,s=[],o){o&&this._notifyFaultyScrubber();const l=s.filter(t=>t instanceof SS),a={};dC(n,i)&&l.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>a[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=pC(t,e,a));if(0==n)return new ES(t,u);const c="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(h);const d=dS(t,e),p=new SS(t,e,c,n,i,r,u,d);return p.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),p}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class TS{constructor(t,e,n,i){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:gC(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class kS{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(IS().toString()),this._cssKeyframesDriver=new xS}validateStyleProperty(t){return Bw(t)}matchesElement(t,e){return Ww(t,e)}containsElement(t,e){return qw(t,e)}query(t,e,n){return $w(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,i,r,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,r,s);const l={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(l.easing=r);const a={},u=s.filter(t=>t instanceof TS);dC(n,i)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>a[t]=e[t])});const c=dS(t,e=pC(t,e=e.map(t=>tC(t,!1)),a));return new TS(t,e,l,c)}}function IS(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}class OS extends _b{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:Ht.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?vb(t):t;return DS(this._renderer,null,e,"register",[n]),new PS(e,this._renderer)}}class PS extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new RS(this._id,t,e||{},this._renderer)}}class RS{constructor(t,e,n,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return DS(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function DS(t,e,n,i,r){return t.setProperty(e,`@@${n}:${i}`,r)}class AS{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new NS("",n,this.engine),this._rendererCache.set(n,t)),t}const i=e.id,r=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(r,t),e.data.animation.forEach(e=>this.engine.registerTrigger(i,r,t,e.name,e)),new LS(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}class NS{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class LS extends NS{constructor(t,e,n,i){super(e,n,i),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const i=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let r=e.substr(1),s="";return"@"!=r.charAt(0)&&([r,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(r)),this.engine.listen(this.namespaceId,i,r,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}class FS extends hS{constructor(t,e,n){super(t.body,e,n)}}function MS(){return"function"==typeof IS()?new kS:new xS}function VS(){return new zC}function zS(t,e,n){return new AS(t,e,n)}const jS=new Tt("AnimationModuleType");class HS{}n("NSPt");let US=class{};class BS{constructor(){this.nombreRequetesSortantes=0}getToken(){return localStorage.getItem("token")}intercept(t,e){this.nombreRequetesSortantes++;const n=this.getToken();return n&&(t=t.clone({setHeaders:{Authorization:"Bearer "+n}})),e.handle(t).pipe($a(t=>{t instanceof Lv&&this.nombreRequetesSortantes--}),eu(t=>{const e=t.error.message||t.statusText;return this.nombreRequetesSortantes=0,console.error("It happens: ",e),af(e)}))}addToken(t){const e=JSON.parse(localStorage.getItem("currentUser"));if(e&&e.token)return t.clone({setHeaders:{Authorization:"Bearer "+e.token}})}}function WS(t){const{subscriber:e,counter:n,period:i}=t;e.next(n),this.schedule({subscriber:e,counter:n+1,period:i},i)}function qS(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function $S(t,e){const n=e?"":"none";qS(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function QS(t){const e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function GS(t,e){return t.getPropertyValue(e).split(",").map(t=>t.trim())}const KS=ym({passive:!0}),ZS=ym({passive:!1});class YS{constructor(t,e,n,i,r,s){this._config=e,this._document=n,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new k,this._pointerMoveSubscription=d.EMPTY,this._pointerUpSubscription=d.EMPTY,this._scrollSubscription=d.EMPTY,this._resizeSubscription=d.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new k,this.started=new k,this.released=new k,this.ended=new k,this.entered=new k,this.exited=new k,this.dropped=new k,this.moved=this._moveEvents.asObservable(),this._pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){const e=this._handles.find(e=>{const n=t.target;return!!n&&(n===e||e.contains(n))});!e||this._disabledHandles.has(e)||this.disabled||this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)},this._pointerMove=t=>{if(!this._hasStartedDragging){const e=this._getPointerPositionOnPage(t);if(Math.abs(e.x-this._pickupPositionOnPage.x)+Math.abs(e.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){if(!(Date.now()>=this._dragStartTime+(this.dragStartDelay||0)))return void this._endDragSequence(t);this._dropContainer&&this._dropContainer.isDragging()||(this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(t)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()));const e=this._getConstrainedPointerPosition(t);if(this._hasMoved=!0,t.preventDefault(),this._updatePointerDirectionDelta(e),this._dropContainer)this._updateActiveDropContainer(e);else{const t=this._activeTransform;t.x=e.x-this._pickupPositionOnPage.x+this._passiveTransform.x,t.y=e.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(t.x,t.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${t.x} ${t.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:e,event:t,distance:this._getDragDistance(e),delta:this._pointerDirectionDelta})})},this._pointerUp=t=>{this._endDragSequence(t)},this.withRootElement(t),s.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=function(t){return null!=t&&""+t!="false"}(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions())}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}withHandles(t){return this._handles=t.map(t=>xm(t)),this._handles.forEach(t=>$S(t,!1)),this._toggleNativeDragInteractions(),this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=xm(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),e.addEventListener("mousedown",this._pointerDown,ZS),e.addEventListener("touchstart",this._pointerDown,KS),this._initialTransform=void 0,this._rootElement=e),this}withBoundaryElement(t){return this._boundaryElement=t?xm(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&eE(this._rootElement),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._boundaryElement=this._rootElement=this._placeholderTemplate=this._previewTemplate=this._nextSibling=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){this._handles.indexOf(t)>-1&&this._disabledHandles.add(t)}enableHandle(t){this._disabledHandles.delete(t)}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}_sortFromLastPointerPosition(){const t=this._pointerPositionAtLastDirectionChange;t&&this._dropContainer&&this._updateActiveDropContainer(t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&eE(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&eE(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(this._getPointerPositionOnPage(t))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}_startDragSequence(t){if(this.started.next({source:this}),nE(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions(),this._dropContainer){const t=this._rootElement;this._nextSibling=t.nextSibling;const n=this._preview=this._createPreviewElement(),i=this._placeholder=this._createPlaceholderElement();t.style.display="none",this._document.body.appendChild(t.parentNode.replaceChild(i,t)),(e=this._document,e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement||e.body).appendChild(n),this._dropContainer.start()}var e}_initializeDragSequence(t,e){e.stopPropagation();const n=this.isDragging(),i=nE(e),r=!i&&0!==e.button,s=this._rootElement,o=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),n||r||o)return;this._handles.length&&(this._rootElementTapHighlight=s.style.webkitTapHighlightColor,s.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._initialContainer=this._dropContainer,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.pipe(pu(null)).subscribe(()=>{this._scrollPosition=this._viewportRuler.getViewportScrollPosition()}),this._boundaryElement&&(this._boundaryRect=this._boundaryElement.getBoundingClientRect()),this._pickupPositionInElement=this._previewTemplate&&this._previewTemplate.template?{x:0,y:0}:this._getPointerPositionInElement(t,e);const l=this._pickupPositionOnPage=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:l.x,y:l.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){this._rootElement.style.display="",this._nextSibling?this._nextSibling.parentNode.insertBefore(this._rootElement,this._nextSibling):xm(this._initialContainer.element).appendChild(this._rootElement),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(()=>{const e=this._dropContainer,n=e.getItemIndex(this),i=this._getPointerPositionOnPage(t),r=this._getDragDistance(this._getPointerPositionOnPage(t)),s=e._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:r}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialContainer.getItemIndex(this),container:e,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:r}),e.drop(this,n,this._initialContainer,s,r),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e}){let n=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!n&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(n=this._initialContainer),n&&n!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=n,this._dropContainer.enter(this,t,e),this.entered.next({item:this,container:n,currentIndex:n.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(t,e),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._preview.style.transform=XS(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y)}_createPreviewElement(){const t=this._previewTemplate,e=t?t.template:null;let n;if(e){const i=t.viewContainer.createEmbeddedView(e,t.context);n=iE(i,this._document),this._previewRef=i,n.style.transform=XS(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const t=this._rootElement,e=t.getBoundingClientRect();n=JS(t),n.style.width=e.width+"px",n.style.height=e.height+"px",n.style.transform=XS(e.left,e.top)}return qS(n.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:"1000"}),$S(n,!1),n.classList.add("cdk-drag-preview"),n.setAttribute("dir",this._direction),n}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=XS(t.left,t.top);const e=function(t){const e=getComputedStyle(t),n=GS(e,"transition-property"),i=n.find(t=>"transform"===t||"all"===t);if(!i)return 0;const r=n.indexOf(i),s=GS(e,"transition-duration"),o=GS(e,"transition-delay");return QS(s[r])+QS(o[r])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const n=e=>{(!e||e.target===this._preview&&"transform"===e.propertyName)&&(this._preview.removeEventListener("transitionend",n),t(),clearTimeout(i))},i=setTimeout(n,1.5*e);this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let n;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),n=iE(this._placeholderRef,this._document)):n=JS(this._rootElement),n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(t,e){const n=this._rootElement.getBoundingClientRect(),i=t===this._rootElement?null:t,r=i?i.getBoundingClientRect():n,s=nE(e)?e.targetTouches[0]:e;return{x:r.left-n.left+(s.pageX-r.left-this._scrollPosition.left),y:r.top-n.top+(s.pageY-r.top-this._scrollPosition.top)}}_getPointerPositionOnPage(t){const e=nE(t)?t.touches[0]||t.changedTouches[0]:t;return{x:e.pageX-this._scrollPosition.left,y:e.pageY-this._scrollPosition.top}}_getConstrainedPointerPosition(t){const e=this._getPointerPositionOnPage(t),n=this.constrainPosition?this.constrainPosition(e,this):e,i=this._dropContainer?this._dropContainer.lockAxis:null;if("x"===this.lockAxis||"x"===i?n.y=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==i||(n.x=this._pickupPositionOnPage.x),this._boundaryRect){const{x:t,y:e}=this._pickupPositionInElement,i=this._boundaryRect,r=this._previewRect,s=i.top+e,o=i.bottom-(r.height-e);n.x=tE(n.x,i.left+t,i.right-(r.width-t)),n.y=tE(n.y,s,o)}return n}_updatePointerDirectionDelta(t){const{x:e,y:n}=t,i=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,s=Math.abs(e-r.x),o=Math.abs(n-r.y);return s>this._config.pointerDirectionChangeThreshold&&(i.x=e>r.x?1:-1,r.x=e),o>this._config.pointerDirectionChangeThreshold&&(i.y=n>r.y?1:-1,r.y=n),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,$S(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,ZS),t.removeEventListener("touchstart",this._pointerDown,KS)}_applyRootElementTransform(t,e){const n=XS(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const n=this._boundaryElement.getBoundingClientRect(),i=this._rootElement.getBoundingClientRect(),r=n.left-i.left,s=i.right-n.right,o=n.top-i.top,l=i.bottom-n.bottom;n.width>i.width?(r>0&&(t+=r),s>0&&(t-=s)):t=0,n.height>i.height?(o>0&&(e+=o),l>0&&(e-=l)):e=0,t===this._passiveTransform.x&&e===this._passiveTransform.y||this.setFreeDragPosition({y:e,x:t})}}function XS(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function JS(t){const e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),i=t.querySelectorAll("canvas");e.removeAttribute("id");for(let r=0;r<n.length;r++)n[r].removeAttribute("id");if(i.length){const t=e.querySelectorAll("canvas");for(let e=0;e<i.length;e++){const n=t[e].getContext("2d");n&&n.drawImage(i[e],0,0)}}return e}function tE(t,e,n){return Math.max(e,Math.min(n,t))}function eE(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function nE(t){return"t"===t.type[0]}function iE(t,e){const n=t.rootNodes[0];if(n.nodeType!==e.ELEMENT_NODE){const t=e.createElement("div");return t.appendChild(n),t}return n}function rE(t,e){return Math.max(0,Math.min(e,t))}let sE=0;class oE{constructor(t,e,n,i,r){this._dragDropRegistry=e,this._ngZone=i,this._viewportRuler=r,this.id="cdk-drop-list-ref-"+sE++,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=()=>!0,this.beforeStarted=new k,this.entered=new k,this.exited=new k,this.dropped=new k,this.sorted=new k,this._isDragging=!1,this._itemPositions=[],this._scrollPosition={top:0,left:0},this._viewportScrollPosition={top:0,left:0},this._previousSwap={drag:null,delta:0},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=d.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new k,this._handleScroll=()=>{if(!this.isDragging())return;const t=xm(this.element);this._updateAfterScroll(this._scrollPosition,t.scrollTop,t.scrollLeft)},this._startScrollInterval=()=>{this._stopScrolling(),function(t=0,e=Ap){return(!sf(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=Ap),new w(n=>(n.add(e.schedule(WS,t,{subscriber:n,counter:0,period:t})),n))}(0,Om).pipe(Nm(this._stopScrollTimers)).subscribe(()=>{const t=this._scrollNode;1===this._verticalScrollDirection?hE(t,-2):2===this._verticalScrollDirection&&hE(t,2),1===this._horizontalScrollDirection?dE(t,-2):2===this._horizontalScrollDirection&&dE(t,2)})};const s=this.element=xm(t);this._shadowRoot=function(t){if(function(){if(null==bm){const t="undefined"!=typeof document?document.head:null;bm=!(!t||!t.createShadowRoot&&!t.attachShadow)}return bm}()){const e=t.getRootNode?t.getRootNode():null;if(e instanceof ShadowRoot)return e}return null}(s)||n,e.registerDropContainer(this)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._removeListeners(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){const t=xm(this.element);this.beforeStarted.next(),this._isDragging=!0,this._cacheItems(),this._siblings.forEach(t=>t._startReceiving(this)),this._removeListeners(),this._ngZone?this._ngZone.runOutsideAngular(()=>t.addEventListener("scroll",this._handleScroll)):t.addEventListener("scroll",this._handleScroll),this._viewportRuler&&this._listenToScrollEvents()}enter(t,e,n){this.start();let i=this.sortingDisabled?this._draggables.indexOf(t):-1;-1===i&&(i=this._getItemIndexFromPointerPosition(t,e,n));const r=this._activeDraggables,s=r.indexOf(t),o=t.getPlaceholderElement();let l=r[i];if(l===t&&(l=r[i+1]),s>-1&&r.splice(s,1),l&&!this._dragDropRegistry.isDragging(l)){const e=l.getRootElement();e.parentElement.insertBefore(o,e),r.splice(i,0,t)}else xm(this.element).appendChild(o),r.push(t);o.style.transform="",this._cacheItemPositions(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,n,i,r={x:0,y:0}){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:n.getItemIndex(t),container:this,previousContainer:n,isPointerOverContainer:i,distance:r})}withItems(t){return this._draggables=t,t.forEach(t=>t._withDropContainer(this)),this.isDragging()&&this._cacheItems(),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}getItemIndex(t){return this._isDragging?aE("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,e=>e.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,n,i){if(this.sortingDisabled||!this._isPointerNearDropContainer(e,n))return;const r=this._itemPositions,s=this._getItemIndexFromPointerPosition(t,e,n,i);if(-1===s&&r.length>0)return;const o="horizontal"===this._orientation,l=aE(r,e=>e.drag===t),a=r[s],u=r[l].clientRect,c=a.clientRect,h=l>s?1:-1;this._previousSwap.drag=a.drag,this._previousSwap.delta=o?i.x:i.y;const d=this._getItemOffsetPx(u,c,h),p=this._getSiblingOffsetPx(l,r,h),f=r.slice();(function(t,e,n){const i=rE(e,t.length-1),r=rE(n,t.length-1);if(i===r)return;const s=t[i],o=r<i?-1:1;for(let l=i;l!==r;l+=o)t[l]=t[l+o];t[r]=s})(r,l,s),this.sorted.next({previousIndex:l,currentIndex:s,container:this,item:t}),r.forEach((e,n)=>{if(f[n]===e)return;const i=e.drag===t,r=i?d:p,s=i?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=r,o?(s.style.transform=`translate3d(${Math.round(e.offset)}px, 0, 0)`,lE(e.clientRect,0,r)):(s.style.transform=`translate3d(0, ${Math.round(e.offset)}px, 0)`,lE(e.clientRect,r,0))})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let n,i=0,r=0;if(this._isPointerNearDropContainer(t,e)){const s=xm(this.element);[i,r]=function(t,e,n,i){const r=pE(e,i),s=fE(e,n);let o=0,l=0;if(r){const e=t.scrollTop;1===r?e>0&&(o=1):t.scrollHeight-e>t.clientHeight&&(o=2)}if(s){const e=t.scrollLeft;1===s?e>0&&(l=1):t.scrollWidth-e>t.clientWidth&&(l=2)}return[o,l]}(s,this._clientRect,t,e),(i||r)&&(n=s)}if(this._viewportRuler&&!i&&!r){const{width:s,height:o}=this._viewportRuler.getViewportSize(),l={width:s,height:o,top:0,right:s,bottom:o,left:0};i=pE(l,e),r=fE(l,t),n=window}!n||i===this._verticalScrollDirection&&r===this._horizontalScrollDirection&&n===this._scrollNode||(this._verticalScrollDirection=i,this._horizontalScrollDirection=r,this._scrollNode=n,(i||r)&&n?this._ngZone?this._ngZone.runOutsideAngular(this._startScrollInterval):this._startScrollInterval():this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_cacheOwnPosition(){const t=xm(this.element);this._clientRect=cE(t),this._scrollPosition={top:t.scrollTop,left:t.scrollLeft}}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const e=this._dragDropRegistry.isDragging(t)?t.getPlaceholderElement():t.getRootElement();return{drag:t,offset:0,clientRect:cE(e)}}).sort((e,n)=>t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top)}_reset(){this._isDragging=!1,this._activeDraggables.forEach(t=>t.getRootElement().style.transform=""),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._stopScrolling(),this._removeListeners()}_getSiblingOffsetPx(t,e,n){const i="horizontal"===this._orientation,r=e[t].clientRect,s=e[t+-1*n];let o=r[i?"width":"height"]*n;if(s){const t=i?"left":"top",e=i?"right":"bottom";-1===n?o-=s.clientRect[t]-r[e]:o+=r[t]-s.clientRect[e]}return o}_isPointerNearDropContainer(t,e){const{top:n,right:i,bottom:r,left:s,width:o,height:l}=this._clientRect,a=.05*o,u=.05*l;return e>n-u&&e<r+u&&t>s-a&&t<i+a}_getItemOffsetPx(t,e,n){const i="horizontal"===this._orientation;let r=i?e.left-t.left:e.top-t.top;return-1===n&&(r+=i?e.width-t.width:e.height-t.height),r}_getItemIndexFromPointerPosition(t,e,n,i){const r="horizontal"===this._orientation;return aE(this._itemPositions,({drag:s,clientRect:o},l,a)=>{if(s===t)return a.length<2;if(i){const t=r?i.x:i.y;if(s===this._previousSwap.drag&&t===this._previousSwap.delta)return!1}return r?e>=Math.floor(o.left)&&e<=Math.floor(o.right):n>=Math.floor(o.top)&&n<=Math.floor(o.bottom)})}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheOwnPosition()}_updateAfterScroll(t,e,n,i){const r=t.top-e,s=t.left-n;i&&lE(i,r,s),this._itemPositions.forEach(({clientRect:t})=>{lE(t,r,s)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()}),t.top=e,t.left=n}_removeListeners(){xm(this.element).removeEventListener("scroll",this._handleScroll),this._viewportScrollSubscription.unsubscribe()}_isOverContainer(t,e){return uE(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,n){return this._siblings.find(i=>i._canReceive(t,e,n))}_canReceive(t,e,n){if(!this.enterPredicate(t,this)||!uE(this._clientRect,e,n))return!1;const i=this._shadowRoot.elementFromPoint(e,n);if(!i)return!1;const r=xm(this.element);return i===r||r.contains(i)}_startReceiving(t){const e=this._activeSiblings;e.has(t)||(e.add(t),this._cacheOwnPosition(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(()=>{if(this.isDragging()){const t=this._viewportRuler.getViewportScrollPosition();this._updateAfterScroll(this._viewportScrollPosition,t.top,t.left,this._clientRect)}else this.isReceiving()&&this._cacheOwnPosition()})}}function lE(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function aE(t,e){for(let n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function uE(t,e,n){const{top:i,bottom:r,left:s,right:o}=t;return n>=i&&n<=r&&e>=s&&e<=o}function cE(t){const e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function hE(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function dE(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function pE(t,e){const{top:n,bottom:i,height:r}=t,s=.05*r;return e>=n-s&&e<=n+s?1:e>=i-s&&e<=i+s?2:0}function fE(t,e){const{left:n,right:i,width:r}=t,s=.05*r;return e>=n-s&&e<=n+s?1:e>=i-s&&e<=i+s?2:0}const gE=ym({passive:!1,capture:!0});let mE=(()=>{class t{constructor(t,e){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new k,this.pointerUp=new k,this.scroll=new k,this._preventDefaultWhileDragging=t=>{this._activeDragInstances.size&&t.preventDefault()},this._document=e}registerDropContainer(t){if(!this._dropInstances.has(t)){if(this.getDropContainer(t.id))throw Error(`Drop instance with id "${t.id}" has already been registered.`);this._dropInstances.add(t)}}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._preventDefaultWhileDragging,gE)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._preventDefaultWhileDragging,gE)}startDragging(t,e){if(!this._activeDragInstances.has(t)&&(this._activeDragInstances.add(t),1===this._activeDragInstances.size)){const t=e.type.startsWith("touch"),n=t?"touchend":"mouseup";this._globalListeners.set(t?"touchmove":"mousemove",{handler:t=>this.pointerMove.next(t),options:gE}).set(n,{handler:t=>this.pointerUp.next(t),options:!0}).set("scroll",{handler:t=>this.scroll.next(t),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:gE}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((t,e)=>{this._document.addEventListener(e,t.handler,t.options)})})}}stopDragging(t){this._activeDragInstances.delete(t),0===this._activeDragInstances.size&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances.has(t)}getDropContainer(t){return Array.from(this._dropInstances).find(e=>e.id===t)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,e)=>{this._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()}}return t.ngInjectableDef=ft({factory:function(){return new t(At(ts),At(ya))},token:t,providedIn:"root"}),t})();const yE={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let _E=(()=>{class t{constructor(t,e,n,i){this._document=t,this._ngZone=e,this._viewportRuler=n,this._dragDropRegistry=i}createDrag(t,e=yE){return new YS(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new oE(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return t.ngInjectableDef=ft({factory:function(){return new t(At(ya),At(ts),At(Jm),At(mE))},token:t,providedIn:"root"}),t})();class vE{}let bE=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.ngInjectableDef=ft({factory:function(){return new t},token:t,providedIn:"root"}),t})();class wE{}const CE=new un("8.2.3"),SE=new un("8.2.3"),EE=new Tt("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});class xE{constructor(t,e){this._sanityChecksEnabled=t,this._hammerLoader=e,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_areChecksEnabled(){return this._sanityChecksEnabled&&Kt()&&!this._isTestEnv()}_isTestEnv(){const t=this._window;return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._document||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){SE.full!==CE.full&&console.warn("The Angular Material version ("+SE.full+") does not match the Angular CDK version ("+CE.full+").\nPlease ensure the versions of these two packages exactly match.")}_checkHammerIsAvailable(){!this._hasCheckedHammer&&this._window&&(!this._areChecksEnabled()||this._window.Hammer||this._hammerLoader||console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)}}let TE;try{TE="undefined"!=typeof Intl}catch(Bx){TE=!1}let kE=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.ngInjectableDef=ft({factory:function(){return new t},token:t,providedIn:"root"}),t})();class IE{}function OE(){throw Error("Host already has a portal attached")}class PE{attach(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&OE(),this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class RE extends PE{constructor(t,e,n,i){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=i}}class DE extends PE{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class AE extends class{constructor(){this._isDisposed=!1}hasAttached(){return!!this._attachedPortal}attach(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&OE(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof RE?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof DE?(this._attachedPortal=t,this.attachTemplatePortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,n,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.detectChanges(),n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}class NE{}class LE{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Em(-this._previousScrollPosition.left),t.style.top=Em(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,i=e.scrollBehavior||"",r=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=i,n.scrollBehavior=r}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}function FE(){return Error("Scroll strategy has already been attached.")}class ME{constructor(t,e,n,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){if(this._overlayRef)throw FE();this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class VE{enable(){}disable(){}attach(){}}function zE(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function jE(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class HE{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=i,this._scrollSubscription=null}attach(t){if(this._overlayRef)throw FE();this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();zE(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let UE=(()=>{class t{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new VE,this.close=t=>new ME(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new LE(this._viewportRuler,this._document),this.reposition=t=>new HE(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=i}}return t.ngInjectableDef=ft({factory:function(){return new t(At($m),At(Jm),At(ts),At(ya))},token:t,providedIn:"root"}),t})();class BE{constructor(t){if(this.scrollStrategy=new VE,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class WE{constructor(t,e,n,i,r){this.offsetX=n,this.offsetY=i,this.panelClass=r,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class qE{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}function $E(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". Expected "top", "bottom" or "center".`)}function QE(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". Expected "start", "end" or "center".`)}let GE=(()=>{class t{constructor(t){this._attachedOverlays=[],this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEventSubscriptions>0){e[n]._keydownEvents.next(t);break}},this._document=t}ngOnDestroy(){this._detach()}add(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}_detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.ngInjectableDef=ft({factory:function(){return new t(At(ya))},token:t,providedIn:"root"}),t})(),KE=(()=>{class t{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.getElementsByClassName("cdk-overlay-container");for(let n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);const e=this._document.createElement("div");e.classList.add("cdk-overlay-container"),this._document.body.appendChild(e),this._containerElement=e}}return t.ngInjectableDef=ft({factory:function(){return new t(At(ya))},token:t,providedIn:"root"}),t})();class ZE{constructor(t,e,n,i,r,s,o,l){this._portalOutlet=t,this._host=e,this._pane=n,this._config=i,this._ngZone=r,this._keyboardDispatcher=s,this._document=o,this._location=l,this._backdropElement=null,this._backdropClick=new k,this._attachments=new k,this._detachments=new k,this._locationChanges=d.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEventsObservable=new w(t=>{const e=this._keydownEvents.subscribe(t);return this._keydownEventSubscriptions++,()=>{e.unsubscribe(),this._keydownEventSubscriptions--}}),this._keydownEvents=new k,this._keydownEventSubscriptions=0,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(ru(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEventsObservable}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign({},this._config,t),this._updateElementSize()}setDirection(t){this._config=Object.assign({},this._config,{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Em(this._config.width),t.height=Em(this._config.height),t.minWidth=Em(this._config.minWidth),t.minHeight=Em(this._config.minHeight),t.maxWidth=Em(this._config.maxWidth),t.maxHeight=Em(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const i=t.classList;Sm(e).forEach(t=>{t&&(n?i.add(t):i.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.asObservable().pipe(Nm(X(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}class YE{constructor(t,e,n,i,r){this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new k,this._resizeSubscription=d.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,i=[];let r;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),l=this._getOverlayPoint(o,e,s),a=this._getOverlayFit(l,e,n,s);if(a.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(a,l,n)?i.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!r||r.overlayFit.visibleArea<a.visibleArea)&&(r={overlayFit:a,overlayPoint:l,originPoint:o,position:s,overlayRect:e})}if(i.length){let t=null,e=-1;for(const n of i){const i=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);i>e&&(e=i,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(r.position,r.originPoint);this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&XE(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,i;if("center"==e.originX)n=t.left+t.width/2;else{const i=this._isRtl()?t.right:t.left,r=this._isRtl()?t.left:t.right;n="start"==e.originX?i:r}return i="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:i}}_getOverlayPoint(t,e,n){let i,r;return i="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,r="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+i,y:t.y+r}}_getOverlayFit(t,e,n,i){let{x:r,y:s}=t,o=this._getOffset(i,"x"),l=this._getOffset(i,"y");o&&(r+=o),l&&(s+=l);let a=0-s,u=s+e.height-n.height,c=this._subtractOverflows(e.width,0-r,r+e.width-n.width),h=this._subtractOverflows(e.height,a,u),d=c*h;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:c==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const i=n.bottom-e.y,r=n.right-e.x,s=this._overlayRef.getConfig().minHeight,o=this._overlayRef.getConfig().minWidth,l=t.fitsInViewportHorizontally||null!=o&&o<=r;return(t.fitsInViewportVertically||null!=s&&s<=i)&&l}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=this._viewportRect,r=Math.max(t.x+e.width-i.right,0),s=Math.max(t.y+e.height-i.bottom,0),o=Math.max(i.top-n.top-t.y,0),l=Math.max(i.left-n.left-t.x,0);let a=0,u=0;return a=e.width<=i.width?l||-r:t.x<this._viewportMargin?i.left-n.left-t.x:0,u=e.height<=i.height?o||-s:t.y<this._viewportMargin?i.top-n.top-t.y:0,this._previousPushAmount={x:a,y:u},{x:t.x+a,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new qE(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,i=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,i=this._isRtl();let r,s,o,l,a,u;if("top"===e.overlayY)s=t.y,r=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,r=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),i=this._lastBoundingBoxSize.height;r=2*e,s=t.y-e,r>i&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-i/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)u=n.width-t.x+this._viewportMargin,l=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)a=t.x,l=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),i=this._lastBoundingBoxSize.width;l=2*e,a=t.x-e,l>i&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.x-i/2)}return{top:s,left:a,bottom:o,right:u,width:l,height:r}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right="",i.width=i.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;i.height=Em(n.height),i.top=Em(n.top),i.bottom=Em(n.bottom),i.width=Em(n.width),i.left=Em(n.left),i.right=Em(n.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(i.maxHeight=Em(t)),r&&(i.maxWidth=Em(r))}this._lastBoundingBoxSize=n,XE(this._boundingBox.style,i)}_resetBoundingBoxStyles(){XE(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){XE(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={};if(this._hasExactPosition()){const i=this._viewportRuler.getViewportScrollPosition();XE(n,this._getExactOverlayY(e,t,i)),XE(n,this._getExactOverlayX(e,t,i))}else n.position="static";let i="",r=this._getOffset(e,"x"),s=this._getOffset(e,"y");r&&(i+=`translateX(${r}px) `),s&&(i+=`translateY(${s}px)`),n.transform=i.trim(),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxHeight&&(n.maxHeight=""),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxWidth&&(n.maxWidth=""),XE(this._pane.style,n)}_getExactOverlayY(t,e,n){let i={top:null,bottom:null},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=s,"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":i.top=Em(r.y),i}_getExactOverlayX(t,e,n){let i,r={left:null,right:null},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),i=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===i?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Em(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:jE(t,n),isOriginOutsideView:zE(t,n),isOverlayClipped:jE(e,n),isOverlayOutsideView:zE(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(t=>{QE("originX",t.originX),$E("originY",t.originY),QE("overlayX",t.overlayX),$E("overlayY",t.overlayY)})}_addPanelClasses(t){this._pane&&Sm(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof en)return t.nativeElement.getBoundingClientRect();if(t instanceof HTMLElement)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function XE(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}class JE{constructor(t,e,n,i,r,s,o){this._preferredPositions=[],this._positionStrategy=new YE(n,i,r,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e)}get _isRtl(){return"rtl"===this._overlayRef.getDirection()}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,i){const r=new WE(t,e,n,i);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}class tx{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig();t.position=this._cssPosition,t.marginLeft="100%"===n.width?"0":this._leftOffset,t.marginTop="100%"===n.height?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,"100%"===n.width?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems="100%"===n.height?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let ex=(()=>{class t{constructor(t,e,n,i){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=i}global(){return new tx}connectedTo(t,e,n){return new JE(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new YE(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.ngInjectableDef=ft({factory:function(){return new t(At(Jm),At(ya),At(gm),At(KE))},token:t,providedIn:"root"}),t})(),nx=0;class ix{constructor(t,e,n,i,r,s,o,l,a,u){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=i,this._keyboardDispatcher=r,this._injector=s,this._ngZone=o,this._document=l,this._directionality=a,this._location=u}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),i=this._createPortalOutlet(n),r=new BE(t);return r.direction=r.direction||this._directionality.value,new ZE(i,e,n,r,this._ngZone,this._keyboardDispatcher,this._document,this._location)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+nx++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(_s)),new AE(t,this._componentFactoryResolver,this._appRef,this._injector)}}const rx=new Tt("cdk-connected-overlay-scroll-strategy");function sx(t){return()=>t.scrollStrategies.reposition()}class ox{}const lx=new Tt("mat-menu-scroll-strategy");function ax(t){return()=>t.scrollStrategies.reposition()}class ux{}class cx{}class hx{}let dx=(()=>{class t{constructor(){this.changes=new k,this.optionalLabel="Optional"}}return t.ngInjectableDef=ft({factory:function(){return new t},token:t,providedIn:"root"}),t})();function px(t){return t||new dx}class fx{}class gx{}class mx{}class yx{}class _x{}class vx{}class bx{}class wx{}class Cx{}class Sx{}class Ex{}class xx{}class Tx{}class kx{}class Ix{}class Ox{}class Px{}class Rx{}class Dx{}class Ax{}class Nx{}class Lx{}class Fx{}class Mx{}class Vx{}class zx{}class jx{}class Hx{}var Ux=ol(al,[xa],(function(t){return function(t){const e={},n=[];let i=!1;for(let r=0;r<t.length;r++){const s=t[r];s.token===Te&&!0===s.value&&(i=!0),1073741824&s.flags&&n.push(s.token),s.index=r,e[Bn(s.token)]=s}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:i}}([xi(512,Ye,Xe,[[8,[vp,Iw]],[3,Ye],Mt]),xi(5120,Tf,If,[Cf,ts,[2,Sf]]),xi(5120,Mr,Ns,[[3,Mr]]),xi(4608,Ql,Gl,[Mr,[2,$l]]),xi(5120,vr,Ls,[ts]),xi(5120,Pr,Rr,[]),xi(5120,wn,Ds,[]),xi(5120,Cn,As,[]),xi(4608,fc,gc,[ya]),xi(6144,_e,null,[fc]),xi(4608,lc,uc,[]),xi(5120,Fu,(function(t,e,n,i,r,s,o,l){return[new sc(t,e,n),new pc(i),new cc(r,s,o,l)]}),[ya,ts,Nr,ya,ya,lc,Fr,[2,ac]]),xi(4608,Mu,Mu,[Fu,ts]),xi(135680,ju,ju,[ya]),xi(4608,qu,qu,[Mu,ju,Pr]),xi(5120,Kw,MS,[]),xi(5120,VC,VS,[]),xi(4608,hS,FS,[ya,Kw,VC]),xi(5120,sn,zS,[qu,hS,ts]),xi(6144,zu,null,[ju]),xi(4608,ls,ls,[ts]),xi(4608,_b,OS,[sn,ya]),xi(4608,Pf,Pf,[Cf,[2,Sf],[2,ff],Nr,ts]),xi(5120,Rh,hp,[Hd]),xi(4608,Xd,Xd,[]),xi(6144,Zd,null,[Xd]),xi(135680,Jd,Jd,[Hd,bs,Br,Ie,Zd]),xi(4608,Yd,Yd,[]),xi(5120,tp,op,[Hd,va,ep]),xi(5120,gp,fp,[dp]),xi(5120,Lr,(function(t){return[t]}),[gp]),xi(4608,Gv,Kv,[ya,Nr,$v]),xi(4608,Zv,Zv,[Gv,Qv]),xi(5120,jv,(function(t){return[t,new BS]}),[Zv]),xi(4608,Wv,Wv,[]),xi(6144,Bv,null,[Wv]),xi(4608,qv,qv,[Bv]),xi(6144,Sv,null,[qv]),xi(4608,Cv,Yv,[Sv,Ie]),xi(4608,Vv,Vv,[Cv]),xi(4608,Fg,Fg,[]),xi(4608,_E,_E,[ya,ts,Jm,mE]),xi(4608,bE,bE,[]),xi(4608,kE,kE,[]),xi(4608,ix,ix,[UE,KE,Ye,ex,GE,Ie,ts,ya,dm,[2,gl]]),xi(5120,rx,sx,[ix]),xi(5120,lx,ax,[ix]),xi(5120,dx,px,[[3,dx]]),xi(4608,zf,zf,[]),xi(4608,Mf,Mf,[]),xi(4608,Nf,Nf,[]),xi(4608,Vf,Vf,[]),xi(1073742336,Of,Of,[Nr]),xi(1073742336,ma,ma,[]),xi(1024,$t,Sc,[]),xi(1024,ps,(function(){return[rp()]}),[]),xi(512,dp,dp,[Ie]),xi(1024,Ir,(function(t,e){return[(n=t,Au("probe",Lu),Au("coreTokens",Object.assign({},Nu,(n||[]).reduce((t,e)=>(t[e.name]=e.token,t),{}))),()=>Lu),pp(e)];var n}),[[2,ps],dp]),xi(512,Or,Or,[[2,Ir]]),xi(131584,_s,_s,[ts,Fr,Ie,$t,Ye,Or]),xi(1073742336,Fs,Fs,[_s]),xi(1073742336,Ec,Ec,[[3,Ec]]),xi(1073742336,HS,HS,[]),xi(1073742336,US,US,[]),xi(1024,np,ap,[[3,Hd]]),xi(512,uh,ch,[]),xi(512,Qd,Qd,[]),xi(256,ep,{},[]),xi(1024,pl,lp,[hl,[2,fl],ep]),xi(512,gl,gl,[pl,hl]),xi(512,Br,Br,[]),xi(512,bs,Ss,[Br,[2,ws]]),xi(1024,Nd,(function(){return[[{path:"edit/:id",component:xa}]]}),[]),xi(1024,Hd,cp,[_s,uh,Qd,gl,Ie,bs,Br,Nd,ep,[2,Fd],[2,Dd]]),xi(1073742336,sp,sp,[[2,np],[2,Hd]]),xi(1073742336,gx,gx,[]),xi(1073742336,Xv,Xv,[]),xi(1073742336,Jv,Jv,[]),xi(1073742336,am,am,[]),xi(1073742336,um,um,[]),xi(1073742336,iy,iy,[]),xi(1073742336,Bf,Bf,[]),xi(1073742336,ub,ub,[]),xi(1073742336,dy,dy,[]),xi(1073742336,xb,xb,[]),xi(1073742336,uy,uy,[]),xi(1073742336,mx,mx,[]),xi(1073742336,fy,fy,[]),xi(1073742336,pm,pm,[]),xi(1073742336,mm,mm,[]),xi(1073742336,Xm,Xm,[]),xi(1073742336,ey,ey,[]),xi(1073742336,oy,oy,[]),xi(1073742336,yx,yx,[]),xi(1073742336,_x,_x,[]),xi(1073742336,vx,vx,[]),xi(1073742336,bx,bx,[]),xi(1073742336,vE,vE,[]),xi(1073742336,wx,wx,[]),xi(1073742336,qb,qb,[]),xi(1073742336,xE,xE,[[2,EE],[2,ac]]),xi(1073742336,Cx,Cx,[]),xi(1073742336,ay,ay,[]),xi(1073742336,py,py,[]),xi(1073742336,gy,gy,[]),xi(1073742336,my,my,[]),xi(1073742336,mg,mg,[]),xi(1073742336,Sx,Sx,[]),xi(1073742336,IE,IE,[]),xi(1073742336,Ex,Ex,[]),xi(1073742336,wE,wE,[]),xi(1073742336,xx,xx,[]),xi(1073742336,Tx,Tx,[]),xi(1073742336,kx,kx,[]),xi(1073742336,Ix,Ix,[]),xi(1073742336,Ox,Ox,[]),xi(1073742336,NE,NE,[]),xi(1073742336,ox,ox,[]),xi(1073742336,ux,ux,[]),xi(1073742336,cx,cx,[]),xi(1073742336,Px,Px,[]),xi(1073742336,Rx,Rx,[]),xi(1073742336,Dx,Dx,[]),xi(1073742336,Ax,Ax,[]),xi(1073742336,hx,hx,[]),xi(1073742336,fx,fx,[]),xi(1073742336,Nx,Nx,[]),xi(1073742336,Lx,Lx,[]),xi(1073742336,Fx,Fx,[]),xi(1073742336,wp,wp,[]),xi(1073742336,Mx,Mx,[]),xi(1073742336,Vx,Vx,[]),xi(1073742336,zx,zx,[]),xi(1073742336,jx,jx,[]),xi(1073742336,Hx,Hx,[]),xi(1073742336,al,al,[]),xi(256,Cf,{apiKey:"AIzaSyCeeLRPi_bSSouxqODE-VdvxUUQaiixtbo",authDomain:"ionic-project-4327c.firebaseapp.com",databaseURL:"https://ionic-project-4327c.firebaseio.com",projectId:"ionic-project-4327c",storageBucket:"ionic-project-4327c.appspot.com",messagingSenderId:"741641947952"},[]),xi(256,Sf,void 0,[]),xi(256,Te,!0,[]),xi(256,jS,"BrowserAnimations",[]),xi(256,$v,"XSRF-TOKEN",[]),xi(256,Qv,"X-XSRF-TOKEN",[])])}));(function(){if(Gt)throw new Error("Cannot enable prod mode after platform setup.");Qt=!1})(),Cc().bootstrapModuleFactory(Ux).catch(t=>console.error(t))},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("+7AZ"),r={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},s=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},l=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],r=0;r<t.length;r+=3){var s=t[r],o=r+1<t.length,l=o?t[r+1]:0,a=r+2<t.length,u=a?t[r+2]:0,c=(15&l)<<2|u>>6,h=63&u;a||(h=64,o||(c=64)),i.push(n[s>>2],n[(3&s)<<4|l>>4],n[c],n[h])}return i.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(l(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,i=0;n<t.length;){var r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){var s=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){var o=((7&r)<<18|(63&(s=t[n++]))<<12|(63&(l=t[n++]))<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(o>>10)),e[i++]=String.fromCharCode(56320+(1023&o))}else{s=t[n++];var l=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&l)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],r=0;r<t.length;){var s=n[t.charAt(r++)],o=r<t.length?n[t.charAt(r)]:0,l=++r<t.length?n[t.charAt(r)]:64,a=++r<t.length?n[t.charAt(r)]:64;if(++r,null==s||null==o||null==l||null==a)throw Error();i.push(s<<2|o>>4),64!==l&&(i.push(o<<4&240|l>>2),64!==a&&i.push(l<<6&192|a))}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){try{return a.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=c(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,i){n?e.reject(n):e.resolve(i),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,i))}},t}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function p(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}var f=function(t){function e(n,i){var r=t.call(this,i)||this;return r.code=n,r.name="FirebaseError",Object.setPrototypeOf(r,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(r,g.prototype.create),r}return i.__extends(e,t),e}(Error),g=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=e[0]||{},r=this.service+"/"+t,s=this.errors[t],o=s?m(s,i):"Error",l=this.serviceName+": "+o+" ("+r+").",a=new f(r,l),u=0,c=Object.keys(i);u<c.length;u++){var h=c[u];"_"!==h.slice(-1)&&(h in a&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),a[h]=i[h])}return a},t}();function m(t,e){return t.replace(y,(function(t,n){var i=e[n];return null!=i?String(i):"<"+n+"?>"}))}var y=/\{\$([^}]+)}/g;function _(t){return JSON.parse(t)}var v=function(t){var e={},n={},i={},r="";try{var s=t.split(".");e=_(u(s[0])||""),n=_(u(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch(o){}return{header:e,claims:n,data:i,signature:r}},b=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var i=0;i<16;i++)n[i]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(i=0;i<16;i++)n[i]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(i=16;i<80;i++)n[i]=4294967295&((h=n[i-3]^n[i-8]^n[i-14]^n[i-16])<<1|h>>>31);var r,s,o=this.chain_[0],l=this.chain_[1],a=this.chain_[2],u=this.chain_[3],c=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(r=u^l&(a^u),s=1518500249):(r=l^a^u,s=1859775393):i<60?(r=l&a|u&(l|a),s=2400959708):(r=l^a^u,s=3395469782);var h=(o<<5|o>>>27)+r+c+s+n[i]&4294967295;c=u,u=a,a=4294967295&(l<<30|l>>>2),l=o,o=h}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,i=0,r=this.buf_,s=this.inbuf_;i<e;){if(0===s)for(;i<=n;)this.compress_(t,i),i+=this.blockSize;if("string"==typeof t){for(;i<e;)if(r[s]=t.charCodeAt(i),++i,++s===this.blockSize){this.compress_(r),s=0;break}}else for(;i<e;)if(r[s]=t[i],++i,++s===this.blockSize){this.compress_(r),s=0;break}}this.inbuf_=s,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var i=0;for(n=0;n<5;n++)for(var r=24;r>=0;r-=8)t[i]=this.chain_[n]>>r&255,++i;return t},t}(),w=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var i,r=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,i=["next","error","complete"];n<i.length;n++){var r=i[n];if(r in t&&"function"==typeof t[r])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(i.next=C),void 0===i.error&&(i.error=C),void 0===i.complete&&(i.complete=C);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{r.finalError?i.error(r.finalError):i.complete()}catch(t){}})),this.observers.push(i),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(i){"undefined"!=typeof console&&console.error&&console.error(i)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function C(){}function S(t,e,n){var i="";switch(e){case 1:i=n?"first":"First";break;case 2:i=n?"second":"Second";break;case 3:i=n?"third":"Third";break;case 4:i=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+i+" argument "}e.CONSTANTS=r,e.Deferred=h,e.ErrorFactory=g,e.FirebaseError=f,e.MAX_VALUE_MILLIS=144e5,e.RANDOM_FACTOR=.5,e.Sha1=b,e.areCookiesEnabled=function(){return!(!navigator||!navigator.cookieEnabled)},e.assert=s,e.assertionError=o,e.async=function(t,e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=a,e.base64Decode=u,e.base64Encode=function(t){var e=l(t);return a.encodeByteArray(e,!0)},e.calculateBackoffMillis=function(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var i=e*Math.pow(n,t),r=Math.round(.5*i*(Math.random()-.5)*2);return Math.min(144e5,i+r)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new w(t,e);return n.subscribe.bind(n)},e.decode=v,e.deepCopy=function(t){return c(void 0,t)},e.deepExtend=c,e.errorPrefix=S,e.getUA=d,e.isAdmin=function(t){var e=v(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return d().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=d();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isIndexedDBAvailable=function(){return"indexedDB"in self&&null!=indexedDB},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},e.isNode=p,e.isNodeSdk=function(){return!0===r.NODE_CLIENT||!0===r.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isSafari=function(){return!p()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},e.isUWP=function(){return d().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=v(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=v(t).claims,n=Math.floor((new Date).getTime()/1e3),i=0,r=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?i=e.nbf:e.hasOwnProperty("iat")&&(i=e.iat),r=e.hasOwnProperty("exp")?e.exp:i+86400),!!n&&!!i&&!!r&&n>=i&&n<=r},e.issuedAtTime=function(t){var e=v(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=_,e.map=function(t,e,n){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},i=0,r=Object.entries(t);i<r.length;i++){var s=r[i];n(s[0],s[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);if(r>=55296&&r<=56319){var o=r-55296;i++,s(i<t.length,"Surrogate pair missing trail surrogate."),r=65536+(o<<10)+(t.charCodeAt(i)-56320)}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,i){var r;if(i<e?r="at least "+e:i>n&&(r=0===n?"none":"no more than "+n),r)throw new Error(t+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".")},e.validateCallback=function(t,e,n,i){if((!i||n)&&"function"!=typeof n)throw new Error(S(t,e,i)+"must be a valid function.")},e.validateContextObject=function(t,e,n,i){if((!i||n)&&("object"!=typeof n||null===n))throw new Error(S(t,e,i)+"must be a valid context object.")},e.validateIndexedDBOpenable=function(){return new Promise((function(t,e){try{var n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=window.indexedDB.open(i);r.onsuccess=function(){r.result.close(),n||window.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=function(){n=!1},r.onerror=function(){var t;e((null===(t=r.error)||void 0===t?void 0:t.message)||"")}}catch(s){e(s)}}))},e.validateNamespace=function(t,e,n,i){if((!i||n)&&"string"!=typeof n)throw new Error(S(t,e,i)+"must be a valid firebase namespace.")}},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);